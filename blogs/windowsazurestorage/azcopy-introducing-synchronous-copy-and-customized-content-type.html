---
layout: windowsazurestorage
title: AzCopy – Introducing synchronous copy and customized content type
weight: 3
---

<div id="site-content" class="site-content row">

	<div id="primary" class="content-area col-sm-9">
		<div id="single-content" class="div-content">

			
				
<article id="post-179" class="post-179 post type-post status-publish format-standard hentry category-uncategorized tag-azcopy">

	<header class="entry-header single">
		<h1 class="entry-title">AzCopy &ndash; Introducing synchronous copy and customized content type</h1>		<div class="rating-wrap">
		<div id="star-rating-179" class="wds-ratings" data-rating="0" data-userrating="0" data-postid="179" data-container="body" data-toggle="tooltip" title="0 user(s) rated">
			<div class="wds-ratings-inner-wrap">
				<div>
					<div aria-label="Select 5 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="5"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span><span aria-hidden="true" class="star-5"><span>&#x2605;</span></span></div><div aria-label="Select 4 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="4"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span></div><div aria-label="Select 3 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="3"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span></div><div aria-label="Select 2 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="2"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span></div><div aria-label="Select 1 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="1"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span></div>
				</div>
			</div>
		</div>
		</div>		<div class="clear-both"></div>
		<div class="entry-meta">
			<img alt="avatar of windows-azure-storage" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-22 photo" height="22" width="22"/><span class="byline"><span class="author vcard"><a class="url fn n profile-usercard-hover" data-profile-userid="59e1aedafa2d4428b7004b2c2fac4adc" href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage">Windows Azure Storage</a></span></span><span class="posted-on posted-on-margin"><span class="screen-reader-text"></span><time class="entry-date published updated" datetime="2015-01-13T00:10:00+00:00">January 13, 2015</time></span><span class="comments-link"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/#comments">7</a></span>				<span class="social-icons-wrap">
		<ul class="social-icons">
			<li><div class="fb-share-button" data-href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/&amp;src=sdkpreparse">Share</a></div></li>
			<div id="fb-root" style="display:none"></div>

			<li class="social-icon twitter"><a data-social="{&quot;type&quot;:&quot;twitter&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/&quot;, &quot;text&quot;: &quot;AzCopy – Introducing synchronous copy and customized content type&quot;}" href="#" id="post_tweet_count">0</a></li>
			<li class="social-icon linkedin"><a data-social="{&quot;type&quot;:&quot;linkedin&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/&quot;, &quot;text&quot;: &quot;AzCopy – Introducing synchronous copy and customized content type&quot;}" href="#" id="get_post_linkedin_count">0</a></li>
		</ul>
	</span><!-- .social-icons-wrap -->
	<script type="text/javascript">
		// Get social counts
		jQuery( window ).load(function () {
			jQuery.getScript('https://blogs.msdn.microsoft.com/windowsazurestorage/wp-content/themes/microsoft/js/social-counts.js?ver=02092017')
				.done(function(script,textStatus) {
					window.msdnsocial.ajax('https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/');
				});
		});
	</script>
		</div>
		<hr>
	</header><!-- .entry-header -->

	<div class="entry-content single">
		<p>We are pleased to announce that <a href="https://aka.ms/downloadazcopy" target="_blank">AzCopy 3.1.0</a> and <a href="https://aka.ms/downloadazcopypr" target="_blank">4.1.0-Preview</a> are now released! These two versions include the support for the synchronous copy and content type customization.</p>
<h2>AzCopy 3.1.0 (Release Version)</h2>
<ul>
<li>AzCopy by default uses the asynchronous copy mechanism of the storage service to move data between two storage endpoints. As such, the copying of data will run in the background using spare bandwidth capacity that has no SLA in terms of how fast a blob will be copied, and AzCopy will periodically check the copy status until the copying is completed or failed. With the new option /SyncCopy in the 3.1.0 release, the copying of data will get consistent speed. AzCopy does it by downloading the blobs from the source storage endpoint to local memory and then upload them to the destination storage endpoint.</li>
</ul>
<blockquote>
<p><em>AzCopy /Source:https://myaccount1.blob.core.windows.net/myContainer/ /Dest:https://myaccount2.blob.core.windows.net/myContainer/ <br/></em><em>/SourceKey:key1 /DestKey:key2 /Pattern:ab <strong>/SyncCopy</strong></em></p>
</blockquote>
<blockquote>
<p>Note that /SyncCopy might generate additional egress cost comparing to asynchronous copy, the recommended approach is to use this option in the Azure VM which is in the same region as your source storage account to avoid egress cost.</p>
</blockquote>
<ul>
<li>AzCopy uses &ldquo;application/octet-stream&rdquo; as the destination blobs&rsquo; content type by default, from version 3.1.0, you can specify the content type via the option /SetContentType:[content-type].</li>
</ul>
<blockquote>
<p><em>AzCopy /Source:D:\test\ /Dest:https://myaccount.blob.core.windows.net/myContainer/ /DestKey:key /Pattern:ab <strong>/SetContentType <br/></strong></em><em>AzCopy /Source:D:\test\ /Dest:https://myaccount.blob.core.windows.net/myContainer/ /DestKey:key /Pattern:ab <strong>/SetContentType:video/mp4</strong></em></p>
</blockquote>
<blockquote>
<p>If "Content-Type" is not specified at the /SetContentType option, AzCopy will set each blob&rsquo;s content type according to its file extension. To set the same content type for all the blobs, you must explicitly specify a value for &ldquo;Content-Type", for example, /SetContentType:video/mp4.</p>
</blockquote>
<blockquote>
<p>Note that this option is only applicable when uploading blobs to the storage end points.</p>
</blockquote>
<p>&nbsp;&nbsp;</p>
<h2>AzCopy 4.1.0-preview (Preview Version)</h2>
<p>AzCopy 4.1.0-Preview includes all the features in the release version 3.1.0 and adds the following enhancements:</p>
<ul>
<li>User can specify option /SyncCopy in the following scenarios:
<ul>
<li>Copying From File storage to Blob storage</li>
<li>Copying From Blob storage to File storage</li>
<li>Copying From File storage to File storage</li>
</ul>
</li>
<li>User can specify destination storage files&rsquo; content type.</li>
</ul>
<blockquote>
<p><em>AzCopy /Source:D:\test\ /Dest:https://myaccount.<strong>file</strong>.core.windows.net/myContainer/ /DestKey:key /Pattern:ab <strong>/SetContentType:video/mp4</strong></em></p>
</blockquote>
<blockquote>
<p>Note that this option is only applicable when uploading blobs or files to the storage end points.</p>
</blockquote>
<p>As always, we are looking forward to your feedback.</p>
<p>Microsoft Azure Storage Team</p>
	</div><!-- .entry-content -->


	<footer class="entry-footer single">
					<div class="tags">
				<span>Tags </span>
				<span>
					<a href="https://blogs.msdn.microsoft.com/windowsazurestorage/tag/azcopy/" rel="tag">AzCopy</a>				</span>
			</div>
				<hr>
	</footer><!-- .entry-footer -->

</article><!-- #post-## -->

			
		</div><!-- #single-content -->

		
<div id="comments" class="comments-area">
	<div class="comments-title">
		Comments (7)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2015%2F01%2F13%2Fazcopy-introducing-synchronous-copy-and-customized-content-type%2F">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-584">
				<div id="div-comment-584" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Kclien</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/#comment-584">
			January 14, 2015 at 12:46 am</a>		</div>

		<p>Hello,</p>
<p>Could I download entire blob to local disk</p>
<p>I have a lot Container so maybe it support?</p>
<p>like AzCopy.exe /Source:<a rel="nofollow" target="_new" href="https://mystorage.blob.core.windows.net/">mystorage.blob.core.windows.net</a>*/ /Dest:D:Azure /SourceKey:&quot;&quot; /S /XO /Z /MT</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2015%2F01%2F13%2Fazcopy-introducing-synchronous-copy-and-customized-content-type%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-585">
				<div id="div-comment-585" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Scott</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/#comment-585">
			January 14, 2015 at 9:30 am</a>		</div>

		<p>Thanks for the enhancements! Are there any plans to eventually release AzCopy as an API &#8211; or open source the code? It would be nice to programmatically interact with this utility.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2015%2F01%2F13%2Fazcopy-introducing-synchronous-copy-and-customized-content-type%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-586">
				<div id="div-comment-586" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/62c5e9ef4fbe258becc84f2fd2a9e6f7?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/62c5e9ef4fbe258becc84f2fd2a9e6f7?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">shah.vinay@live.com</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/#comment-586">
			January 14, 2015 at 10:08 am</a>		</div>

		<p>Hi Scott, thanks for the feedback. We do have plans to release AzCopy functionality as an API and open source the code but no timelines to share at this point.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2015%2F01%2F13%2Fazcopy-introducing-synchronous-copy-and-customized-content-type%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-zac-yang-msft odd alt thread-odd thread-alt depth-1" id="comment-589">
				<div id="div-comment-589" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Zac+Yang+-+MSFT&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn"><a href="https://social.msdn.microsoft.com/profile/Zac+Yang+-+MSFT" rel="external nofollow" class="url">Zac Yang - MSFT</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/#comment-589">
			January 14, 2015 at 4:03 pm</a>		</div>

		<p>Hi Kclien, </p>
<p>By “download entire blob”, do you mean “download entire storage account”? Currently AzCopy does not support copying contents of multiple containers using single command but it should easy to script it out, like listing out all containers by Azure PowerShell and pipeline into AzCopy arguments.</p>
<p>In another way, you can download a specific blob to local disk using AzCopy. Sample command to copy a blob to local drive: </p>
<p>AzCopy /Source:<a rel="nofollow" target="_new" href="https://myaccount.blob.core.windows.net/mycontainer">myaccount.blob.core.windows.net/mycontainer</a> /Dest:C:myfolder /SourceKey:key /Pattern:abc.txt</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2015%2F01%2F13%2Fazcopy-introducing-synchronous-copy-and-customized-content-type%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-823">
				<div id="div-comment-823" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">vipasane</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/#comment-823">
			March 11, 2015 at 9:03 am</a>		</div>

		<p>Have you made some changes since now it is fast (max 13MB/sec) but not as fast as it used to be.</p>
<p>Previously (at the end of last year) 400GB of vhds took like 2 seconds. From subscription to subscription within North Europe datacenter. </p>
<p>Now it is taking several hours. </p>
<p>Just saying, that previously it was very handy to copy base images (VHDs) from developer to developer.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2015%2F01%2F13%2Fazcopy-introducing-synchronous-copy-and-customized-content-type%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-883">
				<div id="div-comment-883" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/f527dc4c66d7710c4aff670cbd0c7223?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f527dc4c66d7710c4aff670cbd0c7223?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Zhiming Yuan - Microsoft</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/#comment-883">
			March 16, 2015 at 9:14 pm</a>		</div>

		<p>Hi Vipasane, </p>
<p>There is no change on AzCopy side to reduce the copy speed. The copy command will perform differently when copying within a storage account vs across storage accounts &#8211; can you confirm if that was the difference between the two scenarios. And as an fyi, there is no SLA for how fast the server side asynchronous copy will be.</p>
<p>Zhiming</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2015%2F01%2F13%2Fazcopy-introducing-synchronous-copy-and-customized-content-type%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-923">
				<div id="div-comment-923" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Byron</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/01/13/azcopy-introducing-synchronous-copy-and-customized-content-type/#comment-923">
			March 29, 2015 at 4:31 am</a>		</div>

		<p>Like Kclien, I have the need to frequently copy entire storage accounts which consist of a large number of containers (a few hundred).</p>
<p>While it&#39;s relatively easy to script this out (and I have), it&#39;s painfully slow. The cost of starting a new process per container and the lack of multi-threading blob copies across containers (lots of containers&#8230;few blobs) makes copies that should take minutes result in hours.</p>
<p>The ability to multi-thread the copy process across an entire storage account would be an incredibly useful addition.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2015%2F01%2F13%2Fazcopy-introducing-synchronous-copy-and-customized-content-type%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
	
</div><!-- .comments-area -->
	</div><!-- #primary -->