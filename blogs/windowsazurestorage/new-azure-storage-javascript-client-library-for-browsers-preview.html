---
layout: windowsazurestorage
title: New Azure Storage JavaScript client library for browsers – Preview
weight: 3
---

<div id="site-content" class="site-content row">

	<div id="primary" class="content-area col-sm-9">
		<div id="single-content" class="div-content">

			
				
<article id="post-1865" class="post-1865 post type-post status-publish format-standard hentry category-uncategorized">

	<header class="entry-header single">
		<h1 class="entry-title">New Azure Storage JavaScript client library for browsers &#8211; Preview</h1>		<div class="rating-wrap">
		<div id="star-rating-1865" class="wds-ratings" data-rating="0" data-userrating="0" data-postid="1865" data-container="body" data-toggle="tooltip" title="0 user(s) rated">
			<div class="wds-ratings-inner-wrap">
				<div>
					<div aria-label="Select 5 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="5"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span><span aria-hidden="true" class="star-5"><span>&#x2605;</span></span></div><div aria-label="Select 4 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="4"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span></div><div aria-label="Select 3 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="3"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span></div><div aria-label="Select 2 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="2"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span></div><div aria-label="Select 1 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="1"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span></div>
				</div>
			</div>
		</div>
		</div>		<div class="clear-both"></div>
		<div class="entry-meta">
			<img alt="avatar of windows-azure-storage" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-22 photo" height="22" width="22"/><span class="byline"><span class="author vcard"><a class="url fn n profile-usercard-hover" data-profile-userid="59e1aedafa2d4428b7004b2c2fac4adc" href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage">Windows Azure Storage</a></span></span><span class="posted-on posted-on-margin"><span class="screen-reader-text"></span><time class="entry-date published updated" datetime="2017-03-07T19:23:50+00:00">March 7, 2017</time></span><span class="comments-link"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2017/03/07/new-azure-storage-javascript-client-library-for-browsers-preview/#respond">0</a></span>				<span class="social-icons-wrap">
		<ul class="social-icons">
			<li><div class="fb-share-button" data-href="https://blogs.msdn.microsoft.com/windowsazurestorage/2017/03/07/new-azure-storage-javascript-client-library-for-browsers-preview/" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blogs.msdn.microsoft.com/windowsazurestorage/2017/03/07/new-azure-storage-javascript-client-library-for-browsers-preview/&amp;src=sdkpreparse">Share</a></div></li>
			<div id="fb-root" style="display:none"></div>

			<li class="social-icon twitter"><a data-social="{&quot;type&quot;:&quot;twitter&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2017/03/07/new-azure-storage-javascript-client-library-for-browsers-preview/&quot;, &quot;text&quot;: &quot;New Azure Storage JavaScript client library for browsers – Preview&quot;}" href="#" id="post_tweet_count">0</a></li>
			<li class="social-icon linkedin"><a data-social="{&quot;type&quot;:&quot;linkedin&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2017/03/07/new-azure-storage-javascript-client-library-for-browsers-preview/&quot;, &quot;text&quot;: &quot;New Azure Storage JavaScript client library for browsers – Preview&quot;}" href="#" id="get_post_linkedin_count">0</a></li>
		</ul>
	</span><!-- .social-icons-wrap -->
	<script type="text/javascript">
		// Get social counts
		jQuery( window ).load(function () {
			jQuery.getScript('https://blogs.msdn.microsoft.com/windowsazurestorage/wp-content/themes/microsoft/js/social-counts.js?ver=02092017')
				.done(function(script,textStatus) {
					window.msdnsocial.ajax('https://blogs.msdn.microsoft.com/windowsazurestorage/2017/03/07/new-azure-storage-javascript-client-library-for-browsers-preview/');
				});
		});
	</script>
		</div>
		<hr>
	</header><!-- .entry-header -->

	<div class="entry-content single">
		<p>Today we are announcing our newest library: <strong>Azure Storage Client Library for JavaScript</strong>. The demand for the Azure Storage Client Library for Node.js, as well as your <a href="https://feedback.azure.com/forums/217298-storage/suggestions/3088117-make-javascript-library-for-blobs-and-tables">feedback</a>, has encouraged us to work on a browser-compatible JavaScript library to enable web development scenarios with Azure Storage. With that, we are now releasing the preview of <a href="https://github.com/Azure/azure-storage-node#azure-storage-javascript-client-library-for-browsers">Azure Storage JavaScript Client Library for Browsers</a>.</p>
<h2>Enables web development scenarios</h2>
<p>The JavaScript Client Library for Azure Storage enables many web development scenarios using storage services like Blob, Table, Queue, and File, and is compatible with modern browsers. Be it a web-based gaming experience where you store state information in the Table service, uploading photos to a Blob account from a Mobile app, or an entire website backed with dynamic data stored in Azure Storage.</p>
<p>As part of this release, we have also reduced the footprint by packaging each of the service APIs in a separate JavaScript file. For instance, a developer who needs access to Blob storage only needs to require the following scripts:<br/>
<code><br/>
&lt;script type=”javascript/text” src=”azure-storage.common.js”/&gt;<br/>
&lt;script type=”javascript/text” src=”azure-storage.blob.js”/&gt;<br/>
</code></p>
<h2>Full service coverage</h2>
<p>The new JavaScript Client Library for Browsers supports all the storage features available in the latest REST API version 2016-05-31 since it is built with <a href="http://browserify.org/">Browserify</a> using the Azure Storage Client Library for Node.js. All the service features you would find in our Node.js library are supported. You can also use the existing API surface, and the <a href="http://azure.github.io/azure-storage-node/">Node.js Reference API documents</a> to build your app!</p>
<h2>Built with Browserify</h2>
<p>Browsers today don’t support the <em>require </em>method, which is essential in every Node.js application. Hence, including a JavaScript written for Node.js won’t work in browsers. One of the popular solutions to this problem is Browserify. The Browserify tool bundles your required dependencies in a single JS file for you to use in web applications. It is as simple as installing Browserify and running <em>browserify node.js -o browser.js</em> and you are set. However, we have already done this for you. Simply download the <a href="https://aka.ms/downloadazurestoragejs">JavaScript Client Library</a>.</p>
<h2>Recommended development practices</h2>
<p>We highly recommend use of <a href="https://docs.microsoft.com/en-us/azure/storage/storage-dotnet-shared-access-signature-part-1">SAS tokens</a> to authenticate with Azure Storage since the JavaScript Client Library will expose the authentication token to the user in the browser. A SAS token with limited scope and time is highly recommended. In an ideal web application it is expected that the backend application will authenticate users when they log on, and will then provide a SAS token to the client for authorizing access to the Storage account. This removes the need to authenticate using an account key. Check out the <a href="https://github.com/Azure-Samples/functions-node-sas-token">Azure Function sample</a> in our Github repository that generates a SAS token upon an HTTP POST request.</p>
<p>Use of the stream APIs are highly recommended due to the browser sandbox that blocks users from accessing the local filesystem. This makes the stream APIs like <em>getBlobToLocalFile</em>, <em>createBlockBlobFromLocalFile</em> unusable in browsers. See the samples in the link below that use <em>createBlockBlobFromStream</em> API instead.</p>
<h2>Sample usage</h2>
<p>Once you have a web app that can generate a limited scope SAS Token, the rest is easy! Download the JavaScript files from the repository on <a href="https://github.com/Azure/azure-storage-node/#azure-storage-javascript-client-library-for-browsers">Github</a> and include in your code.</p>
<p>Here is a simple sample that can upload a blob from a given text:</p>
<p>1. Insert the following script tags in your HTML code. Make sure the JavaScript files located in the same folder.<br/>
<code><br/>
&lt;script src="azure-storage.common.js"&gt;&lt;/script/&gt;<br/>
&lt;script src="azure-storage.blob.js"&gt;&lt;/script/&gt;<br/>
</code><br/>
2. Let’s now add a few items to the page to initiate the transfer. Add the following tags inside the BODY tag. Notice that the button calls uploadBlobFromText method when clicked. We will define this method in the next step.<br/>
<code><br/>
&lt;input type="text" id="text" name="text" value="Hello World!" /&gt;<br/>
&lt;button id="upload-button" onclick="uploadBlobFromText()"&gt;Upload&lt;/button&gt;<br/>
</code><br/>
3. So far, we have included the client library and added the HTML code to show the user a text input and a button to initiate the transfer. When the user clicks on the upload button, uploadBlobFromText will be called. Let’s define that now:<br/>
<code><br/>
&lt;script&gt;<br/>
function uploadBlobFromText() {<br/>
// your account and SAS information<br/>
var sasKey ="....";<br/>
var blobUri = "http://&lt;accountname&gt;.blob.core.windows.net";<br/>
var blobService = AzureStorage.createBlobServiceWithSas(blobUri, sasKey).withFilter(new AzureStorage.ExponentialRetryPolicyFilter());<br/>
var text = document.getElementById('text');<br/>
var btn = document.getElementById("upload-button");<br/>
blobService.createBlockBlobFromText('mycontainer', 'myblob', text.value,  function(error, result, response){<br/>
if (error) {<br/>
alert('Upload filed, open browser console for more detailed info.');<br/>
console.log(error);<br/>
} else {<br/>
alert('Upload successfully!');<br/>
}<br/>
});<br/>
}<br/>
&lt;/script&gt;<br/>
</code><br/>
Of course, it is not that common to upload blobs from text. See the following samples for uploading from stream as well as a sample for progress tracking.</p>
<p>•    <a href="https://dmrelease.blob.core.windows.net/azurestoragejssample/samples/sample-blob.html">JavaScript Sample for Blob</a><br/>
•    <a href="https://dmrelease.blob.core.windows.net/azurestoragejssample/samples/sample-queue.html">JavaScript Sample for Queue</a><br/>
•    <a href="https://dmrelease.blob.core.windows.net/azurestoragejssample/samples/sample-table.html">JavaScript Sample for Table</a><br/>
•    <a href="https://dmrelease.blob.core.windows.net/azurestoragejssample/samples/sample-file.html">JavaScript Sample for File</a></p>
<h2>Share</h2>
<p>Finally, join our <a href="https://azurestorageslack.azurewebsites.net/">Slack channel</a> to share with us your scenarios, issues, or anything, really. We’ll be there to help!</p>
	</div><!-- .entry-content -->


	<footer class="entry-footer single">
				<hr>
	</footer><!-- .entry-footer -->

</article><!-- #post-## -->

			
		</div><!-- #single-content -->

		
<div id="comments" class="comments-area">
	<div class="comments-title">
		Comments (0)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://blogs.msdn.microsoft.com/windowsazurestorage/2017/03/07/new-azure-storage-javascript-client-library-for-browsers-preview/#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2017%2F03%2F07%2Fnew-azure-storage-javascript-client-library-for-browsers-preview%2F">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
	
	
</div><!-- .comments-area -->
	</div><!-- #primary -->