---
layout: windowsazurestorage
title: Windows Azure Storage Analytics
weight: 3
---

<div id="site-content" class="site-content row">

	<div id="primary" class="content-area col-sm-9">
		<div id="single-content" class="div-content">

			
				
<article id="post-57" class="post-57 post type-post status-publish format-standard hentry category-uncategorized tag-analytics-logging-metrics tag-releases">

	<header class="entry-header single">
		<h1 class="entry-title">Windows Azure Storage Analytics</h1>		<div class="rating-wrap">
		<div id="star-rating-57" class="wds-ratings" data-rating="5" data-userrating="0" data-postid="57" data-container="body" data-toggle="tooltip" title="1 user(s) rated">
			<div class="wds-ratings-inner-wrap">
				<div>
					<div aria-label="Select 5 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="5"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span><span aria-hidden="true" class="star-5"><span>&#x2605;</span></span></div><div aria-label="Select 4 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="4"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span></div><div aria-label="Select 3 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="3"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span></div><div aria-label="Select 2 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="2"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span></div><div aria-label="Select 1 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="1"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span></div>
				</div>
			</div>
		</div>
		</div>		<div class="clear-both"></div>
		<div class="entry-meta">
			<img alt="avatar of windows-azure-storage" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-22 photo" height="22" width="22"/><span class="byline"><span class="author vcard"><a class="url fn n profile-usercard-hover" data-profile-userid="59e1aedafa2d4428b7004b2c2fac4adc" href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage">Windows Azure Storage</a></span></span><span class="posted-on posted-on-margin"><span class="screen-reader-text"></span><time class="entry-date published updated" datetime="2011-08-03T11:10:00+00:00">August 3, 2011</time></span><span class="comments-link"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2011/08/03/windows-azure-storage-analytics/#comments">2</a></span>				<span class="social-icons-wrap">
		<ul class="social-icons">
			<li><div class="fb-share-button" data-href="https://blogs.msdn.microsoft.com/windowsazurestorage/2011/08/03/windows-azure-storage-analytics/" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blogs.msdn.microsoft.com/windowsazurestorage/2011/08/03/windows-azure-storage-analytics/&amp;src=sdkpreparse">Share</a></div></li>
			<div id="fb-root" style="display:none"></div>

			<li class="social-icon twitter"><a data-social="{&quot;type&quot;:&quot;twitter&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2011/08/03/windows-azure-storage-analytics/&quot;, &quot;text&quot;: &quot;Windows Azure Storage Analytics&quot;}" href="#" id="post_tweet_count">0</a></li>
			<li class="social-icon linkedin"><a data-social="{&quot;type&quot;:&quot;linkedin&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2011/08/03/windows-azure-storage-analytics/&quot;, &quot;text&quot;: &quot;Windows Azure Storage Analytics&quot;}" href="#" id="get_post_linkedin_count">0</a></li>
		</ul>
	</span><!-- .social-icons-wrap -->
	<script type="text/javascript">
		// Get social counts
		jQuery( window ).load(function () {
			jQuery.getScript('https://blogs.msdn.microsoft.com/windowsazurestorage/wp-content/themes/microsoft/js/social-counts.js?ver=02092017')
				.done(function(script,textStatus) {
					window.msdnsocial.ajax('https://blogs.msdn.microsoft.com/windowsazurestorage/2011/08/03/windows-azure-storage-analytics/');
				});
		});
	</script>
		</div>
		<hr>
	</header><!-- .entry-header -->

	<div class="entry-content single">
		<p><span style="font-size: medium;"><strong></strong></span>&nbsp;</p>
<p><em><span style="font-size: medium;"><strong>Update: You can now configure your logging and metrics via the portal as <a title="described here" href="http://www.windowsazure.com/en-us/manage/services/storage/how-to-monitor-a-storage-account/">described here</a>.</strong></span></em></p>
<p>&nbsp;</p>
<p>Windows Azure Storage Analytics offers you the ability to track, analyze, and debug your usage of storage(Blobs, Tables and Queues). You can use this data to analyze storage usage to improve the design of your applications and their access patterns to Windows Azure Storage. Analytics data consists of:</p>
<ul>
<li>Logs
<ul>
<li>Provide trace of executed requests for your storage accounts</li>
</ul>
</li>
<li>Metrics
<ul>
<li>Provide summary of key capacity and request statistics for Blobs, Tables and Queues</li>
</ul>
</li>
</ul>
<h3>Logs</h3>
<p>This feature provides a trace of all executed requests for your storage accounts as <a href="http://msdn.microsoft.com/en-us/library/ee691964.aspx">block blobs</a> in a special container called $logs. Each log entry in the blob corresponds to a request made to the service and contains information like request id, request URL, http status of the request, requestor account name, owner account name,&nbsp; server side latency, E2E latency, source IP address for the request etc.</p>
<p>This data now empowers you to analyze your requests much more closely. It allows you to run the following types of analysis:</p>
<ul>
<li>How many anonymous requests is my application seeing from a given range of IP address?</li>
<li>Which containers are being accessed the most?</li>
<li>How many times is a particular <a href="http://msdn.microsoft.com/en-us/library/ee395415.aspx">SAS</a> URL being accessed and how?</li>
<li>Who issued the request to delete a container?</li>
<li>For a slow request &ndash;where is the time being consumed?</li>
<li>I got a network error, did the request reach the server?</li>
</ul>
<h3>Metrics</h3>
<p>Provide summary of key statistics for Blobs, Tables and Queues for a storage account. The statistics can be categorized as:</p>
<ul>
<li>Request information: Provides hourly aggregates of number of requests, average server side latency, average E2E latency, average bandwidth, total successful requests and total number of failures and more. These request aggregates are provided at a service level and per API level for APIs requested in that hour.&nbsp; This is available for Blob, Table and Queue service.</li>
<li>Capacity information: Provides daily statistics for the space consumed by the service, number of containers and number of objects that are stored in the service.&nbsp; Note, this is currently only provided for the Windows Azure Blob service.</li>
</ul>
<p>All Analytics Logs and Metrics data are stored in your user account and is accessible via normal <a href="http://msdn.microsoft.com/en-us/library/dd179355.aspx">Blob</a> and Table REST APIs. The logs and metrics can be accessed from a service running in Windows Azure or directly over the Internet from any application that can send and receive HTTP/HTTPS requests. You can opt in to store either the log data and/or metric data by invoking a REST API to turn on/off the feature at a per service level.&nbsp; Once the feature is turned on, the Windows Azure Storage stores analytics data in the storage account. Log data is stored as Windows Azure Blobs in a special blob container and metrics data is stored in special tables in Windows Azure Tables. To ease the management of this data, we have provided the ability to set a retention policy that will automatically clean up your analytics blob and table data.</p>
<p>Please see the following links for more information:</p>
<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/hh343270.aspx">MSDN Documentation</a></li>
<li><a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2011/08/03/windows-azure-storage-logging-using-logs-to-track-storage-requests.aspx">Logging: Additional information and Coding Examples</a></li>
<li><a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2011/08/03/windows-azure-storage-metrics-using-metrics-to-track-storage-usage.aspx">Metrics: Additional information and Coding Examples</a></li>
</ul>
<p>Windows Azure Storage Team</p>
	</div><!-- .entry-content -->


	<footer class="entry-footer single">
					<div class="tags">
				<span>Tags </span>
				<span>
					<a href="https://blogs.msdn.microsoft.com/windowsazurestorage/tag/analytics-logging-metrics/" rel="tag">Analytics - Logging &amp; Metrics</a> <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/tag/releases/" rel="tag">Releases</a>				</span>
			</div>
				<hr>
	</footer><!-- .entry-footer -->

</article><!-- #post-## -->

			
		</div><!-- #single-content -->

		
<div id="comments" class="comments-area">
	<div class="comments-title">
		Comments (2)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://blogs.msdn.microsoft.com/windowsazurestorage/2011/08/03/windows-azure-storage-analytics/#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2011%2F08%2F03%2Fwindows-azure-storage-analytics%2F">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-101">
				<div id="div-comment-101" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Richard</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2011/08/03/windows-azure-storage-analytics/#comment-101">
			August 12, 2011 at 5:56 am</a>		</div>

		<p>Will storage analytics and metrics get tracked for hits against the CDN, or only against an actual storage account? e.g. if a request can be served from the CDN and doesn&#39;t require a refresh, would I see anything in the logs, or only if the CDN actually had to fetch the blob?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2011%2F08%2F03%2Fwindows-azure-storage-analytics%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-103">
				<div id="div-comment-103" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/a79a1b675acd535552dd5817613979ab?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a79a1b675acd535552dd5817613979ab?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">shop.calder@hotmail.com</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2011/08/03/windows-azure-storage-analytics/#comment-103">
			August 16, 2011 at 8:14 pm</a>		</div>

		<p>@Richard</p>
<p>When the Azure CDN access your storage account (e.g., when the TTL expires), that request will be logged inside of the storage account. &nbsp;The hits at the Azure CDN edges are not logged as part of the storage account (only the requests that directly hit the storage account). &nbsp; So you won’t see logging/metrics for Azure CDN hits as part of the storage account’s logging/metrics. &nbsp;Note, the Azure CDN team is looking at providing logging for requests coming into Azure CDN in the future.</p>
<p>Brad</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2011%2F08%2F03%2Fwindows-azure-storage-analytics%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
	
</div><!-- .comments-area -->
	</div><!-- #primary -->