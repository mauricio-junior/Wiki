---
layout: windowsazurestorage
title: Introducing Windows Azure Storage Client Library 2.0 for .NET and Windows Runtime
weight: 3
---

<div id="site-content" class="site-content row">

	<div id="primary" class="content-area col-sm-9">
		<div id="single-content" class="div-content">

			
				
<article id="post-110" class="post-110 post type-post status-publish format-standard hentry category-uncategorized tag-releases tag-windows-azure-storage-client-library">

	<header class="entry-header single">
		<h1 class="entry-title">Introducing Windows Azure Storage Client Library 2.0 for .NET and Windows Runtime</h1>		<div class="rating-wrap">
		<div id="star-rating-110" class="wds-ratings" data-rating="5" data-userrating="0" data-postid="110" data-container="body" data-toggle="tooltip" title="1 user(s) rated">
			<div class="wds-ratings-inner-wrap">
				<div>
					<div aria-label="Select 5 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="5"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span><span aria-hidden="true" class="star-5"><span>&#x2605;</span></span></div><div aria-label="Select 4 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="4"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span></div><div aria-label="Select 3 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="3"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span></div><div aria-label="Select 2 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="2"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span></div><div aria-label="Select 1 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="1"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span></div>
				</div>
			</div>
		</div>
		</div>		<div class="clear-both"></div>
		<div class="entry-meta">
			<img alt="avatar of windows-azure-storage" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-22 photo" height="22" width="22"/><span class="byline"><span class="author vcard"><a class="url fn n profile-usercard-hover" data-profile-userid="59e1aedafa2d4428b7004b2c2fac4adc" href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage">Windows Azure Storage</a></span></span><span class="posted-on posted-on-margin"><span class="screen-reader-text"></span><time class="entry-date published updated" datetime="2012-10-29T01:00:00+00:00">October 29, 2012</time></span><span class="comments-link"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comments">12</a></span>				<span class="social-icons-wrap">
		<ul class="social-icons">
			<li><div class="fb-share-button" data-href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/&amp;src=sdkpreparse">Share</a></div></li>
			<div id="fb-root" style="display:none"></div>

			<li class="social-icon twitter"><a data-social="{&quot;type&quot;:&quot;twitter&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/&quot;, &quot;text&quot;: &quot;Introducing Windows Azure Storage Client Library 2.0 for .NET and Windows Runtime&quot;}" href="#" id="post_tweet_count">0</a></li>
			<li class="social-icon linkedin"><a data-social="{&quot;type&quot;:&quot;linkedin&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/&quot;, &quot;text&quot;: &quot;Introducing Windows Azure Storage Client Library 2.0 for .NET and Windows Runtime&quot;}" href="#" id="get_post_linkedin_count">0</a></li>
		</ul>
	</span><!-- .social-icons-wrap -->
	<script type="text/javascript">
		// Get social counts
		jQuery( window ).load(function () {
			jQuery.getScript('https://blogs.msdn.microsoft.com/windowsazurestorage/wp-content/themes/microsoft/js/social-counts.js?ver=02092017')
				.done(function(script,textStatus) {
					window.msdnsocial.ajax('https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/');
				});
		});
	</script>
		</div>
		<hr>
	</header><!-- .entry-header -->

	<div class="entry-content single">
		<p>Today we are releasing version 2.0 of the Windows Azure Storage Client Library. This is our largest update to our .NET library to date which includes new features, broader platform compatibility, and revisions to address the great feedback you&rsquo;ve given us over time. The code is available on <a href="https://github.com/WindowsAzure/azure-sdk-for-net">GitHub</a> now. The libraries are also available through <a href="http://nuget.org/packages/WindowsAzure.Storage">NuGet</a>, and also included in the Windows Azure SDK for .NET - October 2012; for more information and links see below. In addition to the .NET 4.0 library, we are also releasing two libraries for Windows Store apps as Community Technology Preview (CTP) that fully supports the Windows Runtime platform and can be used to build modern Windows Store apps for both Windows RT (which supports ARM based systems), and Windows 8, which runs in any of the languages supported by Windows Store apps (JavaScript, C++, C#, and Visual Basic). This blog post serves as an overview of these libraries and covers some of the implementation details that will be helpful to understand when developing cloud applications in .NET regardless of platform.</p>
<h4>What&rsquo;s New</h4>
<p>We have introduced a number of new features in this release of the Storage Client Library including:</p>
<ul>
<li><b>Simplicity and Usability</b> - A greatly simplified API surface which will allow developers new to storage to get up and running faster while still providing the extensibility for developers who wish to customize the behavior of their applications beyond the default implementation.</li>
<li><b>New Table Implementation</b> - An entirely new Table Service implementation which provides a simple interface that is optimized for low latency/high performance workloads, as well as providing a more extensible serialization model to allow developers more control over their data.</li>
<li><b>Rich debugging and configuration capabilities</b> &ndash; One common piece of feedback we receive is that it&rsquo;s too difficult to know what happened &ldquo;under the covers&rdquo; when making a call to the storage service. How many retries were there? What were the error codes? The OperationContext object provides rich debugging information, real-time status events for parallel and complex actions, and extension points allowing users the ability to customize requests or enable end to end client tracing</li>
<li><b>Windows Runtime Support</b> - A Windows Runtime component with support for developing Windows Store apps using JavaScript, C++,C#, and Visual Basic; as well as a Strong Type Tables Extension library for C++, C#, and Visual Basic</li>
<li><b>Complete Sync and Asynchronous Programming Model (APM) implementation</b> - A complete Synchronous API for .Net 4.0. Previous releases of the client implemented synchronous methods by simply surrounding the corresponding APM methods with a ManualResetEvent, this was not ideal as extra threads remained blocked during execution. In this release all synchronous methods will complete work on the thread in which they are called with the notable exceptions of the stream implementations available via <i>Cloud[Page|Block]Blob.Open[Read|Write]</i>due to parallelism.</li>
<li><b>Simplified RetryPolicies</b> - Easy and reusable RetryPolicies</li>
<li><b>.NET Client Profile</b> &ndash; The library now supports the .NET Client Profile. For more on the .Net Client Profile see <a href="http://msdn.microsoft.com/en-us/library/cc656912(v=vs.100).aspx">here</a>.</li>
<li><b>Streamlined Authentication Model</b> - There is now a single StorageCredentials type that supports Anonymous, Shared Access Signature, and Account and Key authentication schemes</li>
<li><b>Consistent Exception Handling</b> - The library immediately will throw any exception encountered prior to making the request to the server. Any exception that occurs during the execution of the request will subsequently be wrapped inside a single StorageException type that wraps all other exceptions as well as providing rich information regarding the execution of the request.</li>
<li><b>API Clarity</b> - All methods that make requests to the server are clearly marked with the [DoesServiceRequest] attribute</li>
<li><b>Expanded Blob API</b> - Blob DownloadRange allows user to specify a given range of bytes to download rather than rely on a stream implementation</li>
<li><b>Blob download resume</b> - A feature that will issue a subsequent range request(s) to download only the bytes not received in the event of a loss of connectivity</li>
<li><b>Improved MD5</b> - Simplified MD5 behavior that is consistent across all client APIs</li>
<li><b>Updated Page Blob Implementation</b> - Full Page Blob implementation including read and write streams</li>
<li><b>Cancellation</b> - Support for Asynchronous Cancellation via the ICancellableAsyncResult. Note, this can be used with .NET CancellationTokens via the CancellationToken.Register() method.</li>
<li><b>Timeouts</b> - Separate client and server timeouts which support end to end timeout scenarios</li>
<li><b>Expanded Azure Storage Feature Support</b> &ndash; It supports the 2012-02-12 REST API version with implementation for for <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/new-blob-lease-features-infinite-leases-smaller-lease-times-and-more.aspx">Blob &amp; Container Leases</a>, <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/introducing-table-sas-shared-access-signature-queue-sas-and-update-to-blob-sas.aspx">Blob, Table, and Queue Shared Access Signatures</a>, and <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/introducing-asynchronous-cross-account-copy-blob.aspxhttp:/blogs.msdn.com/b/windowsazurestorage/archive/2012/06/12/introducing-asynchronous-cross-account-copy-blob.aspx">Asynchronous Cross-Account Copy Blob</a></li>
</ul>
<h4>Design</h4>
<p>When designing the new Storage Client for .NET and Windows Runtime, we set up a series of design guidelines to follow throughout the development process. In addition to these guidelines, there are some unique requirements when developing for Windows Runtime, and specifically when projecting into JavaScript, that has driven some key architectural decisions.</p>
<p>For example, our previous RetryPolicy was based on a delegate that the user could configure; however as this cannot be supported on all platforms we have redesigned the RetryPolicy to be a simple and consistent implementation everywhere. This change has also allowed us to simplify the interface in order to address user feedback regarding the complexity of the previous implementation. Now a user who constructs a custom RetryPolicy can re-use that same implementation across platforms.</p>
<h4>Windows Runtime</h4>
<p>A key driver in this release was expanding platform support, specifically targeting the upcoming releases of Windows 8, Windows RT, and Windows Server 2012. As such, we are releasing the following two Windows Runtime components to support Windows Runtime as Community Technology Preview (CTP):</p>
<ul>
<li><b>Microsoft.WindowsAzure.Storage.winmd</b> - A fully projectable storage client that supports JavaScript, C++, C#, and VB. This library contains all core objects as well as support for Blobs, Queues, and a base Tables Implementation consumable by JavaScript</li>
<li><b>Microsoft.WindowsAzure.Storage.Table.dll </b>&ndash; A table extension library that provides generic query support and strong type entities. This is used by non-JavaScript applications to provide strong type entities as well as reflection based serialization of POCO objects</li>
</ul>
<h4>Breaking Changes</h4>
<p>With the introduction of Windows 8, Windows RT, and Windows Server 2012 we needed to broaden the platform support of our current libraries. To meet this requirement we have invested significant effort in reworking the existing Storage Client codebase to broaden platform support, while also delivering new features and significant performance improvements (more details below). One of the primary goals in this version of the client libraries was to maintain a consistent API across platforms so that developer&rsquo;s knowledge and code could transfer naturally from one platform to another. As such, we have introduced some breaking changes from the previous version of the library to support this common interface. We have also used this opportunity to act on user feedback we have received via the forums and elsewhere regarding both the .Net library as well as the recently released <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2012/03/05/windows-azure-storage-client-for-java-overview.aspx">Windows Azure Storage Client Library for Java</a>. For existing users we will be posting an upgrade guide for breaking changes to this blog that describes each change in more detail.</p>
<p><b>Please note the new client is published under the same <a href="http://nuget.org/packages/WindowsAzure.Storage">NuGet</a> package as previous 1.x releases. As such, please check any existing projects as an automatic upgrade will introduce breaking changes.</b></p>
<h4>Additional Dependencies</h4>
<p>The new table implementation depends on three libraries (collectively referred to as ODataLib), which are resolved through the ODataLib (version 5.0.2) packages available through NuGet and not the WCF Data Services installer which currently contains 5.0.0 versions.&nbsp; The ODataLib libraries can be downloaded directly or referenced by your code project through NuGet.&nbsp; The specific ODataLib packages are:</p>
<p><a href="http://nuget.org/packages/Microsoft.Data.OData/5.0.2">http://nuget.org/packages/Microsoft.Data.OData/5.0.2</a></p>
<p><a href="http://nuget.org/packages/Microsoft.Data.Edm/5.0.2">http://nuget.org/packages/Microsoft.Data.Edm/5.0.2</a></p>
<p><a href="http://nuget.org/packages/System.Spatial/5.0.2">http://nuget.org/packages/System.Spatial/5.0.2</a></p>
<h4>Namespaces</h4>
<p>One particular breaking change of note is that the name of the assembly and root namespace has moved to <b>Microsoft.WindowsAzure</b>.<b>Storage</b> instead of <b>Microsoft.WindowsAzure</b>.<b>StorageClient</b>.<b> </b>In addition to aligning better with other Windows Azure service libraries this change allows developers to use the legacy 1.X versions of the library and the 2.0 release side-by-side as they migrate their applications. Additionally, each Storage Abstraction (Blob, Table, and Queue) has now been moved to its own sub-namespace to provide a more targeted developer experience and cleaner IntelliSense experience. For example the Blob implementation is located in <b>Microsoft.WindowsAzure.Storage.Blob</b><b>, </b>and all relevant protocol constructs are located in <b>Microsoft.WindowsAzure.Storage.Blob.Protocol</b>.</p>
<h4>Testing, stability, and engaging the open source community</h4>
<p>We are committed to providing a rock solid API that is consistent, stable, and reliable. In this release we have made significant progress in increasing test coverage as well as breaking apart large test scenarios into more targeted ones that are more consumable by the public.</p>
<p>Microsoft and Windows Azure are making great efforts to be as open and transparent as possible regarding the client libraries for our services. The source code for all the libraries can be downloaded via <a href="https://github.com/WindowsAzure/azure-sdk-for-net">GitHub </a> under the Apache 2.0 license. In addition we have provided over 450 new Unit Tests for the .Net 4.0 library alone. Now users who wish to modify the codebase have a simple and light weight way to validate their changes. It is also important to note that most of these tests run against the Storage Emulator that ships via the Windows Azure SDK for .NET allowing users to execute tests without incurring any usage on their storage accounts. We will also be providing a series of higher level scenarios and How-To&rsquo;s to get users up and running both simple and advanced topics relating to using Windows Azure Storage.</p>
<h4>Summary</h4>
<p>We have put a lot of work into providing a truly first class development experience for the .NET community to work with Windows Azure Storage. In addition to the content provided in these blog posts we will continue to release a series of additional blog posts which will target various features and scenarios in more detail, so check back soon. Hopefully you can see your past feedback reflected in this new library. We really do appreciate the feedback we have gotten from the community, so please keep it coming by leaving a comment below or participating on our forums.</p>
<p>Joe Giardino <br/>Serdar Ozler <br/>Justin Yu <br/>Veena Udayabhanu</p>
<p>Windows Azure Storage</p>
<h4>Resources</h4>
<p>Get the Windows Azure SDK for .Net</p>
<ul>
<li><a href="http://www.windowsazure.com/en-us/develop/net/">Download the Windows Azure SDK</a></li>
<li><a href="https://github.com/WindowsAzure/azure-sdk-for-net">Windows Azure SDK for .Net source code on GitHub</a></li>
<li><a href="http://nuget.org/packages/WindowsAzure.Storage">Nuget Package</a></li>
</ul>
	</div><!-- .entry-content -->


	<footer class="entry-footer single">
					<div class="tags">
				<span>Tags </span>
				<span>
					<a href="https://blogs.msdn.microsoft.com/windowsazurestorage/tag/releases/" rel="tag">Releases</a> <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/tag/windows-azure-storage-client-library/" rel="tag">Windows Azure Storage Client Library</a>				</span>
			</div>
				<hr>
	</footer><!-- .entry-footer -->

</article><!-- #post-## -->

			
		</div><!-- #single-content -->

		
<div id="comments" class="comments-area">
	<div class="comments-title">
		Comments (12)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-187">
				<div id="div-comment-187" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">satonaoki</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-187">
			November 4, 2012 at 12:19 am</a>		</div>

		<p>The link url of &quot;Asynchronous Cross-Account Copy Blob&quot; is invalid.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-226">
				<div id="div-comment-226" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">David</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-226">
			December 11, 2012 at 6:59 pm</a>		</div>

		<p>Thank you for your release. I am getting the following errors when submitting my WINRT app. to the Windows 8 store:</p>
<p>◦Type Microsoft.WindowsAzure.Storage.Core.NullType in file Microsoft.WindowsAzure.Storage.winmd is not sealed and does not have the ComposableAttribute. Unsealed types must have ComposableAttribute.</p>
<p>◦Type Microsoft.WindowsAzure.Storage.Queue.Protocol.QueueMessage in file Microsoft.WindowsAzure.Storage.winmd is not sealed and does not have the ComposableAttribute. Unsealed types must have ComposableAttribute.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-227">
				<div id="div-comment-227" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Serdar Ozler</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-227">
			December 11, 2012 at 10:17 pm</a>		</div>

		<p>@David &#8211; Thank you for reporting this issue. We apologize for the inconvenience. This is a known issue and the fix is already in testing. Storage Client Library 2.0.3 release that includes the fix will be released soon.</p>
<p>For more information on known issues, please refer to <a rel="nofollow" target="_new" href="http://blogs.msdn.com/b/windowsazurestorage/archive/2012/12/10/updated-known-issues-for-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime.aspx">blogs.msdn.com/&#8230;/updated-known-issues-for-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime.aspx</a></p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-237">
				<div id="div-comment-237" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Omair</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-237">
			January 14, 2013 at 4:58 am</a>		</div>

		<p>I am getting error</p>
<p>The remote server returned an error: (400) Bad Request </p>
<p>Here is my code</p>
<p> CloudTableClient tableClient;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;protected void Unnamed_Click(object sender, EventArgs e)</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var storageAccount = CloudStorageAccount.DevelopmentStorageAccount;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;tableClient = storageAccount.CreateCloudTableClient();</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CloudTable myTable = tableClient.GetTableReference(&quot;MyTable&quot;);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;myTable.CreateIfNotExists();</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TableOperation insertHuman = TableOperation.Insert(new Human() { Name=&quot;ABC&quot;,Age=23});</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;myTable.Execute(insertHuman);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TableQuery&lt;TableEntity&gt; query = new TableQuery&lt;TableEntity&gt;().Where(TableQuery.GenerateFilterCondition(&quot;RowKey&quot;, QueryComparisons.GreaterThanOrEqual, &quot;1&quot;)).Take(5);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p>and This is entity</p>
<p> public class Human:TableEntity </p>
<p> &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public string Name { get; set; }</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public int Age { get; set; }</p>
<p> &nbsp; &nbsp;}</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-239">
				<div id="div-comment-239" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/f8c91b72247788a0ac7da6fbcb22eb8e?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f8c91b72247788a0ac7da6fbcb22eb8e?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">roberme@umich.edu</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-239">
			January 14, 2013 at 11:06 am</a>		</div>

		<p>Hi Omair, you need to set the PartitionKey and RowKey properties of the entity before inserting it into a table. This is why you are seeing the 400 response.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-259">
				<div id="div-comment-259" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">omair</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-259">
			March 16, 2013 at 3:56 pm</a>		</div>

		<p>I m using Microsoft.WindowsAzure.Storage.dll, version 2.0 , runtime version v4.0.30319</p>
<p>We get Serialization Error</p>
<p>==========================</p>
<p>&lt;Error&gt;</p>
<p>&lt;Message&gt;An error has occurred.&lt;/Message&gt;</p>
<p>&lt;ExceptionMessage&gt;</p>
<p>The &#39;ObjectContent`1&#39; type failed to serialize the response body for content type &#39;application/xml; charset=utf-8&#39;.</p>
<p>&lt;/ExceptionMessage&gt;</p>
<p>&lt;ExceptionType&gt;System.InvalidOperationException&lt;/ExceptionType&gt;</p>
<p>&lt;StackTrace/&gt;</p>
<p>&lt;InnerException&gt;</p>
<p>&lt;Message&gt;An error has occurred.&lt;/Message&gt;</p>
<p>&lt;ExceptionMessage&gt;</p>
<p>Type &#39;Microsoft.WindowsAzure.Storage.Table.EntityProperty&#39; cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. If the type is a collection, consider marking it with the CollectionDataContractAttribute. See the Microsoft .NET Framework documentation for other supported types.</p>
<p>&lt;/ExceptionMessage&gt;</p>
<p>&lt;ExceptionType&gt;</p>
<p>System.Runtime.Serialization.InvalidDataContractException</p>
<p>&lt;/ExceptionType&gt;</p>
<p>&lt;/InnerException&gt;</p>
<p>&lt;/Error&gt;</p>
<p>and here is Our MOdel</p>
<p>========================</p>
<p> public &nbsp;class DomainEntity:TableEntity</p>
<p> &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;private DateTime _CreatedOn;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public DateTime CreatedOn</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;get { return _CreatedOn; }</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;set { _CreatedOn = value; }</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public DomainEntity() {_CreatedOn = DateTime.Now;}</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public string CreatedBy { get; set; }</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public DateTime? UpdatedOn { get; set; }</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public string UpdatedBy { get; set; }</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;private int _RowSate;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public int RowState{get { return _RowSate; }set { _RowSate = value; }}</p>
<p> &nbsp; &nbsp;}</p>
<p>public class Group :DomainEntity</p>
<p> &nbsp; &nbsp;{</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public Group(){}</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public Group(int groupId) </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;{ </p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.PartitionKey=&quot;GroupName&quot;;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this.RowKey = groupId.ToString();</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;}</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp;public string GroupName { get; set; }</p>
<p> &nbsp; &nbsp;}</p>
<p>And I USE ASP.net mvc 4 web api as web role</p>
<p>===========================================</p>
<p> public IQueryable&lt;DynamicTableEntity&gt; Get()</p>
<p> {</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TableQuery query = new TableQuery().Select(new List&lt;string&gt;() { &quot;CreatedBy&quot;, &quot;GroupName&quot; });</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var myTable = GetTableReference(&quot;Group&quot;);</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;List&lt;DynamicTableEntity&gt; L = new List&lt;DynamicTableEntity&gt;(); &nbsp;</p>
<p> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return myTable.ExecuteQuery(query).Select(x =&gt; x).AsQueryable&lt;DynamicTableEntity&gt;();</p>
<p>}</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-260">
				<div id="div-comment-260" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/f2923a77d45ac29d069430a6d810e51f?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f2923a77d45ac29d069430a6d810e51f?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">veena_udayabhanu@hotmail.com</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-260">
			March 19, 2013 at 6:47 pm</a>		</div>

		<p>Thanks for reporting this. We were able to repro this issue. Unfortunately, DynamicTableEntity is not currently serializable, but the POCO entities are. If you deserialize into an object that </p>
<p>derives from TableEntity then this should be serializable out of the box. If you want to do a truly heterogeneous query, you can use the EntityResolver to resolve to the appropriate type. You can find more info about this in our blog : <a rel="nofollow" target="_new" href="http://blogs.msdn.com/b/windowsazurestorage/archive/2012/11/06/windows-azure-storage-client-library-2-0-tables-deep-dive.aspx">blogs.msdn.com/&#8230;/windows-azure-storage-client-library-2-0-tables-deep-dive.aspx</a>. </p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-261">
				<div id="div-comment-261" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/f2923a77d45ac29d069430a6d810e51f?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f2923a77d45ac29d069430a6d810e51f?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">veena_udayabhanu@hotmail.com</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-261">
			March 19, 2013 at 10:50 pm</a>		</div>

		<p>FYI, a heterogeneous query is when you are dealing with different types being stored in the same table and returned as the query result.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-285">
				<div id="div-comment-285" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/8c620e6d8920938432627bb871ae33e3?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/8c620e6d8920938432627bb871ae33e3?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">larry@ldlsoftware.com</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-285">
			June 30, 2013 at 9:14 pm</a>		</div>

		<p>Hi there. &nbsp;Any tips on how to see if DevelopmentStorage is running (Windows Store App)? &nbsp;Any way for my App to start it?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-292">
				<div id="div-comment-292" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/f8c91b72247788a0ac7da6fbcb22eb8e?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f8c91b72247788a0ac7da6fbcb22eb8e?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">roberme@umich.edu</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-292">
			July 15, 2013 at 5:35 pm</a>		</div>

		<p>Hi Larry, the best way to see if the Storage Emulator is running is to try making an API call such as List Containers. To start the Storage Emulator, you’ll need to invoke the following command:</p>
<p> &nbsp; &nbsp;csrun.exe /devstore:start</p>
<p>Csrun.exe is distributed with the Windows Azure SDK (normally C:Program FilesMicrosoft SDKsWindows AzureEmulatorcsrun.exe). Note that the command for starting the emulator may change in future SDK releases.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-324">
				<div id="div-comment-324" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Ryan</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-324">
			September 13, 2013 at 10:52 am</a>		</div>

		<p>I like the new client library API, and I don&#39;t mind break changes on API signature. Just it won&#39;t work with local Windows Azure Simulator anymore. I get &quot;No valid combination of account information found&quot; when try to parse StorageConnectionString with usedevelopmentstorage=true. </p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-326">
				<div id="div-comment-326" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/f2923a77d45ac29d069430a6d810e51f?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f2923a77d45ac29d069430a6d810e51f?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">veena_udayabhanu@hotmail.com</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2012/10/29/introducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime/#comment-326">
			September 16, 2013 at 10:41 am</a>		</div>

		<p>Hey Ryan,</p>
<p>Thanks for the feedback. The string is case sensitive currently and hence you should use &quot;UseDevelopmentStorage=true&quot;. Sorry for the inconvenience. We will take it as a feature request to relax this restriction in a future release.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2012%2F10%2F29%2Fintroducing-windows-azure-storage-client-library-2-0-for-net-and-windows-runtime%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
	
</div><!-- .comments-area -->
	</div><!-- #primary -->