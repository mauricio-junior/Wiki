---
layout: windowsazurestorage
title: Understanding Windows Azure Storage Billing – Bandwidth, Transactions, and Capacity
weight: 3
---

<div id="site-content" class="site-content row">

	<div id="primary" class="content-area col-sm-9">
		<div id="single-content" class="div-content">

			
				
<article id="post-34" class="post-34 post type-post status-publish format-standard hentry category-uncategorized tag-billing">

	<header class="entry-header single">
		<h1 class="entry-title">Understanding Windows Azure Storage Billing &ndash; Bandwidth, Transactions, and Capacity</h1>		<div class="rating-wrap">
		<div id="star-rating-34" class="wds-ratings" data-rating="5" data-userrating="0" data-postid="34" data-container="body" data-toggle="tooltip" title="1 user(s) rated">
			<div class="wds-ratings-inner-wrap">
				<div>
					<div aria-label="Select 5 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="5"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span><span aria-hidden="true" class="star-5"><span>&#x2605;</span></span></div><div aria-label="Select 4 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="4"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span></div><div aria-label="Select 3 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="3"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span></div><div aria-label="Select 2 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="2"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span></div><div aria-label="Select 1 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="1"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span></div>
				</div>
			</div>
		</div>
		</div>		<div class="clear-both"></div>
		<div class="entry-meta">
			<img alt="avatar of windows-azure-storage" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-22 photo" height="22" width="22"/><span class="byline"><span class="author vcard"><a class="url fn n profile-usercard-hover" data-profile-userid="59e1aedafa2d4428b7004b2c2fac4adc" href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage">Windows Azure Storage</a></span></span><span class="posted-on posted-on-margin"><span class="screen-reader-text"></span><time class="entry-date published updated" datetime="2010-07-08T23:07:00+00:00">July 8, 2010</time></span><span class="comments-link"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comments">23</a></span>				<span class="social-icons-wrap">
		<ul class="social-icons">
			<li><div class="fb-share-button" data-href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/&amp;src=sdkpreparse">Share</a></div></li>
			<div id="fb-root" style="display:none"></div>

			<li class="social-icon twitter"><a data-social="{&quot;type&quot;:&quot;twitter&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/&quot;, &quot;text&quot;: &quot;Understanding Windows Azure Storage Billing – Bandwidth, Transactions, and Capacity&quot;}" href="#" id="post_tweet_count">0</a></li>
			<li class="social-icon linkedin"><a data-social="{&quot;type&quot;:&quot;linkedin&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/&quot;, &quot;text&quot;: &quot;Understanding Windows Azure Storage Billing – Bandwidth, Transactions, and Capacity&quot;}" href="#" id="get_post_linkedin_count">0</a></li>
		</ul>
	</span><!-- .social-icons-wrap -->
	<script type="text/javascript">
		// Get social counts
		jQuery( window ).load(function () {
			jQuery.getScript('https://blogs.msdn.microsoft.com/windowsazurestorage/wp-content/themes/microsoft/js/social-counts.js?ver=02092017')
				.done(function(script,textStatus) {
					window.msdnsocial.ajax('https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/');
				});
		});
	</script>
		</div>
		<hr>
	</header><!-- .entry-header -->

	<div class="entry-content single">
		<p>We get questions about how to estimate how much Windows Azure Storage will cost in order to understand how to best build a cost effective application. In this post we will give some insight into this question for the three types of storage costs – Bandwidth, Transactions and Capacity.</p>
<p>When using Windows Azure Blobs, Tables and Queues storage costs can consist of:</p>
<ol>
<li><b>Bandwidth </b>– the amount of data transferred in and out of the location hosting the storage account</li>
<li><b>Transactions</b> – the number of requests performed against your storage account</li>
<li><b>Storage Capacity</b> – the amount of data being stored persistently</li>
</ol>
<p><b><i>Note, the content in this posting is subject to change as we add more features to the storage system. This posting is given as a guideline to allow services to be able to estimate their storage bandwidth, transactions and capacity usage before they go to production with their application.</i></b></p>
<p><a href="https://www.windowsazure.com/en-us/pricing/details/" title="Pricing details can be found here.">Pricing details can be found here</a>.</p>
<p>The following gives an overview of billing for these three areas:</p>
<ol>
<li><b>Bandwidth</b> – Since applications need to compute over their stored data, we allow hosted services to be co-located with their storage. This allows us to provide free bandwidth between computation and storage that are co-located, and only charge bandwidth for storage when accessed from outside the location it is stored in.</li>
<li><b>Transactions</b> – Each individual Blob, Table and Queue REST request to the storage service is considered as a potential transaction for billing. Applications can then control their transaction costs by controlling how often and how many requests they send to the storage service. We analyze each request received and then classify it as billable or not billable based upon our ability to process the request and the request’s outcome.</li>
<li><b>Capacity</b> – We accumulate the size of the objects stored (blobs, entities and messages) as well as their application and system metadata in order to measure the storage capacity for billing.</li>
</ol>
<p>In the rest of this post we will explain how to understand these three areas for your application.</p>
<h5>When Bandwidth is Counted</h5>
<p>In order to access Blobs, Tables and Queues, you first need to create a storage account by going to the <a href="http://www.microsoft.com/windowsazure/account/">Windows Azure Developer Portal</a>. When creating the storage account you can specify what location to store your storage account in. The six locations we currently offer are:</p>
<ol>
<li>US North Central</li>
<li>US South Central</li>
<li>Europe North</li>
<li>Europe West</li>
<li>Asia East</li>
<li>Asia Southeast</li>
</ol>
<p>All of the data for that storage account will be stored and accessed from the location chosen. Some applications choose a location that is geographically closest to their client base, if possible, to potentially reduce latency to those customers. A key aspect here is that you will want to also choose in the Developer Portal the same location for your hosted service as the storage account that the service needs to access. The reason for this is that the bandwidth for the data transferred within the same location is free. In contrast, when transferring data in or out of the assigned location for the storage account, the bandwidth charges listed at the start of this post will accrue.</p>
<p>Now it is important to note that bandwidth is free within the same location for access, but the transactions are not free. Every single access to the storage system is counted as a single transaction towards billing. In addition, bandwidth is only charged for transactions that are considered to be billable transactions as defined later in this posting.</p>
<p>Another concept to touch on in terms of bandwidth is when you use blobs with the Windows Azure Content Delivery Network (CDN). If the blob is not found in the CDN (or the blob’s time-to-live (TTL) has expired) it is read from the storage account (origin) to cache it. When this occurs, the bandwidth consumed to cache the blob (transfer it from the origin to the CDN) is charged against the storage account (as well as a single transaction). This emphasizes that you should use a CDN for blobs that are referenced enough to get cache hits, before they expire in the cache due to the TTL, to offset the additional time and cost of transferring the blob from your storage account to the CDN.</p>
<p>Here are a few examples:</p>
<ul>
<li>Your storage account and hosted service are both located in “US North Central”. All bandwidth for data accessed by your hosted service to that storage account is free, since they are in the same location.</li>
<li>Your storage account is located in “US North Central” and your hosted service is located in “US South Central”. All bandwidth for data accessed by your hosted service to the storage account will incur the bandwidth charges listed at the start of this post.</li>
<li>Your storage account is located in “US North Central”, and your blobs are cached and served by one of the Windows Azure CDN edge locations in Europe . Since the Windows Azure CDN edge location is not in the same location as your storage account, when the data is read from your storage account to the Windows Azure CDN for caching it will incur the above bandwidth charges.</li>
<li>Your storage account is located in “US North Central” but accessed by websites and services around the world. Since it isn’t being accessed from a Windows Azure hosted service within the same location the standard bandwidth charges are applied.</li>
</ul>
<h5><b>How Transactions are Counted</b></h5>
<p>The first area we would want to cover for transactions is what equals 1 transaction to Windows Azure Storage. Each and every REST call to Windows Azure Blobs, Tables and Queues counts as 1 transaction (whether that transaction is counted towards billing is determined by the billing classification discussed later in this posting). The REST calls are detailed here:</p>
<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/dd135733.aspx">Blobs</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dd179423.aspx">Tables</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/dd179363.aspx">Queues</a></li>
</ul>
<p>Each one of the above REST calls counts as 1 transaction. This includes the following types of requests:</p>
<ul>
<li><b>Query/List Requests and Continuation Tokens</b> – A Table Query, and Listing Blob Containers, Tables and Queues can return continuation tokens. This means that the query/listing must be continued to complete it. As described above, each REST request to the storage service counts as 1 transaction. Therefore, each continuation of the query/list counts as an additional 1 transaction, since it is another REST request to the storage service.</li>
<li><b>Batch Operations</b>– We currently support two types of batch operations:
<ul>
<li><b>Get Messages </b>- the ability to get up to 32 messages at once from a Queue.</li>
<li><b>Entity Group Transactions </b>– the ability to perform an atomic transaction across up to 100 entities with any combination of Insert, Update, or Delete for Azure Tables. The requirement is that all of the entities have to be in the same table and have the same PartitionKey value and the total request size must be under 4Mbytes.</li>
</ul>
</li>
</ul>
<blockquote><p>Both of these types of batch operations result in a single REST request to the storage service. Therefore, they count as a single transaction for each request.</p></blockquote>
<p>When using the Storage Client Library, there are a few function calls that can result in multiple REST requests to your storage account.</p>
<ul>
<li><b>Uploading Blobs</b> – When uploading a blob greater than 32 Mbytes, the storage client library will break it into 4 Mbyte blocks by default. The block size can be changed by setting the <a href="http://msdn.microsoft.com/en-us/library/microsoft.windowsazure.storageclient.cloudblobclient.writeblocksizeinbytes.aspx">CloudBlobClient.WriteBlockSizeInBytes</a> field. When uploading a blob larger than 32MBs the client library will upload each block as a separate <a href="http://msdn.microsoft.com/en-us/library/dd135726.aspx">PutBlock</a> REST request and then commit all of the blocks at the end with a <a href="http://msdn.microsoft.com/en-us/library/dd179467.aspx">PutBlockList</a>. Each PutBlock will count as 1 transaction, and the final PutBlockList will also count as 1 transaction.</li>
<li><b>Table Queries </b>– When you query using <a href="http://msdn.microsoft.com/en-us/library/ee758648.aspx">CloudTableQuery</a> it takes care of handling continuation tokens, so it reissues queries using the continuation token receieved in a previous query request to get remaining entities. As described above, each reissued continuation token query to the service counts as 1 transaction.</li>
<li><b>Table SaveChanges</b> – For the Table service, when you do an AddObject, UpdateObject or DeleteObject the entity gets added to a data context so that at some later point the changes can be flushed to your storage account when the program executes SaveChangesWithRetries. When SaveChangesWithRetries executes, all of the pending changes are then pushed to the Table service one at a time each using its own REST call. So each pending change counts as 1 transaction.<br/>
The one exception to this is the Entity Group Transaction. If you have batched up operations (AddObject, UpdateObject, DeleteObject) for a set of entities with the same PartitionKey value, you can execute a single <a href="http://msdn.microsoft.com/en-us/library/dd894038.aspx">SaveChangesWithRetries(<b>SaveChangesOptions.Batch</b>)</a>, and then this will send all of the changes to the table service as a single REST request and it will count as 1 transaction. The key is to make sure to pass in the SaveChangesOptions.Batch option to SaveChangesWithRetries method. We have seen services forget the SaveChangesOptions.Batch and this results in each pending change to be sent as a separate request leaving the customer wondering why the SaveChanges is taking a lot longer than it should, the operations would not be atomically performed as a single transaction (meaning they either all commit or none of them commit), and they would end up with a higher transaction count than expected.</li>
</ul>
<p>Here are a few examples:</p>
<ul>
<li>A single GetBlob request to the blob service = 1 transaction</li>
<li>PutBlob with 1 request to the blob service = 1 transaction</li>
<li>Large blob upload that results in 100 requests via PutBlock, and then 1 PutBlockList for commit = 101 transactions</li>
<li>Listing through a lot of blobs using 5 requests total (due to 4 continuation markers) = 5 transactions</li>
<li>Table single entity AddObject request = 1 transaction</li>
<li>Table Save Changes (without SaveChangesOptions.Batch) with 100 entities = 100 transactions</li>
<li>Table Save Changes (with SaveChangesOptions.Batch) with 100 entities = 1 transaction</li>
<li>Table Query specifying an exact PartitionKey and RowKey match (getting a single entity) = 1 transaction</li>
<li>Table query doing a single storage request to return 500 entities (with no continuation tokens encountered) = 1 transaction</li>
<li>Table query resulting in 5 requests to table storage (due to 4 continuation tokens) = 5 transactions</li>
<li>Queue put message = 1 transaction</li>
<li>Queue get single message = 1 transaction</li>
<li>Queue get message on empty queue = 1 transaction</li>
<li>Queue batch get of 32 messages = 1 transaction</li>
<li>Queue delete message = 1 transaction</li>
</ul>
<p>Now that we understand what a transaction is, let’s describe what transactions are counted towards billing and what transactions are not counted.</p>
<p>When a transaction reaches our service, if it falls into one of the following classifications we do <b><i>not </i></b>count it towards billable transactions, and no bandwidth is charged for these transactions:</p>
<ul>
<li><b>Pre-Authentication Failure</b> – If we do not even get the chance to authenticate the transaction then it does not count towards billable transactions. Examples here include malformed requests with bad http headers, badly formed URLs, the time range for the request is invalid, etc.</li>
<li><b>Authentication Failure</b> – if the transaction fails authentication we do not count it towards the billable transactions for the storage account.</li>
<li><b>Quota Permission Failure</b> – we have a 100TB quota per storage account. If a storage account hits that limit, then we put the storage account into a mode where it has only READ+DELETE permissions, but no WRITE permissions. This allows the storage account to perform Get and Delete operations, but not put/post operations. When in this mode, requests that require write permissions will fail, and we do not count these towards billable transactions.</li>
<li><b>Incorrect Shared Access Signature (SAS) HTTP Verb/Permission </b>– If the sent signature correctly validates (authenticates), but the REST operation keyword (PUT, POST, GET, DELETE) does not correctly match the permissions, then the request will not be counted towards billable transactions. For example, if the permissions specify that only PUT can be performed, but a GET verb is used with a valid SAS, the request will fail and not be counted towards billable transactions.</li>
<li><b>Anonymous Request Failures </b>– If a request comes in without a signature it will be treated as an anonymous request, and we classify the following 3 types of failures as transactions that do not count towards billable transactions:
<ul>
<li><b>Incorrect Permissions </b>– Anonymous requests can only be GET requests. If it is not a GET request, it is rejected and does not count towards billable transactions.</li>
<li><b>Container Not Found </b>– If the container does not exist for the anonymous GET request, then it is not counted towards billable transactions.</li>
<li><b>Blob Not Found </b>– If the blob trying to be accessed does not exist for the anonymous GET request, then it is not counted towards billable transactions.</li>
</ul>
</li>
<li><b>Unexpected Timeouts</b> – If the request times out due to an issue in the storage system, it is not counted towards billable transactions.</li>
</ul>
<p>If any of the above conditions apply then the transaction is not counted towards billable transactions and no bandwidth is charged for the request. Then for the rest of the transactions we classify them as billable and they may or may not incur bandwidth charges as described in the bandwidth section.</p>
<p>We categorize the billable transactions into the following buckets:</p>
<ul>
<li><b>Successful Transactions</b> – Any successful transaction completed against the storage system.</li>
<li><b>Expected Failures</b>– The expected failures come from the following three areas:
<ul>
<li><b>Transaction Errors </b>– These are requests that are correctly authenticated with correct permissions that fail due to the transaction semantics being applied against the data in the storage account. Some examples are:
<ul>
<li>Trying to get or delete an object that has already been deleted or never existed, which results in a NotFound error.</li>
<li>Trying to create an object that already exists, which results in an AlreadyExists error. For example, we have seen applications that perform a CreateIfNotExist on a Queue before every put message into that queue. This results in two separate requests to the storage system for every message they want to enqueue, with the create queue failing. Make sure you only create your Blob Containers, Tables and Queues at the start of their lifetime to avoid these extra transaction costs.</li>
<li>Doing a conditional operation with an ETag Match, Non-Match, Modified-Since, or Unmodified-Since, and having the operation fail (getting back a NotModified or PreconditionFailed) will count as a transaction.</li>
<li>Trying to add a Table Entity that already exists will result in a failure (Conflict - 409). Similarly, trying to Update an entity that does not exist will result in a failure (Not Found - 404 ). These count towards transaction costs. This is actually an issue for applications that want to do an Upsert, which we are currently evaluating how to support for Windows Azure Tables. Until Upsert is provided, users should evaluate their usage scenario to decide if they should either do INSERT before UPDATE or UPDATE before INSERT in order to minimize the amount of expected failures and overall transactions to Windows Azure Tables.</li>
<li>Valid Shared Access Signature (SAS) with a ContainerNotFound or BlobNotFound. If the SAS signature validates correctly, but the container is not found or the blob being accessed is not found, then this is counted as a billable transaction.</li>
<li>Etc. The list is quite long, since there are many ways requests can encounter an expected failure based on the semantics exposed by the storage service (e.g., conditional operations, leases, sequence numbers, etc).</li>
</ul>
</li>
<li><b>Throttling</b> – These are requests that are being throttled due to the transaction rate going over the per partition target throughput described in the post “<a href="http://blogs.msdn.com/windowsazurestorage/archive/2010/05/10/windows-azure-storage-abstractions-and-their-scalability-targets.aspx"><i>Windows Azure Storage Abstractions and their Scalability Targets</i></a>”. These throttled requests are counted as billable transactions. When this occurs, the client is expected to use exponential backoff and retry the request, which is provided by default with the storage client library. If it is a reoccurring event for the service, then the service should consider additional partitioning of its data structures as described in the upcoming posts on <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2010/05/07/understanding-the-scalability-availability-durability-and-billing-of-windows-azure-storage.aspx">Blobs, Tables and Queues</a>.</li>
<li><b>Expected Timeouts</b> – When you send a request to the service you can specify your own timeout and you can set it to be smaller than the <a href="http://go.microsoft.com/fwlink/?LinkId=159705">SLA timeout</a>. If the request has a timeout less than the SLA timeout, and the request times out, it is classified as an expected timeout and counted towards billable transactions.</li>
</ul>
</li>
</ul>
<h5>How to Estimate Capacity</h5>
<p>Customers have asked to understand more details about the cost of storing Blobs, Tables and Queues in order to estimate the amount of storage capacity used by their application before running it in production.</p>
<p>The first thing to understand is how the monthly bill is accumulated for storage capacity. The storage capacity is calculated and aggregated at least once a day, and then averaged over the whole month to arrive at a GB/month charge. For example, if you used 10 GB the first half of the month and 0 GB the second half of the month, the monthly charge would be 5 GB.</p>
<p>The following describes how the storage capacity is calculated for Blobs, Tables and Queues.<br/>
In the below Len(X) means the number of characters in the string.</p>
<p><strong><span style="text-decoration: underline">Blob Containers</span></strong> – The following is how to estimate the amount of storage consumed per blob container:</p>
<p><b>48 bytes + Len(ContainerName) * 2 bytes +<br/>
</b><b>For-Each Metadata[3 bytes + Len(MetadataName) + Len(Value)] +<br/>
</b><b>For-Each Signed Identifier[512 bytes] </b></p>
<p>The following is the breakdown:</p>
<ul>
<li>48 bytes of overhead for each container includes the Last Modified Time, Permissions, Public Settings, and some system metadata.</li>
<li>The container name is stored as Unicode so take the number of characters and multiply by 2.</li>
<li>For each blob container metadata stored, we store the length of the name (stored as ASCII), plus the length of the string value.</li>
<li>The 512 bytes per Signed Identifier includes signed identifier name, start time, expiry time and permissions.</li>
</ul>
<p><strong><span style="text-decoration: underline">Blobs</span></strong> – The following is how to estimate the amount of storage consumed per blob:</p>
<p><b><i><span style="text-decoration: underline">For Block Blob (base blob or snapshot) we have:<br/>
</span></i></b><b>124 bytes + Len(BlobName) * 2 bytes +<br/>
</b><b>For-Each Metadata[3 bytes + Len(MetadataName) + Len(Value)] +<br/>
</b><b>8 bytes + number of committed and uncommitted blocks * Block ID Size in bytes +<br/>
</b><b> </b><b>SizeInBytes(data in committed and uncommitted data blocks)</b></p>
<p><b><i><span style="text-decoration: underline">For Page Blob (base blob or snapshot) we have:<br/>
</span></i></b><b>124 bytes + Len(BlobName) * 2 bytes +<br/>
</b><b>For-Each Metadata[3 bytes + Len(MetadataName) + Len(Value)] +<br/>
</b><b>number of nonconsecutive page ranges with data * 12 bytes +<br/>
</b><b>SizeInBytes(data in unique pages stored) </b></p>
<p>The following is the breakdown:</p>
<ul>
<li>124 bytes of overhead for blob, which includes the Last Modified Time, Size, Cache-Control, Content-Type, Content-Language, Content-Encoding, Content-MD5, Permissions, Snapshot information, Lease, and some system metadata.</li>
<li>The blob name is stored as Unicode so take the number of characters and multiple by 2.</li>
<li>Then for each metadata stored, the length of the name (stored as ASCII), plus the length of the string value.</li>
<li>Then for Block Blobs
<ul>
<li>8 bytes for the block list</li>
<li>Number of blocks times the block ID size in bytes</li>
<li>Plus the size of the data in all of the committed and uncommitted blocks. Note, when snapshots are used, this size only includes the unique data for this base or snapshot blob. If the uncommitted blocks are not used after a week, they will be garbage collected, and then at that time they will no longer count towards billing after that.</li>
<li>Note: For blobs in the archive storage tier, we charge twice as much for overhead, names, metadata, and block IDs at cool storage rates (i.e. multiply each formula component by 2 except <strong>SizeInBytes (data in committed an uncommitted data blocks)</strong>)</li>
</ul>
</li>
<li>Then for Page Blobs
<ul>
<li>Number of nonconsecutive page ranges with data times 12 bytes. This is the number of unique page ranges you see when calling the GetPageRanges API.</li>
<li>Plus the size of the data in bytes of all of the stored pages. Note, when snapshots are used, this size only includes the unique pages for the base blob or snapshot blob being counted.</li>
</ul>
</li>
</ul>
<p><strong><span style="text-decoration: underline">Tables</span></strong> – The following is how to estimate the amount of storage consumed per Table:</p>
<p><b>12 bytes + Len(TableName) * 2 bytes</b></p>
<p>The following is the breakdown:</p>
<ul>
<li>12 bytes overhead for each Table, which includes the Last Modified Time and some system metadata.</li>
<li>The table name is stored as Unicode so take the number of characters and multiple by 2.</li>
</ul>
<p><strong><span style="text-decoration: underline">Entities</span></strong> – The following is how to estimate the amount of storage consumed per entity:</p>
<p><b>4 bytes  + Len (PartitionKey + RowKey) * 2 bytes +<br/>
</b><b>For-Each Property(8 bytes + Len(Property Name) * 2 bytes + Sizeof(.Net Property Type)) </b></p>
<p>The following is the breakdown:</p>
<ul>
<li>4 bytes overhead for each entity, which includes the Timestamp, along with some system metadata.</li>
<li>The number of characters in the PartitionKey and RowKey values, which are stored as Unicode (times 2 bytes).</li>
<li>Then for each property we have an 8 byte overhead, plus the name of the property * 2 bytes, plus the size of the property type as derived from the list below.</li>
</ul>
<p>The Sizeof(.Net Property Type) for the different types is:</p>
<ul>
<li>String – # of Characters * 2 bytes + 4 bytes for length of string</li>
<li>DateTime – 8 bytes</li>
<li>GUID – 16 bytes</li>
<li>Double – 8 bytes</li>
<li>Int – 4 bytes</li>
<li>INT64 – 8 bytes</li>
<li>Bool – 1 byte</li>
<li>Binary – sizeof(value) in bytes + 4 bytes for length of binary array</li>
</ul>
<p><strong><span style="text-decoration: underline">Queues</span></strong> – The following is how to estimate the amount of storage consumed per Queue:</p>
<p><b>24 bytes + Len(QueueName) * 2 +<br/>
</b><b>For-Each Metadata(4 bytes + Len(QueueName) * 2 bytes + Len(Value) * 2 bytes) </b></p>
<p>The following is the breakdown:</p>
<ul>
<li>24 bytes overhead for each Queue, which includes the Last Modified Time, and some system metadata.</li>
<li>Then for each queue metadata stored, the length of the name, and the value, which are both stored in Unicode, so times 2 bytes.</li>
</ul>
<p><strong><span style="text-decoration: underline">Messages</span></strong> – The following is how to estimate the amount of storage consumed per message:</p>
<p><b>12 bytes + Len(Message) </b></p>
<p>The following is the breakdown:</p>
<ul>
<li>12 byte overhead for the Invisibility Time, Creation Time, Dequeue Count, Message ID, and some system metadata.</li>
<li>Then the # of bytes to represent the message if you are using the REST interface. If you use the storage client library it stores the messages in the following format: UTF8(Base64(message)), and the storage used would be the length of that.</li>
</ul>
<p>Brad Calder</p>
	</div><!-- .entry-content -->


	<footer class="entry-footer single">
					<div class="tags">
				<span>Tags </span>
				<span>
					<a href="https://blogs.msdn.microsoft.com/windowsazurestorage/tag/billing/" rel="tag">Billing</a>				</span>
			</div>
				<hr>
	</footer><!-- .entry-footer -->

</article><!-- #post-## -->

			
		</div><!-- #single-content -->

		
<div id="comments" class="comments-area">
	<div class="comments-title">
		Comments (23)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-3142">
				<div id="div-comment-3142" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Kevin</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3142">
			July 9, 2010 at 9:34 am</a>		</div>

		<p>This is exactly the information I was looking for to help me estimate my monthly costs. &nbsp;Thanks for providing so much detail.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-3132">
				<div id="div-comment-3132" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/f0f65c8bdc23452f75546e0468981e20?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f0f65c8bdc23452f75546e0468981e20?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Zack.Perry</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3132">
			August 20, 2010 at 5:34 pm</a>		</div>

		<p>Assuming that I have a storage account, which has many containers. Each container is assigned to a member in my group. &nbsp;Is there a way to break down the bandwidth and transaction costs for each container? &nbsp;Thanks in advance for any tips/pointers</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-3122">
				<div id="div-comment-3122" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/a79a1b675acd535552dd5817613979ab?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a79a1b675acd535552dd5817613979ab?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">shop.calder@hotmail.com</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3122">
			August 20, 2010 at 10:06 pm</a>		</div>

		<p>@Zack.Perry. &nbsp;There is no way to get per container statistics from the storage service. &nbsp;We are looking at feature requests to provide more information for storage. &nbsp; </p>
<p>For now, the way some services track information like this is that they send all of their storage requests through their own Windows Azure hosted service, which allows them to track whatever stats they want.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-3112">
				<div id="div-comment-3112" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/f0f65c8bdc23452f75546e0468981e20?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f0f65c8bdc23452f75546e0468981e20?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Zack.Perry</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3112">
			August 22, 2010 at 9:36 am</a>		</div>

		<p>@Brad Calder (MSFT). &nbsp;Thanks for the info. &nbsp;Is there something similar to AWS S3 Server Access Logging: &lt;<a rel="nofollow" target="_new" href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/index.html?ServerLogs.html>?">docs.amazonwebservices.com/&#8230;/index.html</a> &nbsp;</p>
<p>If it&#39;s available, we might be able to put together something quick. &nbsp;Thanks!</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-3102">
				<div id="div-comment-3102" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Erno</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3102">
			October 27, 2010 at 2:56 am</a>		</div>

		<p>This is great info and should be in the official package deals. One question though:</p>
<p>I do not understand this: </p>
<p>&quot;Table query doing a single storage request to return 500 entities (with no continuation tokens encountered) = 1 transaction&quot; </p>
<p>after reading this: </p>
<p>&quot;Entity Group Transactions – the ability to perform an atomic transaction across up to 100 entities with any combination of Insert, Update, or Delete for Azure Tables. The requirement is that all of the entities have to be in the same table and have the same PartitionKey value and the total request size must be under 4Mbytes.&quot;</p>
<p>I expected the query to cost 5 transactions.</p>
<p>What am I doing wrong?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-3092">
				<div id="div-comment-3092" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/a79a1b675acd535552dd5817613979ab?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a79a1b675acd535552dd5817613979ab?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn"><a href="http://blogs.msdn.com/members/Brad-Calder-_2800_MSFT_2900_/" rel="external nofollow" class="url">shop.calder@hotmail.com</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3092">
			November 4, 2010 at 9:14 pm</a>		</div>

		<p>@Zack</p>
<p>We do not have that feature, but it is an good feature request.</p>
<p>@Erno</p>
<p>A Query (GET) can return up to 1000 entities in a single request, which is why it is only 1 transaction. &nbsp; If it was a Entity Group Transaction (PUT) then that request can hold up to only 100 entities, and in doing that in one request would result in 1 transaction.</p>
<p>Thanks</p>
<p>Brad</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-3082">
				<div id="div-comment-3082" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Jason</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3082">
			March 9, 2011 at 8:06 am</a>		</div>

		<p>Are the &quot;behind the scenes&quot; transactions that take place? &nbsp;I understand what you are saying above and have implemented batch options where applicable, but I still get a transaction counts orders of magnitude higher than I predict. &nbsp;I have increased the time spans in my queues and that has help, but doesn&#39;t explain everything.</p>
<p>My latest hairbrained theory has to do with the fact that during development on my local machine, I have had to use my Staging storage account. &nbsp;Are there transactions during debugging that Visual Studio sends to storage?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-3062">
				<div id="div-comment-3062" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/7baef01f55b96f7ef6e7d2270e0b7ec6?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7baef01f55b96f7ef6e7d2270e0b7ec6?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn"><a href="http://blogs.msdn.com/Jai-Haridas-_2D00_-MSFT/ProfileUrlRedirect.ashx" rel="external nofollow" class="url">jaidevh1@hotmail.com</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3062">
			March 10, 2011 at 7:53 am</a>		</div>

		<p>@Jason &#8211; The service only charges each transaction to the service once. &nbsp; The way to potentially track this down is to log/trace the requests from your application and see &nbsp;when and how many requests are being sent.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-3042">
				<div id="div-comment-3042" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/960459b0996c0e8b95006ae0920f3af9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/960459b0996c0e8b95006ae0920f3af9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn"><a href="http://blogs.msdn.com/gillesgaillard_4000_free.fr/ProfileUrlRedirect.ashx" rel="external nofollow" class="url">gillesgaillard@free.fr</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3042">
			April 6, 2011 at 6:26 am</a>		</div>

		<p>I would like to use the Page blob API, but don&#39;t know in advance the size of data.</p>
<p>Hence the following scenario:</p>
<p>1. make a Put Blob request for Page blob with x-ms-blob-content-length equal to 1TB</p>
<p>2. call Put Page for all chunks of data I would need to upload. For example, say that all data is 500GB.</p>
<p>3. call Put Page with &#39;x-ms-page-write: clear&#39; and Range indicating from 500GB, 1TB</p>
<p>With this scenario I would be billed </p>
<p>&#8211; for 1TB for the duration between step 1 and 3</p>
<p>&#8211; for 500GB afterwards</p>
<p>Is this correct ?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-windows-azure-storage bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-3032">
				<div id="div-comment-3032" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn"><a href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage" rel="external nofollow" class="url">Windows Azure Storage</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3032">
			April 6, 2011 at 4:40 pm</a>		</div>

		<p>@gillouxg</p>
<p>Note when you create a Page Blob you specify the target size, but you are not charged for that amount. &nbsp;You are only charged for the pages you have stored (which haven’t been cleared). &nbsp; So if you set the size of a Page Blob to be 1TB when you create it, but haven’t uploaded any data, then the billable size of the pages is 0 bytes. &nbsp; </p>
<p>Now in your example in step 1, since you uploaded 1 TB of data, then yes your analysis is correct. &nbsp; If instead, in step 1 you only created the Page Blob to have a size of 1TB, but haven’t put anything in it, then the billable size after that would be 0 bytes for the pages. &nbsp;Then after you put in 500GBs, the billable size for pages would be 500GBs.</p>
<p>Brad</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-3022">
				<div id="div-comment-3022" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/960459b0996c0e8b95006ae0920f3af9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/960459b0996c0e8b95006ae0920f3af9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn"><a href="http://blogs.msdn.com/gillesgaillard_4000_free.fr/ProfileUrlRedirect.ashx" rel="external nofollow" class="url">gillesgaillard@free.fr</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3022">
			April 7, 2011 at 4:32 am</a>		</div>

		<p>@Brad. Thanks. </p>
<p>Your answer made things clearer. However from what you said there seems to be no restriction in always creating Page Blob with a target size of 1TB and then uploading data as needed (which would make the x-ms-blob-content-length header look somehow useless), right ?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-windows-azure-storage bypostauthor odd alt thread-odd thread-alt depth-1" id="comment-3012">
				<div id="div-comment-3012" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn"><a href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage" rel="external nofollow" class="url">Windows Azure Storage</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3012">
			April 7, 2011 at 11:50 am</a>		</div>

		<p>@gillouxg</p>
<p>Correct, there is no restriction to setting it to the max size from the start. &nbsp;It can still be useful for some applications/scenarios that want to use it to track the size of the Page Blob they intend to store at that point in time, and/or use it to bounds check the writes/reads ranges to the Page Blob. &nbsp;But if you don’t need to use it in that manner, then you can just set it to the largest size you will need.</p>
<p>Thanks</p>
<p>Brad</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-3002">
				<div id="div-comment-3002" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Trupti Sarang</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-3002">
			April 28, 2011 at 2:36 am</a>		</div>

		<p>Very useful info.</p>
<p>If we have empty queue or container then in that case it will be billed as</p>
<p>24 bytes + Len(QueueName) * 2 + </p>
<p>For-Each Metadata(4 bytes + Len(QueueName) * 2 bytes + Len(Value) * 2 bytes) </p>
<p>and</p>
<p>48 bytes + Len(ContainerName) * 2 bytes + </p>
<p>For-Each Metadata[3 bytes + Len(MetadataName) + Len(Value)] + </p>
<p>For-Each Signed Identifier[512 bytes] </p>
<p>respectively. Please correct me if i am wrong&#8230;</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2992">
				<div id="div-comment-2992" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Jai Haridas(MSFT)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-2992">
			April 28, 2011 at 11:02 pm</a>		</div>

		<p>@Trupti Sarang, that is correct. These formulas here are provided to help get an approximate capacity.</p>
<p>Thanks,</p>
<p>Jai</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2982">
				<div id="div-comment-2982" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">San</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-2982">
			May 9, 2011 at 4:50 am</a>		</div>

		<p>&quot;The first thing to understand is how the monthly bill is accumulated for storage capacity. The storage capacity is calculated and aggregated at least once a day, and then averaged over the whole month to arrive at a GB/month charge. For example, if you used 10 GB the first half of the month and 0 GB the second half of the month, the monthly charge would be 5 GB.&quot;</p>
<p>The above paragraph tell us how it is calculated by dividing it into 15 days each. How do you calculate capacity in a day, say if in a day we have 24 hours and during each hour my storage capacity will increase or decrease.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2972">
				<div id="div-comment-2972" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/a79a1b675acd535552dd5817613979ab?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/a79a1b675acd535552dd5817613979ab?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn"><a href="http://blogs.msdn.com/Brad-Calder-_2800_MSFT_2900_/ProfileUrlRedirect.ashx" rel="external nofollow" class="url">shop.calder@hotmail.com</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-2972">
			May 10, 2011 at 10:05 pm</a>		</div>

		<p>@San</p>
<p>For capacity, we currently sample it at least once a day for a storage account. &nbsp;That capacity value is used to represent the capacity for each hour until the next sample is taken. &nbsp; These samples are then incorporated into the monthly average for calculating billable capacity.</p>
<p>Brad</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2962">
				<div id="div-comment-2962" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">In case of WADLogsTable how biling will work?</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-2962">
			June 28, 2011 at 10:18 pm</a>		</div>

		<p>Will it charge with all the transation and capacity usage? Would like to confirm about this as WADLogs gets transfer based on the transfer interval set. Trasfer will happen from VM to stoage. Assume storage and running instance is in the same location </p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2952">
				<div id="div-comment-2952" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/7baef01f55b96f7ef6e7d2270e0b7ec6?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7baef01f55b96f7ef6e7d2270e0b7ec6?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn"><a href="http://blogs.msdn.com/Jai-Haridas-_2D00_-MSFT/ProfileUrlRedirect.ashx" rel="external nofollow" class="url">jaidevh1@hotmail.com</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-2952">
			July 2, 2011 at 11:00 am</a>		</div>

		<p>Regarding &quot;Will it charge with all the transation and capacity usage? Would like to confirm about this as WADLogs &#8230;&quot;</p>
<p>For WADLogs (for perf counters etc.), transactions, bandwidth consumed and capacity will be charged similar to user requests. The same rules will apply as these are authenticated requests and from storage service perspective, these requests are not differentiated.</p>
<p>Jai </p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2942">
				<div id="div-comment-2942" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Raman</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-2942">
			December 6, 2011 at 11:40 pm</a>		</div>

		<p>This reply was posted by you guys on 20th Aug 2010:</p>
<p>&quot;@Zack.Perry. &nbsp;There is no way to get per container statistics from the storage service. &nbsp;We are looking at feature requests to provide more information for storage. &nbsp;</p>
<p>For now, the way some services track information like this is that they send all of their storage requests through their own Windows Azure hosted service, which allows them to track whatever stats they want.&quot;</p>
<p>There has been a new release recently&#8230; Does the above still hold true?</p>
<p>Or can we now have statistics container-wise as well?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2932">
				<div id="div-comment-2932" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/7baef01f55b96f7ef6e7d2270e0b7ec6?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/7baef01f55b96f7ef6e7d2270e0b7ec6?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn"><a href="http://blogs.msdn.com/Jai-Haridas-_2D00_-MSFT/ProfileUrlRedirect.ashx" rel="external nofollow" class="url">jaidevh1@hotmail.com</a></cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-2932">
			December 12, 2011 at 9:38 am</a>		</div>

		<p>@Raman &#8211; yes it still holds true. To get the capacity per container, you can use List Blob (For REST API see <a rel="nofollow" target="_new" href="http://msdn.microsoft.com/en-us/library/windowsazure/dd135734.aspx">msdn.microsoft.com/&#8230;/dd135734.aspx</a> and for .NET storage client API &#8211; see <a rel="nofollow" target="_new" href="http://msdn.microsoft.com/en-us/library/windowsazure/ee758385.aspx">msdn.microsoft.com/&#8230;/ee758385.aspx</a>) and aggregate the size returned for each blob in the listing. To get transaction information, you could enable analytics and mine your logs to retrieve this information (See <a rel="nofollow" target="_new" href="http://blogs.msdn.com/b/windowsazurestorage/archive/2011/08/03/windows-azure-storage-logging-using-logs-to-track-storage-requests.aspx">blogs.msdn.com/&#8230;/windows-azure-storage-logging-using-logs-to-track-storage-requests.aspx</a>)</p>
<p>Jai</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2912">
				<div id="div-comment-2912" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Ming Li</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-2912">
			February 18, 2014 at 5:02 am</a>		</div>

		<p>Is the IaaS VM disk be charged for storage transactions? &nbsp;Every VM disk is a VHD file in the blob storage, every access to the drive will be billed storage transaction?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-2902">
				<div id="div-comment-2902" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/4ddd05aa05f48f904ecddc5c177c97a3?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/4ddd05aa05f48f904ecddc5c177c97a3?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Chungang Liu</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-2902">
			April 11, 2014 at 8:36 am</a>		</div>

		<p>@Ming, you will need to pay for the OS disk and Data disk because they are actually page blobs. Both the capacity and transactions will be billed just like ordinary page blobs. For temporary disk, it is local and included in the VM price. No capacity/transactions cost will be charged. Hope this answers your question.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="comment-2892">
				<div id="div-comment-2892" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/3651e719491c63d4424134d66fe53db9?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Larry</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/07/08/understanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity/#comment-2892">
			February 9, 2015 at 11:38 am</a>		</div>

		<p>With respect to the page blob that the OS uses, when the OS persistently updates the virtual OS disk by writing to the registry or the event log, for instance to track some internal OS detail or to say a service has started and so on, are those writes counted as billable transactions? &nbsp;</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F07%2F08%2Funderstanding-windows-azure-storage-billing-bandwidth-transactions-and-capacity%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
	
</div><!-- .comments-area -->
	</div><!-- #primary -->