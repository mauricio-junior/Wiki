---
layout: windowsazurestorage
title: SaveChangesWithRetries and Batch Option
weight: 3
---

<div id="site-content" class="site-content row">

	<div id="primary" class="content-area col-sm-9">
		<div id="single-content" class="div-content">

			
				
<article id="post-16" class="post-16 post type-post status-publish format-standard hentry category-uncategorized tag-issues-fixed tag-windows-azure-tables">

	<header class="entry-header single">
		<h1 class="entry-title">SaveChangesWithRetries and Batch Option</h1>		<div class="rating-wrap">
		<div id="star-rating-16" class="wds-ratings" data-rating="0" data-userrating="0" data-postid="16" data-container="body" data-toggle="tooltip" title="0 user(s) rated">
			<div class="wds-ratings-inner-wrap">
				<div>
					<div aria-label="Select 5 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="5"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span><span aria-hidden="true" class="star-5"><span>&#x2605;</span></span></div><div aria-label="Select 4 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="4"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span></div><div aria-label="Select 3 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="3"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span></div><div aria-label="Select 2 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="2"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span></div><div aria-label="Select 1 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="1"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span></div>
				</div>
			</div>
		</div>
		</div>		<div class="clear-both"></div>
		<div class="entry-meta">
			<img alt="avatar of windows-azure-storage" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-22 photo" height="22" width="22"/><span class="byline"><span class="author vcard"><a class="url fn n profile-usercard-hover" data-profile-userid="59e1aedafa2d4428b7004b2c2fac4adc" href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage">Windows Azure Storage</a></span></span><span class="posted-on posted-on-margin"><span class="screen-reader-text"></span><time class="entry-date published updated" datetime="2010-04-22T12:00:00+00:00">April 22, 2010</time></span><span class="comments-link"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/04/22/savechangeswithretries-and-batch-option/#comments">2</a></span>				<span class="social-icons-wrap">
		<ul class="social-icons">
			<li><div class="fb-share-button" data-href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/04/22/savechangeswithretries-and-batch-option/" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blogs.msdn.microsoft.com/windowsazurestorage/2010/04/22/savechangeswithretries-and-batch-option/&amp;src=sdkpreparse">Share</a></div></li>
			<div id="fb-root" style="display:none"></div>

			<li class="social-icon twitter"><a data-social="{&quot;type&quot;:&quot;twitter&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2010/04/22/savechangeswithretries-and-batch-option/&quot;, &quot;text&quot;: &quot;SaveChangesWithRetries and Batch Option&quot;}" href="#" id="post_tweet_count">0</a></li>
			<li class="social-icon linkedin"><a data-social="{&quot;type&quot;:&quot;linkedin&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2010/04/22/savechangeswithretries-and-batch-option/&quot;, &quot;text&quot;: &quot;SaveChangesWithRetries and Batch Option&quot;}" href="#" id="get_post_linkedin_count">0</a></li>
		</ul>
	</span><!-- .social-icons-wrap -->
	<script type="text/javascript">
		// Get social counts
		jQuery( window ).load(function () {
			jQuery.getScript('https://blogs.msdn.microsoft.com/windowsazurestorage/wp-content/themes/microsoft/js/social-counts.js?ver=02092017')
				.done(function(script,textStatus) {
					window.msdnsocial.ajax('https://blogs.msdn.microsoft.com/windowsazurestorage/2010/04/22/savechangeswithretries-and-batch-option/');
				});
		});
	</script>
		</div>
		<hr>
	</header><!-- .entry-header -->

	<div class="entry-content single">
		<p class="MsoNormal" style="margin: 0in 0in 0pt;"><span style="font-family: 'Calibri','sans-serif'; font-size: 14pt; mso-ascii-theme-font: minor-latin; mso-hansi-theme-font: minor-latin; mso-bidi-theme-font: minor-latin;"><em><strong>The issue is resolved in the Windows Azure SDK&nbsp; 1.3 release which can be downloaded </strong></em><a href="http://msdn.microsoft.com/en-us/windowsazure/cc974146.aspx"><em><strong>here</strong></em></a><em><strong>.<o:p></o:p></strong></em></span></p>
<p>We recently found that there is a bug in our SaveChangesWithRetries method that takes in the SaveChangesOptions in our Storage Client Library.</p>
<pre class="code"><span style="color: blue">public </span><span style="color: #2b91af">DataServiceResponse <br/>   </span>SaveChangesWithRetries(SaveChangesOptions options) <br/>  </pre>
<p>The problem is that SaveChangesWithRetries does not propagate the SaveChangesOptions to OData client&rsquo;s SaveChanges method which leads to each entity being sent over a separate request in a serial fashion. This clearly can cause problems to clients since it does not give transaction semantics. This will be fixed in the next release of our SDK but until then we wanted to provide a workaround.</p>
<p>The goal of this post is to pro<a name="_GoBack"></a>vide a workaround for the above mentioned bug so as to allow &ldquo;Entity Group Transactions&rdquo; (EGT) to be used with retries. If your application has always handled retries in a custom manner, you can always use the OData client library directly to issue the EGT operation, and this works as expected with no known issues as shown here:</p>
<pre class="code">context.SaveChanges(<span style="color: #2b91af">SaveChangesOptions</span>.Batch); <br/> </pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>We will now describe a BatchWithRetries method that uses the OData API &ldquo;SaveChanges&rdquo; and provides the required Batch option to it. As you can see below, the majority of the code is to handle the exceptions and retry logic. But before we delve into more details of BatchWithRetries, let us quickly see how it can be used. </p>
<pre class="code">&nbsp;</pre>
<pre class="code"><span style="color: #2b91af">StorageCredentialsAccountAndKey </span>credentials = <br/>       <span style="color: blue">new </span><span style="color: #2b91af">StorageCredentialsAccountAndKey</span>(accountName, key);
<span style="color: #2b91af">CloudStorageAccount </span>account = <br/>       <span style="color: blue">new </span><span style="color: #2b91af">CloudStorageAccount</span>(credentials, <span style="color: blue">false</span>);
<span style="color: #2b91af">CloudTableClient </span>tableClient = <span style="color: blue">new </span><span style="color: #2b91af">CloudTableClient</span>(<br/>       account.TableEndpoint.AbsoluteUri, account.Credentials);

<span style="color: green">// create the table if it does not exist
</span>tableClient.CreateTableIfNotExist(tableName);

<span style="color: green">// Get the context and add entities (use UpdateObject/DeleteObject if 
// you want to update/delete entities respectively)
</span><span style="color: #2b91af">TableServiceContext </span>context = tableClient.GetDataServiceContext();
<span style="color: blue">for </span>(<span style="color: blue">int </span>i = 0; i &lt; 5; i++)
{
    <span style="color: green">// Add entity with same partition key
    </span>context.AddObject(tableName, <span style="color: blue">new </span>Entity()
    {
        PartitionKey = partitionKey,
        RowKey = <span style="color: #2b91af">Guid</span>.NewGuid().ToString()
    });
}

<span style="color: blue">try
</span>{
    <span style="color: green">// Use the routine below with our own custom retry policy <br/>    // that retries only on certain exceptions
    </span>context.BatchWithRetries(<span style="color: #2b91af">TableExtensions</span>.RetryExponential());
}
<span style="color: blue">catch </span>(<span style="color: #2b91af">Exception </span>e)
{
    <span style="color: green">// Handle exception here as required by your application scenario<br/>    // since we have already retried the batch on intermittent errors<br/>    // This exception can be interpreted as 
    // a&gt; Retry count exceeded OR 
    // b&gt; request failed because of application error like Conflict, Pre-Condition Failed etc. 
</span>} <br/> </pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
<p>BatchWithRetries takes a RetryPolicy which dictates whether we should retry on an error and how long we should wait between retries. We have also provided a RetryPolicy here which reuses the exponential backoff strategy that the StorageClient uses to wait between each retry. In addition, it retries only on certain exceptions. We handle the following exceptions:</p>
<ul>
<li>DataServiceRequestException &ndash; This exception can return a list of operation responses. We will use the status code of the operation response and if it does not exist, then we will use the batch status code. </li>
<li>DataServiceClientException &ndash; We will use the status code in the exception </li>
<li>WebException &ndash; We will just use the status code if it exists. If it does not, it implies that the request never went out and we will assume bad gateway. </li>
</ul>
<p>The code to decide if we will retry is simple &ndash; for any 2xx, 3xx, 4xx, 501 and 505 errors, we will not retry. The 2xx is a special case for Batch. Generally, 2xx means success and an exception is not thrown &ndash; however, Batch requests returns &ldquo;Accepted&rdquo; for certain failures (example: bad request). Because of this, we include 2xx in the list on which we will not retry.</p>
<p>Here is the complete code that can be used for EGT with retries and please note that this will be fixed in our next SDK release. As always, please provide feedback using the email link on the right.</p>
<p>Jai Haridas</p>
<p>&nbsp;</p>
<pre class="code"><span style="color: green">// NOTE: You will need to add System.Data.Services.Client and <br/>// Microsoft.WindowsAzure.StorageClient to your project references
</span><span style="color: blue">using </span>System;
<span style="color: blue">using </span>System.Collections.Generic;
<span style="color: blue">using </span>System.Data.Services.Client;
<span style="color: blue">using </span>System.Linq;
<span style="color: blue">using </span>System.Net;
<span style="color: blue">using </span>Microsoft.WindowsAzure.StorageClient;


<span style="color: blue">public static class </span><span style="color: #2b91af">TableExtensions
</span>{
    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">Extension method invokes SaveChanges using the batch option and handle any retry errors.
    </span><span style="color: gray">/// </span><span style="color: green">Please note that you can get errors that indicate: 
    </span><span style="color: gray">///  </span><span style="color: green">1&gt; Entity already exists for inserts
    </span><span style="color: gray">///  </span><span style="color: green">2&gt; Entity does notexist for deletes
    </span><span style="color: gray">///  </span><span style="color: green">3&gt; Etag mismatch for updates
    </span><span style="color: gray">/// </span><span style="color: green">on retries because the previous attempt that failed may have actually succeeded  
    </span><span style="color: gray">/// </span><span style="color: green">on the server and the second attempt may fail with a 4xx error. 
    </span><span style="color: gray">/// &lt;/summary&gt;
    /// &lt;param name="context"&gt;&lt;/param&gt;
    /// &lt;param name="retryPolicy"&gt;</span><span style="color: green">The retry policy to use</span><span style="color: gray">&lt;/param&gt;
    </span><span style="color: blue">public static void </span>BatchWithRetries(<span style="color: blue">this </span><span style="color: #2b91af">TableServiceContext </span>context, <br/>           <span style="color: #2b91af">RetryPolicy </span>retryPolicy)
    {
        <span style="color: blue">if </span>(context == <span style="color: blue">null</span>)
        {
            <span style="color: blue">throw new </span><span style="color: #2b91af">ArgumentNullException</span>(<span style="color: #a31515">"context"</span>);
        }

        <span style="color: blue">if </span>(retryPolicy == <span style="color: blue">null</span>)
        {
            <span style="color: blue">throw new </span><span style="color: #2b91af">ArgumentNullException</span>(<span style="color: #a31515">"retryPolicy"</span>);
        }

        <span style="color: #2b91af">ShouldRetry </span>shouldRetry = retryPolicy();

        <span style="color: green">// we will wait at most 40 seconds since Azure request can take at most 30s. <br/>        // We will reset the timeout before exiting this method 
        </span><span style="color: blue">int </span>oldTimeout = context.Timeout;
        context.Timeout = 40;

        <span style="color: blue">int </span>currentRetryCount = -1;
        <span style="color: #2b91af">TimeSpan </span>delay;
        <span style="color: blue">try
        </span>{
            <span style="color: blue">for </span>(; ; )
            {
                currentRetryCount++;

                <span style="color: blue">try
                </span>{
                    <span style="color: green">// Directly use the OData&rsquo;s SaveChanges api
                    </span>context.SaveChanges(<span style="color: #2b91af">SaveChangesOptions</span>.Batch);
                    <span style="color: blue">break</span>;
                }
                <span style="color: blue">catch </span>(<span style="color: #2b91af">InvalidOperationException </span>e)
                {
                    <span style="color: green">// TODO: Log the exception here for debugging

                    // Check if we need to retry using the required policy
                    </span><span style="color: blue">if </span>(!shouldRetry(currentRetryCount, e, <span style="color: blue">out </span>delay))
                    {
                        <span style="color: blue">throw</span>;
                    }

                    System.Threading.<span style="color: #2b91af">Thread</span>.Sleep((<span style="color: blue">int</span>)delay.TotalMilliseconds);
                }

            }
        }
        <span style="color: blue">finally
        </span>{
            context.Timeout = oldTimeout;
        }
    }

    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">This is the ShouldRetry delegate that StorageClient uses. This can be easily wrapped in a 
    </span><span style="color: gray">/// </span><span style="color: green">RetryPolicy as shown in RetryExponential and used in places where a retry policy is required
    </span><span style="color: gray">/// &lt;/summary&gt;
    /// &lt;param name="currentRetryCount"&gt;&lt;/param&gt;
    /// &lt;param name="lastException"&gt;&lt;/param&gt;
    /// &lt;param name="retryInterval"&gt;&lt;/param&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    </span><span style="color: blue">public static bool </span>ShouldRetryOnException(<span style="color: blue">int </span>currentRetryCount, <span style="color: #2b91af">Exception </span>lastException, <br/>                                              <span style="color: blue">out </span><span style="color: #2b91af">TimeSpan </span>retryInterval)
    {
        <span style="color: blue">int </span>statusCode = <span style="color: #2b91af">TableExtensions</span>.GetStatusCodeFromException(lastException);

        <span style="color: green">// Let us not retry if 2xx, 3xx, 4xx, 501 and 505 errors OR if we exceed our retry count
        // The 202 error code is one such possibility for batch requests.
        </span><span style="color: blue">if </span>(currentRetryCount == <span style="color: #2b91af">RetryPolicies</span>.DefaultClientRetryCount
            || statusCode == -1
            || (statusCode &gt;= 200 &amp;&amp; statusCode &lt; 500)
            || statusCode == (<span style="color: blue">int</span>)<span style="color: #2b91af">HttpStatusCode</span>.NotImplemented
            || statusCode == (<span style="color: blue">int</span>)<span style="color: #2b91af">HttpStatusCode</span>.HttpVersionNotSupported)
        {
            retryInterval = <span style="color: #2b91af">TimeSpan</span>.Zero;
            <span style="color: blue">return false</span>;
        }

        <span style="color: green">// The following is an exponential backoff strategy
        </span><span style="color: #2b91af">Random </span>r = <span style="color: blue">new </span><span style="color: #2b91af">Random</span>();
        <span style="color: blue">int </span>increment = (<span style="color: blue">int</span>)(
            (<span style="color: #2b91af">Math</span>.Pow(2, currentRetryCount) - 1) * <br/>             r.Next((<span style="color: blue">int</span>)(<span style="color: #2b91af">RetryPolicies</span>.DefaultClientBackoff.TotalMilliseconds * 0.8),
                    (<span style="color: blue">int</span>)(<span style="color: #2b91af">RetryPolicies</span>.DefaultClientBackoff.TotalMilliseconds * 1.2)));

        <span style="color: blue">int </span>timeToSleepMsec = (<span style="color: blue">int</span>)<span style="color: #2b91af">Math</span>.Min(
            <span style="color: #2b91af">RetryPolicies</span>.DefaultMinBackoff.TotalMilliseconds + increment,
            <span style="color: #2b91af">RetryPolicies</span>.DefaultMaxBackoff.TotalMilliseconds);

        retryInterval = <span style="color: #2b91af">TimeSpan</span>.FromMilliseconds(timeToSleepMsec);
        <span style="color: blue">return true</span>;
    }

    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">This retry policy follows an exponential backoff and in addition retries <br/><span style="color: gray">    /// </span><span style="color: green">only on required HTTP status codes </span><br/>    </span><span style="color: gray">/// &lt;/summary&gt;
    </span><span style="color: blue">public static </span><span style="color: #2b91af">RetryPolicy </span>RetryExponential()
    {
        <span style="color: blue">return </span>() =&gt;
        {
            <span style="color: blue">return </span>ShouldRetryOnException;
        };
    }

    <span style="color: gray">/// &lt;summary&gt;
    /// </span><span style="color: green">Get the status code from exception
    </span><span style="color: gray">/// &lt;/summary&gt;
    /// &lt;param name="e"&gt;&lt;/param&gt;
    /// &lt;returns&gt;&lt;/returns&gt;
    </span><span style="color: blue">private static int </span>GetStatusCodeFromException(<span style="color: #2b91af">Exception </span>e)
    {
        <span style="color: #2b91af">DataServiceRequestException </span>dsre = e <span style="color: blue">as </span><span style="color: #2b91af">DataServiceRequestException</span>;
        <span style="color: blue">if </span>(dsre != <span style="color: blue">null</span>)
        {
            <span style="color: green">// Retrieve the status code:
            //  - if we have an operation response, then it is the status code of that response. 
            //     We can only have one response on failure and we can ignore the batch status
            //  - otherwise it is the batch status code 
            </span><span style="color: #2b91af">OperationResponse </span>opResponse = dsre.Response.FirstOrDefault();
            <span style="color: blue">if </span>(opResponse != <span style="color: blue">null</span>)
            {
                <span style="color: blue">return </span>opResponse.StatusCode;
            }

            <span style="color: blue">return </span>dsre.Response.BatchStatusCode;
        }

        <span style="color: #2b91af">DataServiceClientException </span>dsce = e <span style="color: blue">as </span><span style="color: #2b91af">DataServiceClientException</span>;
        <span style="color: blue">if </span>(dsce != <span style="color: blue">null</span>)
        {
            <span style="color: blue">return </span>dsce.StatusCode;
        }

        <span style="color: #2b91af">WebException </span>we = e <span style="color: blue">as </span><span style="color: #2b91af">WebException</span>;
        <span style="color: blue">if </span>(we != <span style="color: blue">null</span>)
        {
            <span style="color: #2b91af">HttpWebResponse </span>response = we.Response <span style="color: blue">as </span><span style="color: #2b91af">HttpWebResponse</span>;

            <span style="color: green">// if we do not get a response, we will assume bad gateway. <br/>            // This is not completely true, but since it is better to retry on such errors, 
            // we make up an error code here
            </span><span style="color: blue">return </span>response != <span style="color: blue">null </span>? (<span style="color: blue">int</span>)response.StatusCode : (<span style="color: blue">int</span>)<span style="color: #2b91af">HttpStatusCode</span>.BadGateway;
        }

        <span style="color: green">// let us not retry on any other exceptions
        </span><span style="color: blue">return </span>-1;
    }
} <br/> </pre>
<p><a href="http://11011.net/software/vspaste"></a></p>
	</div><!-- .entry-content -->


	<footer class="entry-footer single">
					<div class="tags">
				<span>Tags </span>
				<span>
					<a href="https://blogs.msdn.microsoft.com/windowsazurestorage/tag/issues-fixed/" rel="tag">Issues - Fixed</a> <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/tag/windows-azure-tables/" rel="tag">Windows Azure Tables</a>				</span>
			</div>
				<hr>
	</footer><!-- .entry-footer -->

</article><!-- #post-## -->

			
		</div><!-- #single-content -->

		
<div id="comments" class="comments-area">
	<div class="comments-title">
		Comments (2)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/04/22/savechangeswithretries-and-batch-option/#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F04%2F22%2Fsavechangeswithretries-and-batch-option%2F">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
			<div class="navigation pagination clear-both">
					</div>

		<ol class="comment-list">
					<li class="comment even thread-even depth-1" id="comment-30">
				<div id="div-comment-30" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/236494089fea53ad71b5a0a3c3706686?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/236494089fea53ad71b5a0a3c3706686?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">pusheng</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/04/22/savechangeswithretries-and-batch-option/#comment-30">
			May 6, 2010 at 2:49 pm</a>		</div>

		<p>Will this bug be fixed in Azure StorageClient SDK 1.2?</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F04%2F22%2Fsavechangeswithretries-and-batch-option%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-31">
				<div id="div-comment-31" class="comment-body">
				<div class="comment-author vcard">
			<img alt="" src="https://secure.gravatar.com/avatar/981905ea9da65d220b406c8632984a17?s=56&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/981905ea9da65d220b406c8632984a17?s=112&amp;d=mm&amp;r=g 2x" class="avatar avatar-56 photo" height="56" width="56"/>			<cite class="fn">Jai (MSFT)</cite> <span class="says">says:</span>		</div>
		
		<div class="comment-meta commentmetadata"><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2010/04/22/savechangeswithretries-and-batch-option/#comment-31">
			May 6, 2010 at 11:13 pm</a>		</div>

		<p>Yes, it will be fixed in SDK 1.2.</p>

		<div class="reply"><a rel="nofollow" class="comment-reply-login" href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2010%2F04%2F22%2Fsavechangeswithretries-and-batch-option%2F">Log in to Reply</a></div>
				</div>
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		<div class="navigation pagination">
					</div>

	
	
</div><!-- .comments-area -->
	</div><!-- #primary -->