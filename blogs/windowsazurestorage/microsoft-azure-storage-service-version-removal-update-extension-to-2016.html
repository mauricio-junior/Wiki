---
layout: windowsazurestorage
title: Microsoft Azure Storage Service Version Removal Update&#58; Extension to 2016
weight: 3
---

<div id="site-content" class="site-content row">

	<div id="primary" class="content-area col-sm-9">
		<div id="single-content" class="div-content">

			
				
<article id="post-1461" class="post-1461 post type-post status-publish format-standard hentry category-uncategorized">

	<header class="entry-header single">
		<h1 class="entry-title">Microsoft Azure Storage Service Version Removal Update: Extension to 2016</h1>		<div class="rating-wrap">
		<div id="star-rating-1461" class="wds-ratings" data-rating="0" data-userrating="0" data-postid="1461" data-container="body" data-toggle="tooltip" title="0 user(s) rated">
			<div class="wds-ratings-inner-wrap">
				<div>
					<div aria-label="Select 5 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="5"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span><span aria-hidden="true" class="star-5"><span>&#x2605;</span></span></div><div aria-label="Select 4 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="4"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span></div><div aria-label="Select 3 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="3"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span></div><div aria-label="Select 2 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="2"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span></div><div aria-label="Select 1 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="1"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span></div>
				</div>
			</div>
		</div>
		</div>		<div class="clear-both"></div>
		<div class="entry-meta">
			<img alt="avatar of windows-azure-storage" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-22 photo" height="22" width="22"/><span class="byline"><span class="author vcard"><a class="url fn n profile-usercard-hover" data-profile-userid="59e1aedafa2d4428b7004b2c2fac4adc" href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage">Windows Azure Storage</a></span></span><span class="posted-on posted-on-margin"><span class="screen-reader-text"></span><time class="entry-date published updated" datetime="2015-10-19T12:26:00+00:00">October 19, 2015</time></span><span class="comments-link"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/10/19/microsoft-azure-storage-service-version-removal-update-extension-to-2016/#respond">0</a></span>				<span class="social-icons-wrap">
		<ul class="social-icons">
			<li><div class="fb-share-button" data-href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/10/19/microsoft-azure-storage-service-version-removal-update-extension-to-2016/" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blogs.msdn.microsoft.com/windowsazurestorage/2015/10/19/microsoft-azure-storage-service-version-removal-update-extension-to-2016/&amp;src=sdkpreparse">Share</a></div></li>
			<div id="fb-root" style="display:none"></div>

			<li class="social-icon twitter"><a data-social="{&quot;type&quot;:&quot;twitter&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2015/10/19/microsoft-azure-storage-service-version-removal-update-extension-to-2016/&quot;, &quot;text&quot;: &quot;Microsoft Azure Storage Service Version Removal Update: Extension to 2016&quot;}" href="#" id="post_tweet_count">0</a></li>
			<li class="social-icon linkedin"><a data-social="{&quot;type&quot;:&quot;linkedin&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2015/10/19/microsoft-azure-storage-service-version-removal-update-extension-to-2016/&quot;, &quot;text&quot;: &quot;Microsoft Azure Storage Service Version Removal Update: Extension to 2016&quot;}" href="#" id="get_post_linkedin_count">0</a></li>
		</ul>
	</span><!-- .social-icons-wrap -->
	<script type="text/javascript">
		// Get social counts
		jQuery( window ).load(function () {
			jQuery.getScript('https://blogs.msdn.microsoft.com/windowsazurestorage/wp-content/themes/microsoft/js/social-counts.js?ver=02092017')
				.done(function(script,textStatus) {
					window.msdnsocial.ajax('https://blogs.msdn.microsoft.com/windowsazurestorage/2015/10/19/microsoft-azure-storage-service-version-removal-update-extension-to-2016/');
				});
		});
	</script>
		</div>
		<hr>
	</header><!-- .entry-header -->

	<div class="entry-content single">
		<h2>Summary</h2>
<p>The Storage Service uses versioning to govern what operations are available, how a given request will be processed and what will be returned. In <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2014/08/05/microsoft-azure-storage-service-version-removal.aspx" target="_blank">2014</a>, we announced that specific versions of the Microsoft Azure Storage Service would be removed on December 9<sup>th</sup>, 2015. Based on your feedback, we are now making the following changes with the details in the table below.</p>
<ol>
<li>We will delay the removal date for some REST API versions and impacted client libraries. This includes all REST endpoints starting version 2009-07-17 and earlier. The effective date for this service removal is <strong>August 1<sup>st</sup>, 2016</strong>.</li>
<li>We will indefinitely postpone the removal date for the endpoints 2011-08-18 and 2009-09-19. This is effective immediately. We intend to remove these versions at some point in the future, but not within the coming 12 months. The exact date of removal will be communicated via this blog forum and with 12 months&rsquo; notice provided.</li>
<li>We will begin using service version 2014-04-05 for requests that do not include a specific version for SAS authentication and Anonymous access. However, we will begin rejecting any unversioned SharedKey/SharedKeyLite authenticated requests. The effective date for this is <strong>August 1<sup>st</sup>, 2016</strong>.</li>
<li>Finally, there is no change to support level and availability of versions 2012-02-12 and beyond.</li>
</ol>
<table style="width: 685px;" border="1" cellspacing="0" cellpadding="2">
<tbody>
<tr>
<td valign="top" width="261"><span style="font-size: small; background-color: #ffffff;"><strong>Endpoint</strong></span></td>
<td valign="top" width="163"><span style="font-size: small; background-color: #ffffff;"><strong>Action</strong></span></td>
<td valign="top" width="259"><span style="font-size: small; background-color: #ffffff;"><strong>Effective</strong></span></td>
</tr>
<tr>
<td valign="top" width="260">2008 (undocumented, but used for processing unversioned requests)</td>
<td valign="top" width="165">Removal</td>
<td valign="top" width="258">Aug 1, 2016</td>
</tr>
<tr>
<td valign="top" width="259"><a href="http://msdn.microsoft.com/en-us/library/windowsazure/dn592122.aspx" target="_blank">Version 2009-04-14</a></td>
<td valign="top" width="166">Removal</td>
<td valign="top" width="258">Aug 1, 2016</td>
</tr>
<tr>
<td valign="top" width="259"><a href="http://msdn.microsoft.com/en-us/library/windowsazure/dn592117.aspx" target="_blank">Version 2009-07-17</a></td>
<td valign="top" width="167">Removal</td>
<td valign="top" width="257">Aug 1, 2016</td>
</tr>
<tr>
<td valign="top" width="259"><a href="https://msdn.microsoft.com/library/azure/dn592121.aspx" target="_blank">Version 2009-09-19</a><br/> (.Net client library v1.5.1 uses this)</td>
<td valign="top" width="168">Postponed</td>
<td valign="top" width="257">N/A</td>
</tr>
<tr>
<td valign="top" width="258"><a href="https://msdn.microsoft.com/library/azure/dn592120.aspx" target="_blank">Version 2011-08-18</a><br/> (.Net client library v1.7 uses this)</td>
<td valign="top" width="169">Postponed</td>
<td valign="top" width="257">N/A</td>
</tr>
<tr>
<td valign="top" width="258"><a href="https://msdn.microsoft.com/en-us/library/azure/dn592123.aspx" target="_blank">Version 2012-02-12</a><br/> <a href="https://msdn.microsoft.com/en-us/library/azure/dn592124.aspx" target="_blank">Version 2013-08-15</a><br/> <a href="https://msdn.microsoft.com/en-us/library/azure/mt347886.aspx" target="_blank">Version 2014-02-14</a><br/> <a href="https://msdn.microsoft.com/en-us/library/azure/mt584141.aspx" target="_blank">Version 2015-02-21</a><br/> <a href="https://msdn.microsoft.com/en-us/library/azure/dd894041.aspx" target="_blank">Version 2015-04-05</a></td>
<td valign="top" width="169">No change</td>
<td valign="top" width="257">N/A</td>
</tr>
</tbody>
</table>
<p>Please plan and implement your application upgrades soon so you are not impacted when service versions are removed. Additionally, we encourage you to regularly update to the latest service version and client libraries so you get the benefit of the latest features. To understand the details of how this will impact you and what you need to do, please read on.</p>
<h2>How will these changes manifest?</h2>
<h4>Explicitly Versioned Requests</h4>
<p>Any requests which are explicitly versioned using the HTTP x-ms-version request header set to one of the removed versions or in the case of SAS requests api-version parameter set to one of the removed versions, will fail with an HTTP 400 (Bad Request) status code, similar to any request made with an invalid version header.</p>
<h4>SharedKey/SharedKeyLite Requests with no explicit version</h4>
<p>For requests that were signed using the account&rsquo;s shared key, if no explicit version is specified using HTTP x-ms-version, the request was previously processed with the undocumented 2008 version. Going forward, processing will fail with HTTP 400 (Bad Request) if the version is not explicitly specified.</p>
<h4>SAS Requests with no &ldquo;sv&rdquo; parameter and no &ldquo;x-ms-version&rdquo;</h4>
<p>Prior to version 2012-02-12, a SAS request did not specify a version in the &ldquo;sv&rdquo; parameter of the SAS token. The SAS token parameters of these requests were interpreted using the rules for the 2009-07-17 REST processing version. These requests will still work, but now the request will be processed with 2015-04-05 version. We advise you in this case to ensure that you either send &ldquo;x-ms-version&rdquo; with a non-deprecated version or set a default version on your account.</p>
<h4>Anonymous Requests with no explicit version</h4>
<p>For any anonymous requests (with no authentication) with no version specified, the service assumes that the request is version agnostic. Effective August 1st 2016, anonymous requests will be processed with version 2015-04-05. The version used for anonymous requests may change again in the future.</p>
<p>Note that we make no guarantees about whether or not there will be breaking changes when unversioned requests are processed with a new service version. Instances of these requests include browser-initiated HTTP requests and HTTP requests without the service version specified that are made from applications not using Storage client libraries. If your application is unable to send an x-ms-version for anonymous requests (for example, from a browser), then you can set a default REST version for your account through Set Blob Service Properties, for the Blob service for instance.</p>
<h4>Default Service Version</h4>
<p>If <a href="http://msdn.microsoft.com/en-us/library/azure/hh452235.aspx" target="_blank">Set Blob Service Properties (REST API)</a> has been used to set the default version of requests to version 2009-09-19 or higher, the version set will be used. If default service version was set to a version that is now removed, that request is considered to be explicitly versioned, and will fail with &ldquo;400 Bad Request&rdquo;. If default service version was set to a version that is still supported, that version will continue to be used.</p>
<h4>Client Libraries</h4>
<p>The latest versions of all of our client libraries and tools will not be affected by this announcement. However the .Net client library v1.5.1 uses <a href="https://msdn.microsoft.com/library/azure/dn592121.aspx" target="_blank">Version 2009-09-19</a> and will be impacted when that version is eventually removed. If you are still using this library, please update to the latest .Net client library before the version is removed. For a list of .Net client libraries using various REST endpoints, please visit <a href="https://msdn.microsoft.com/en-us/library/azure/dn744252.aspx" target="_blank">https://msdn.microsoft.com/en-us/library/azure/dn744252.aspx</a>. If you are using non-.Net libraries, then you should not be impacted. For more information, please look at the at the <strong>Minimum Supported Versions/Libraries/SDK&rsquo;s </strong>section in this <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2014/08/05/microsoft-azure-storage-service-version-removal.aspx" target="_blank">article</a>.</p>
<h4>Azure CloudDrive</h4>
<p>If you are using Azure CloudDrive, then you are not impacted by this announcement since it uses REST <a href="https://msdn.microsoft.com/library/azure/dn592121.aspx" target="_blank">Version 2009-09-19</a>. We will have an announcement in the near future on CloudDrive migration.</p>
<h2>What should I do?</h2>
<p>To ensure that your application continues to work properly after removal of older versions, you should do the following things.</p>
<h4>Check your application to find what versions it is using</h4>
<p>The first thing to do is to determine what REST versions your application is using. If your application is under your control and you are aware of all components that call Azure Storage, then you can verify this by checking the components against the above list, or by inspecting your code if you have written your own code to make calls to storage.</p>
<p>As a stronger check, or if you are unsure which versions of the components have been deployed, you can <a href="http://msdn.microsoft.com/en-us/library/hh343270.aspx" target="_blank">enable logging</a>, which will log the requests being made to your storage account. The logs have the <a href="http://msdn.microsoft.com/en-us/library/hh343259.aspx" target="_blank">request version used included</a>, which can be used to find if any requests are being made using versions with planned removal.</p>
<p>Here is a sample log entry, with the version used highlighted in red &ndash; in this case the request was an anonymous and unversioned <strong>GetBlob</strong> request which implicitly used the <strong>2009-09-19</strong> version:</p>
<p>1.0;2011-08-09T18:52:40.9241789Z;GetBlob;AnonymousSuccess;200;18;10;anonymous;;myaccount;blob;"https:// myaccount.blob.core.windows.net/thumbnails/lake.jpg?timeout=30000";"/myaccount/thumbnails/lake.jpg";a84aa705-8a85-48c5-b064-b43bd22979c3;0;123.100.2.10;<strong>2009-09-19</strong>;252;0;265;100;0;;;"0x8CE1B6EA95033D5";Friday, 09-Aug-11 18:52:40 GMT;;;;"8/9/2011 6:52:40 PM ba98eb12-700b-4d53-9230-33a3330571fc"</p>
<p>Similar to the above, you can look at log entries to identify any references to service versions that are being removed.</p>
<h4>What to change</h4>
<p>If you find any log entries which show that a version to be removed is being used, you will need to find that component and either validate that it will continue to work (unversioned requests may continue to work as their implicit version will simply increase &ndash; see above), or take appropriate steps to change the version being used. Most commonly, one of the following two steps will be used:</p>
<ol>
<li>Change the version specified in the request. If you are using client libraries, you can accomplish this by migrating to a later version of the libraries/tools. When possible, migrate to the latest version to get the most improvements and fixes.</li>
<li>Set the default service version to one of the supported versions now so that the behavior can be verified prior to removal. This only applies to anonymous requests with no explicit version.</li>
</ol>
<p>When migrating your applications to newer versions, you should review the above linked change lists for each service version and test thoroughly to ensure that your application is working properly after you&rsquo;ve updated it. Please note that service version updates have included both included syntactic breaks (the request will receive a response that either is a failure or formed very differently) and semantic breaks (the request will receive a similar response that means something different).</p>
<h4>Post migration validation</h4>
<p>After migration, you should validate in the logs that you do not find any of the earlier versions being used. Make sure to check the logs over long enough durations of time to be sure that there are no tasks/workloads running rarely that would still use the older versions (scheduled tasks that run once per day, for example).</p>
<h2>Conclusion</h2>
<p>It is recommended that users begin their applications upgrades now in order to avoid being impacted when the earlier service versions are removed on <strong>August 1<sup>st</sup>, 2016</strong>. Additionally,<strong> i</strong>t is considered a best practice to explicitly version all requests made to the storage service. See <a href="http://msdn.microsoft.com/en-us/library/azure/dd894041.aspx" target="_blank">MSDN</a> for a discussion of versioning in Azure Storage and best practices.</p>
<p>Thank you.</p>
<p>Dinesh Murthy <br/>Principal Program Manager <br/>Microsoft Azure Storage</p>
	</div><!-- .entry-content -->


	<footer class="entry-footer single">
				<hr>
	</footer><!-- .entry-footer -->

</article><!-- #post-## -->

			
		</div><!-- #single-content -->

		
<div id="comments" class="comments-area">
	<div class="comments-title">
		Comments (0)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://blogs.msdn.microsoft.com/windowsazurestorage/2015/10/19/microsoft-azure-storage-service-version-removal-update-extension-to-2016/#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2015%2F10%2F19%2Fmicrosoft-azure-storage-service-version-removal-update-extension-to-2016%2F">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
	
	
</div><!-- .comments-area -->
	</div><!-- #primary -->