---
layout: windowsazurestorage
title: What’s new for Microsoft Azure Storage at TechEd 2014
weight: 3
---

<div id="site-content" class="site-content row">

	<div id="primary" class="content-area col-sm-9">
		<div id="single-content" class="div-content">

			
				
<article id="post-155" class="post-155 post type-post status-publish format-standard hentry category-uncategorized">

	<header class="entry-header single">
		<h1 class="entry-title">What&rsquo;s new for Microsoft Azure Storage at TechEd 2014</h1>		<div class="rating-wrap">
		<div id="star-rating-155" class="wds-ratings" data-rating="0" data-userrating="0" data-postid="155" data-container="body" data-toggle="tooltip" title="0 user(s) rated">
			<div class="wds-ratings-inner-wrap">
				<div>
					<div aria-label="Select 5 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="5"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span><span aria-hidden="true" class="star-5"><span>&#x2605;</span></span></div><div aria-label="Select 4 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="4"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span></div><div aria-label="Select 3 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="3"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span></div><div aria-label="Select 2 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="2"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span></div><div aria-label="Select 1 star, this article is 0 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="1"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span></div>
				</div>
			</div>
		</div>
		</div>		<div class="clear-both"></div>
		<div class="entry-meta">
			<img alt="avatar of windows-azure-storage" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-22 photo" height="22" width="22"/><span class="byline"><span class="author vcard"><a class="url fn n profile-usercard-hover" data-profile-userid="59e1aedafa2d4428b7004b2c2fac4adc" href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage">Windows Azure Storage</a></span></span><span class="posted-on posted-on-margin"><span class="screen-reader-text"></span><time class="entry-date published updated" datetime="2014-05-13T22:05:00+00:00">May 13, 2014</time></span><span class="comments-link"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2014/05/13/whats-new-for-microsoft-azure-storage-at-teched-2014/#respond">0</a></span>				<span class="social-icons-wrap">
		<ul class="social-icons">
			<li><div class="fb-share-button" data-href="https://blogs.msdn.microsoft.com/windowsazurestorage/2014/05/13/whats-new-for-microsoft-azure-storage-at-teched-2014/" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blogs.msdn.microsoft.com/windowsazurestorage/2014/05/13/whats-new-for-microsoft-azure-storage-at-teched-2014/&amp;src=sdkpreparse">Share</a></div></li>
			<div id="fb-root" style="display:none"></div>

			<li class="social-icon twitter"><a data-social="{&quot;type&quot;:&quot;twitter&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2014/05/13/whats-new-for-microsoft-azure-storage-at-teched-2014/&quot;, &quot;text&quot;: &quot;What’s new for Microsoft Azure Storage at TechEd 2014&quot;}" href="#" id="post_tweet_count">0</a></li>
			<li class="social-icon linkedin"><a data-social="{&quot;type&quot;:&quot;linkedin&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2014/05/13/whats-new-for-microsoft-azure-storage-at-teched-2014/&quot;, &quot;text&quot;: &quot;What’s new for Microsoft Azure Storage at TechEd 2014&quot;}" href="#" id="get_post_linkedin_count">0</a></li>
		</ul>
	</span><!-- .social-icons-wrap -->
	<script type="text/javascript">
		// Get social counts
		jQuery( window ).load(function () {
			jQuery.getScript('https://blogs.msdn.microsoft.com/windowsazurestorage/wp-content/themes/microsoft/js/social-counts.js?ver=02092017')
				.done(function(script,textStatus) {
					window.msdnsocial.ajax('https://blogs.msdn.microsoft.com/windowsazurestorage/2014/05/13/whats-new-for-microsoft-azure-storage-at-teched-2014/');
				});
		});
	</script>
		</div>
		<hr>
	</header><!-- .entry-header -->

	<div class="entry-content single">
		<p>At TechEd, we introduced a number of exciting changes in addition to release of a new service which is first of its kind amongst all cloud service providers. If you missed the talk on Azure Storage service at TechEd, you can view it <a href="https://channel9.msdn.com/Events/TechEd/NorthAmerica/2014/DCIM-B384#fbid=" target="_blank">here</a>. Here is a brief list of things we spoke about:</p>
<ol>
<li>A new service called <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/11/introducing-microsoft-azure-file-service.aspx" target="_blank">Azure Files</a> </li>
<li>Increase in <a href="http://msdn.microsoft.com/en-us/library/azure/dn249410.aspx" target="_blank">storage capacity limits</a> to 500 TB per storage account for existing and new accounts. </li>
<li>Increase in <a href="http://msdn.microsoft.com/en-us/library/azure/dn249410.aspx" target="_blank">storage bandwidth limits</a> to 10 Gibps Ingress and 30 Gibps Egress per storage account located only in U.S regions for existing and new accounts. </li>
<li>General availability of our <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/11/announcing-microsoft-azure-import-export-service-ga.aspx" target="_blank">Import/Export Service</a> </li>
<li>A new REST <a href="http://msdn.microsoft.com/en-us/library/azure/dd894041.aspx" target="_blank">version 2014-02-14</a> that includes Azure Files and a new Shared Access Signature (SAS) feature that allows users to control the REST protocol version used to process the request independent of the SAS token version. </li>
</ol>
<p>We are also releasing an updated Microsoft Azure Storage Client Library 4.0 <a href="http://www.nuget.org/packages/WindowsAzure.Storage" target="_blank">here</a> that supports the features listed above and can be used to exercise the new features. In addition, a new version of the Storage Emulator 3.2 can be found in <a href="http://www.microsoft.com/en-us/download/details.aspx?id=42317" target="_blank">here</a> that supports the new Storage version for Azure Blob, Azure Table and Azure Queue. Note that the emulator does not support Azure Files.</p>
<h2>Introducing Microsoft Azure Files</h2>
<p>Microsoft Azure Files provides a file share in the cloud via SMB 2.1 protocol. This file share can be used by applications in the cloud to share files between VM instances within a same region. In addition, it provides a REST interface for the file share to be accessed from anywhere at the same time the files are being accessed by VMs via SMB. More details can be found at in this <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/11/introducing-microsoft-azure-file-service.aspx" target="_blank">blog</a> and this <a href="http://msdn.microsoft.com/en-us/library/azure/dn167006.aspx" target="_blank">MSDN</a> page.</p>
<h2>Increase in storage limits</h2>
<p>All storage accounts in all regions now get 500 TB capacity per storage account.</p>
<p>In addition we have increased the bandwidth limits for storage accounts located in US regions to the following:</p>
<p>For Geo Redundant Storage (GRS) Accounts</p>
<ul>
<li>Ingress=10 Gibps </li>
<li>Egress=20 Gibps </li>
</ul>
<p>For Local Redundant Storage (LRS) Accounts</p>
<ul>
<li>Ingress=20 Gibps </li>
<li>Egress=30 Gibps </li>
</ul>
<p>Bandwidth per storage accounts in other regions remains unchanged. More details in <a href="http://msdn.microsoft.com/en-us/library/azure/dn249410.aspx" target="_blank">here</a>.</p>
<h2>General Availability of our Import/Export service</h2>
<p>Our import/export service is exiting preview and now available in Europe and Asia Pacific regions too. Customers need not apply for tokens and can now import/export data from/to storage accounts by shipping disks. More details can be found at this <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/11/announcing-microsoft-azure-import-export-service-ga.aspx" target="_blank">blog post</a>.</p>
<h2>Changes in Shared Access Signatures (SAS)</h2>
<p>Before we go into more details about the change, we will briefly describe the versioning scheme in Azure Storage and what Shared Access Signature (SAS) is.</p>
<h3>Shared Access Signature</h3>
<p>Shared Access Signatures (SAS) are pre-authenticated tokens with which clients can provide access to intended storage resources with specific permissions and without having to share their secret keys. This authentication model is very useful for scenarios like mobile applications, services that require access to storage resources but cannot store secret keys because of security or compliance. Owner of storage resource can control the following parameters while creating a SAS token:</p>
<ol>
<li>The resources that user can access using the token </li>
<li>The start and end time for access </li>
<li>The permissions (like read/write etc.) allowed </li>
</ol>
<p>Anyone who has the SAS token can access the resources allowed with the provided permissions on the resource(s). More information can be found in this <a href="http://msdn.microsoft.com/en-us/library/ee395415.aspx" target="_blank">MSDN page</a>.</p>
<p>Applications typically use a single REST version to perform their REST calls to Azure Storage. The storage service introduces a new version whenever new service features are added or breaking changes (syntax or semantics) in the protocol occur. Applications can control the REST version via the x-ms-version header. However for SAS, the query parameter sv is used as the SAS authentication version and as the request processing version. It is worth noting that sv is determined by the application generating the SAS token. This could be a problem when clients using SAS token to access storage resources may want a different version than the one specified in sv.</p>
<p><strong>Example:</strong> <code>https://myaccount.blob.core.windows.net/mycontainer?restype=container&amp;comp=list&amp;</code><strong>sv=2013-08-11</strong>&amp;si=readpolicy&amp;sig=a39 %2BYozJhGp6miujGymjRpN8tsrQfLo9Z3i8IRyIpnQ%3d</p>
<h3>Changes in 2014-02-14 version</h3>
<p>As mentioned before, SAS token specifies an <em>sv</em> query parameter which decides the version used for interpreting the SAS parameters and the REST protocol. This introduces a problem for applications in which a service generating the SAS token and client service consuming the SAS token version use different versions of storage REST APIs.</p>
<p>To resolve this issue, we have decoupled the versioning of a SAS token from the REST protocol version. Starting in version 2014-02-14 (i.e. sv=2014-02-14), we have introduced a new query parameter <em>api-version</em> that can be appended by client applications dependent on SAS tokens to specify which protocol version that storage service should use to process the request.</p>
<p><strong>Example:</strong> <code>https://myaccount.blob.core.windows.net/mycontainer?restype=container&amp;comp=list&amp;sv=2014-02-14&amp;si=readpolicy&amp;sig=a39 %2BYozJhGp6miujGymjRpN8tsrQfLo9Z3i8IRyIpnQ%3d<strong>&amp;api-version=&quot;2012-02-12&quot;</strong></code></p>
<p>Hence these are the different parameters that control versioning in a URL to a SAS protected resource:</p>
<ul>
<li><strong>SignedVersion (sv)</strong> query parameter within a SAS token that defines the SAS version to use for authentication and authorization and interpret any SAS parameter that impacts authentication or authorization. This is what SAS generators would set. </li>
<li><strong>API version (api-version)</strong> query parameter to define the REST protocol version to use. Client applications using SAS token should set this value to lock to a given storage service version. </li>
</ul>
<p>More information can be found here in <a href="http://msdn.microsoft.com/en-us/library/azure/dd894041.aspx" target="_blank">MSDN</a>.</p>
<h4>Examples:</h4>
<p>Let’s use the ListBlobs API as an example to see how the version is interpreted. ListBlobs protocol changed starting with 2013-08-11 in which the Uri of the blob was removed from the protocol body. Client library for versions before 2013-08-11 expected this Uri to be present.</p>
<p>Using SAS version 2014-02-14, here are two possible scenario that can occur, controlled by the consumer of the SAS token.</p>
<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd135734.aspx" target="_blank">List Blobs</a> using sv=2014-02-14 version and no api-version override. </li>
</ul>
<blockquote><p><code>https://myaccount.blob.core.windows.net/mycontainer?restype=container&amp;comp=list&amp;</code>sv=2014-02-14&amp;si=readpolicy&amp;sig=a39 %2BYozJhGp6miujGymjRpN8tsrQfLo9Z3i8IRyIpnQ%3d</p>
</blockquote>
<blockquote><p>In here, the service will authenticate and authorize access using 2014-02-14 SAS version and will also execute the API using the same 2014-02-14 for the protocol.</p>
</blockquote>
<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd135734.aspx" target="_blank">List Blobs</a> using sv=2014-02-14 version and api-version override. </li>
</ul>
<blockquote><p><code>https://myaccount.blob.core.windows.net/mycontainer?restype=container&amp;comp=list&amp;</code>sv=2014-02-14&amp;si=readpolicy&amp;sig=a39 %2BYozJhGp6miujGymjRpN8tsrQfLo9Z3i8IRyIpnQ%3d&amp;api-version=2013-08-11</p>
</blockquote>
<blockquote><p>Here, the service will authenticate and authorize using 2014-02-14 version and execute the API using 2013-08-11 of the protocol. Hence clients using Storage client library versioned 2013-08-11 will work.</p>
</blockquote>
<h2>Best Practices</h2>
<p>For generating SAS tokens, the recommendation would be to use the Storage Client library 4.0 or later for generating the SAS tokens and return the token as is to clients like the below code snippet:</p>
<div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; border-top: silver 1px solid; font-family: 'Courier New', courier, monospace; border-right: silver 1px solid; width: 97.5%; border-bottom: silver 1px solid; padding-bottom: 4px; direction: ltr; text-align: left; padding-top: 4px; padding-left: 4px; margin: 20px 0px 10px; border-left: silver 1px solid; line-height: 12pt; padding-right: 4px; background-color: #f4f4f4">
<pre id="codeSnippet" style="border-top-style: none; overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; border-bottom-style: none; color: black; padding-bottom: 0px; direction: ltr; text-align: left; padding-top: 0px; border-right-style: none; padding-left: 0px; margin: 0em; border-left-style: none; line-height: 12pt; padding-right: 0px; background-color: #f4f4f4">CloudStorageAccount account = CloudStorageAccount.Parse(cxnString);<br/>CloudBlobClient blobClient = account.CreateCloudBlobClient();<br/>CloudBlobContainer container = blobClient.GetContainerReference(<span style="color: #006080">&quot;demo&quot;</span>);<br/>CloudBlockBlob blob = container.GetBlockBlobReference(<span style="color: #006080">&quot;phot.jpg&quot;</span>);<br/><span style="color: #0000ff">string</span> sasToken = blob.GetSharedAccessSignature(<br/>     <span style="color: #0000ff">new</span> SharedAccessBlobPolicy()<br/>     {<br/>          Permissions = SharedAccessBlobPermissions.Read | SharedAccessBlobPermissions.Write,<br/>          SharedAccessExpiryTime = DateTime.UtcNow.AddDays(1)<br/>     });<br/> <br/><span style="color: #008000">// return the token as is or if it is Uri needs to be handed out then </span><br/><span style="color: #008000">// return blob.Uri.AbsoluteUri + sasToken;</span><br/><span style="color: #0000ff">return</span> sasToken;</pre>
</div>
<p>For SAS Consumers, the recommendations are as follow:</p>
<ul>
<li>For applications using Storage client library 2.0 and above: client libraries will just work when client applications are using SAS tokens that have sv set to 2014-02-14 or later. </li>
<li>For applications building their own REST protocol implementation: When a token with sv is set to version 2014-02-14 or later, you can append api-version query parameter and set it to the needed version. </li>
</ul>
<p>Please do use this version and provide us feedback via comments on this blob or <a href="http://social.msdn.microsoft.com/Forums/windowsazure/en-US/home?forum=windowsazuredata" target="_blank">Azure Storage MSDN forum</a>.</p>
<p>Microsoft Azure Storage Team</p>
<h2>Resources</h2>
<p><a href="http://msdn.microsoft.com/en-us/library/azure/dn167006.aspx" target="_blank">Microsoft Azure Files MSDN documentation</a></p>
<p><a href="http://msdn.microsoft.com/en-us/library/azure/dd894041.aspx" target="_blank">MSDN release notes for version 2014-04-14</a></p>
<p><a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/11/introducing-microsoft-azure-file-service.aspx" target="_blank">Introducing Microsoft Azure File Service</a></p>
<p><a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/11/announcing-microsoft-azure-import-export-service-ga.aspx" target="_blank">Announcing Microsoft Azure Import/Export Service GA</a></p>
<p><a href="http://msdn.microsoft.com/en-us/library/ee395415.aspx" target="_blank">Shared Access Signatures</a></p>
<p><a href="http://www.nuget.org/packages/WindowsAzure.Storage" target="_blank">Storage .NET Client Library 4.0 for 2014-04-14 version</a></p>
<p><a href="http://www.microsoft.com/en-us/download/details.aspx?id=42317" target="_blank">Microsoft Azure Storage Emulator 3.2</a>.</p>
	</div><!-- .entry-content -->


	<footer class="entry-footer single">
				<hr>
	</footer><!-- .entry-footer -->

</article><!-- #post-## -->

			
		</div><!-- #single-content -->

		
<div id="comments" class="comments-area">
	<div class="comments-title">
		Comments (0)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://blogs.msdn.microsoft.com/windowsazurestorage/2014/05/13/whats-new-for-microsoft-azure-storage-at-teched-2014/#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2014%2F05%2F13%2Fwhats-new-for-microsoft-azure-storage-at-teched-2014%2F">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
	
	
</div><!-- .comments-area -->
	</div><!-- #primary -->