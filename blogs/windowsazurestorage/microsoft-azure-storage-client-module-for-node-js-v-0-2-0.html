---
layout: windowsazurestorage
title: Microsoft Azure Storage Client Module for Node.js v. 0.2.0
weight: 3
---

<div id="site-content" class="site-content row">

	<div id="primary" class="content-area col-sm-9">
		<div id="single-content" class="div-content">

			
				
<article id="post-160" class="post-160 post type-post status-publish format-standard hentry category-uncategorized">

	<header class="entry-header single">
		<h1 class="entry-title">Microsoft Azure Storage Client Module for Node.js v. 0.2.0</h1>		<div class="rating-wrap">
		<div id="star-rating-160" class="wds-ratings" data-rating="5" data-userrating="0" data-postid="160" data-container="body" data-toggle="tooltip" title="1 user(s) rated">
			<div class="wds-ratings-inner-wrap">
				<div>
					<div aria-label="Select 5 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="5"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span><span aria-hidden="true" class="star-5"><span>&#x2605;</span></span></div><div aria-label="Select 4 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="4"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span><span aria-hidden="true" class="star-4"><span>&#x2605;</span></span></div><div aria-label="Select 3 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="3"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span><span aria-hidden="true" class="star-3"><span>&#x2605;</span></span></div><div aria-label="Select 2 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="2"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span><span aria-hidden="true" class="star-2"><span>&#x2605;</span></span></div><div aria-label="Select 1 star, this article is 5 star rated" tabindex="0" class="wds-ratings-stars wds-ratings-stars-enable-editing" data-stars="1"><span aria-hidden="true" class="star-1"><span>&#x2605;</span></span></div>
				</div>
			</div>
		</div>
		</div>		<div class="clear-both"></div>
		<div class="entry-meta">
			<img alt="avatar of windows-azure-storage" src="https://i1.social.s-msft.com/profile/u/avatar.jpg?displayname=Windows+Azure+Storage&amp;size=extralarge&amp;version=00000000-0000-0000-0000-000000000000" class="avatar avatar-22 photo" height="22" width="22"/><span class="byline"><span class="author vcard"><a class="url fn n profile-usercard-hover" data-profile-userid="59e1aedafa2d4428b7004b2c2fac4adc" href="https://social.msdn.microsoft.com/profile/Windows+Azure+Storage">Windows Azure Storage</a></span></span><span class="posted-on posted-on-margin"><span class="screen-reader-text"></span><time class="entry-date published updated" datetime="2014-06-26T02:49:00+00:00">June 26, 2014</time></span><span class="comments-link"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span><a href="https://blogs.msdn.microsoft.com/windowsazurestorage/2014/06/26/microsoft-azure-storage-client-module-for-node-js-v-0-2-0/#respond">0</a></span>				<span class="social-icons-wrap">
		<ul class="social-icons">
			<li><div class="fb-share-button" data-href="https://blogs.msdn.microsoft.com/windowsazurestorage/2014/06/26/microsoft-azure-storage-client-module-for-node-js-v-0-2-0/" data-layout="button_count" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https://blogs.msdn.microsoft.com/windowsazurestorage/2014/06/26/microsoft-azure-storage-client-module-for-node-js-v-0-2-0/&amp;src=sdkpreparse">Share</a></div></li>
			<div id="fb-root" style="display:none"></div>

			<li class="social-icon twitter"><a data-social="{&quot;type&quot;:&quot;twitter&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2014/06/26/microsoft-azure-storage-client-module-for-node-js-v-0-2-0/&quot;, &quot;text&quot;: &quot;Microsoft Azure Storage Client Module for Node.js v. 0.2.0&quot;}" href="#" id="post_tweet_count">0</a></li>
			<li class="social-icon linkedin"><a data-social="{&quot;type&quot;:&quot;linkedin&quot;, &quot;url&quot;:&quot;https://blogs.msdn.microsoft.com/windowsazurestorage/2014/06/26/microsoft-azure-storage-client-module-for-node-js-v-0-2-0/&quot;, &quot;text&quot;: &quot;Microsoft Azure Storage Client Module for Node.js v. 0.2.0&quot;}" href="#" id="get_post_linkedin_count">0</a></li>
		</ul>
	</span><!-- .social-icons-wrap -->
	<script type="text/javascript">
		// Get social counts
		jQuery( window ).load(function () {
			jQuery.getScript('https://blogs.msdn.microsoft.com/windowsazurestorage/wp-content/themes/microsoft/js/social-counts.js?ver=02092017')
				.done(function(script,textStatus) {
					window.msdnsocial.ajax('https://blogs.msdn.microsoft.com/windowsazurestorage/2014/06/26/microsoft-azure-storage-client-module-for-node-js-v-0-2-0/');
				});
		});
	</script>
		</div>
		<hr>
	</header><!-- .entry-header -->

	<div class="entry-content single">
		<p>The Microsoft Azure Storage team is pleased to announce the CTP release of our first dedicated client library module for Node.js. This new release incorporates significant improvements over the existing node module and will be the Storage client module that is actively developed and supported moving forward. This module contains many improvements in the programming model and architecture, and includes support for the <a href="http://msdn.microsoft.com/en-us/library/azure/dd894041.aspx" target="_blank">2014-02-14 REST</a> Storage service version. The list of improvements is long but in summary our 0.2 release includes: support for RA-GRS, expanded Table Payload Protocol support, Table Insert optimization and query helpers, Shared Access Signature support for all services, Maximum Client Execution Timeout etc.</p>
<p>This is currently a CTP release, meaning that this is the best time to give feedback. The source code is available via <a href="https://github.com/Azure/azure-storage-node" target="_blank">Github</a> (note the updated location). You can download the package and its dependencies from <a href="https://www.npmjs.org/package/azure-storage" target="_blank">npm</a> using the following:</p>
<p>npm install azure-storage</p>
<p>&nbsp;</p>
<h3>Samples</h3>
<p>For information on setting up the Node.js environment for development, see the Resources section at the bottom of this document. We have also provided a series of Getting Started articles on the <a href="http://azure.microsoft.com/en-us/develop/nodejs/" target="_blank">Azure Node.js developer center</a> (<a href="http://azure.microsoft.com/en-us/documentation/articles/storage-nodejs-how-to-use-blob-storage/" target="_blank">Blobs</a>, <a href="http://azure.microsoft.com/en-us/documentation/articles/storage-nodejs-how-to-use-table-storage/" target="_blank">Tables</a>, <a href="http://azure.microsoft.com/en-us/documentation/articles/storage-nodejs-how-to-use-queues/" target="_blank">Queues</a>) and <a href="https://github.com/Azure/azure-storage-node/tree/master/examples/samples" target="_blank">samples</a> on Github to help clients get up and running with Azure Storage and to illustrate some key scenarios.</p>
<p>To run a given sample or test, the connection information for the storage account need to be set up. This can be provided using:</p>
<ul>
<li>Environment variables - AZURE_STORAGE_ACCOUNT and AZURE_STORAGE_ACCESS_KEY, or AZURE_STORAGE_CONNECTION_STRING.</li>
<li>Constructors - For example, var tableSvc = azure.createTableService(accountName, accountKey);</li>
</ul>
<p>In order to be able to use a proxy like fiddler, an additional environment variable should be set up:</p>
<p>HTTP_PROXY</p>
<p>Depending on the platform being used, these can be accomplished using the following:</p>
<ul>
<li>Windows(In command prompt) -</li>
</ul>
<blockquote><p>set AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=http;AccountName= &rdquo;account name&rdquo;;AccountKey=&rdquo;account key&rdquo; <br/>set HTTP_PROXY= <a href="http://127.0.0.1:8888/">http://127.0.0.1:8888</a> </p></blockquote>
<ul>
<li>Linux(In shell) &ndash;</li>
</ul>
<blockquote><p>AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=http;AccountName= &rdquo;account name&rdquo;;AccountKey=&rdquo;account key&rdquo; <br/>HTTP_PROXY= <a href="http://127.0.0.1:8888/">http://127.0.0.1:8888</a> </p></blockquote>
<ul>
<li>Mac(Edit the .bashrc or .bash_profile file and add the following lines) &ndash;</li>
</ul>
<blockquote><p>export AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=http;AccountName= &rdquo;account name&rdquo;;AccountKey=&rdquo;account key&rdquo; <br/>export HTTP_PROXY= http://127.0.0.1:8888 </p></blockquote>
<p>Users attempting to develop against the Storage Emulator should make sure they are using Emulator version 3.2 or later that supports 2014-02-14 REST version and should set the environment variable &lsquo;EMULATED&rsquo; to true.</p>
<p>The unit tests can be run from the module's root directory using:</p>
<p>npm test</p>
<p>&nbsp;</p>
<h3>A Note about Packaging</h3>
<p>We have moved the Storage module out of the <a href="https://github.com/Azure/azure-sdk-for-node" target="_blank">Microsoft Azure SDK for Node</a> to its own module. Developers leveraging the existing module will need to update their dependencies accordingly as the previous storage implementation (azure-storage-legacy) will be deprecated in the future and <a href="https://github.com/Azure/azure-sdk-for-node" target="_blank">Microsoft Azure SDK for Node</a> will include this module. A migration guide for users moving from the existing module will be made available in the future. To begin using the storage module, install &lsquo;azure-storage&rsquo; via npm and add it to your .js file.</p>
<p>var azure = require(&lsquo;azure-storage&rsquo;);</p>
<p>&nbsp;</p>
<h3>What&rsquo;s New</h3>
<p>This Storage Client Module provides support for the <a href="http://msdn.microsoft.com/en-us/library/azure/dd894041.aspx" target="_blank">2014-02-14 REST</a> service version, as well as key client side improvements across Blobs, Queues and Tables listed below.</p>
<p>&nbsp;</p>
<h4>Support for Read Access Geo Redundant Storage</h4>
<p>This release has full support for Read Access Geo-Redundant Storage (RA-GRS) which allows for reading from the Storage account data in the secondary region. This functionality needs to be enabled via the <a href="https://manage.windowsazure.com/" target="_blank">portal</a> for a given Storage account.</p>
<p>Applications may retrieve the secondary replication status and last sync time for the [Blob|Table|Queue]Service using getServiceStats. Setting the location mode on the service object and invoking getServiceStats is shown in the example below. The locationMode can also be configured on a per request basis by setting it on the options object (options.locationMode). By default, the location mode is set to PRIMARY_ONLY.</p>
<div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;"><span style="color: #0000ff;">var</span> azure = require(&lsquo;azure-storage&rsquo;); </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;"><span style="color: #0000ff;">var</span> blobService = azure.createBlobService(); </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;"><span style="color: #008000;">// getServiceStats is supported only on secondary endpoints. </span></pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">blobService.defaultLocationMode = </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">azure.StorageUtilities.LocationMode.SECONDARY_ONLY; </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">blobService.getServiceStats(<span style="color: #0000ff;">function</span> (error, serviceStats){ </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">    <span style="color: #0000ff;">if</span>(!error) { </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">        Console.log(&lsquo;Replication status = %s and LastSyncTime = %s&rsquo;, serviceStats. </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">        GeoReplication.Status, serviceStats.GeoReplication. LastSyncTime); </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">    } </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">});</pre>
<!--CRLF--></div>
</div>
<p>&nbsp;</p>
<h4>Expanded Table Protocol Support (JSON)</h4>
<p>This release adds support for JSON payloads on the table service. Instead of AtomPub, the default protocol is now JSON minimal metadata. (You can read more details regarding these protocols as well as view sample payloads <a href="http://msdn.microsoft.com/en-us/library/dn535600.aspx" target="_blank">here</a>). This change dramatically reduces the payload size of the request and the CPU required to process it, allowing applications to scale higher and realize lower overall latencies for table operations. The AtomPub protocol is no longer supported by the client. An example of setting the payloadFormat on the service object is shown in the example below. The payloadFormat can also be configured on a per request basis by setting it on the options object.</p>
<div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;"><span style="color: #0000ff;">var</span> azure = require(&lsquo;azure-storage&rsquo;); </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;"><span style="color: #0000ff;">var</span> tableService = azure.createTableService(); </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;"><span style="color: #008000;">// Set the payload format to JsonNoMetadata. </span></pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">tableService.defaultPayloadFormat = TableUtilities.PayloadFormat.NO_METADATA;</pre>
<!--CRLF--></div>
</div>
<p>&nbsp;</p>
<p>In some scenarios, notably when using JsonNoMetadata, clients may wish to provide the property type information at runtime for entities returned by queries. To support this scenario, the user may implement a property resolver which returns the <em>EdmType</em> for each property. The sample below illustrates a propertyResolver implementation.</p>
<div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;"><span style="color: #0000ff;">var</span> propertyResolver = <span style="color: #0000ff;">function</span> (pk, rk, name, value) { </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">    <span style="color: #0000ff;">if</span> (name.indexOf(<span style="color: #006080;">'BinaryField'</span>) !== -1) { </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">    <span style="color: #0000ff;">return</span> <span style="color: #006080;">'Edm.Binary'</span>; </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">    } <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (name.indexOf(<span style="color: #006080;">'GuidField'</span>) !== -1) { </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">    <span style="color: #0000ff;">return</span> <span style="color: #006080;">'Edm.Guid'</span>; </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">    } <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (name.indexOf(<span style="color: #006080;">'DateField'</span>) !== -1) { </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">    <span style="color: #0000ff;">return</span> <span style="color: #006080;">'Edm.DateTime'</span>; </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">    } <span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (name.indexOf(<span style="color: #006080;">'DoubleField'</span>) !== -1) { </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">    <span style="color: #0000ff;">return</span> <span style="color: #006080;">'Edm.Double'</span>; </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">    } </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">    <span style="color: #0000ff;">return</span> <span style="color: #006080;">'Edm.String'</span>; </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">};</pre>
<!--CRLF--></div>
</div>
<p>&nbsp;</p>
<p>This propertyResolver is set on the options object as shown below.</p>
<div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; height: 42px; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">options.propertyResolver = propertyResolver; </pre>
<!--CRLF--></div>
</div>
<p>Note that due to JavaScript&rsquo;s inability to differentiate between an int and a double whose decimal part is 0 (5 versus 5.0) while parsing numbers, both of these are returned without the decimal component and a type is not specified. To preserve the type information while round tripping data from the server, please use a property resolver as described above to differentiate between these.</p>
<p>For more information about table queries, please check out the documentation in tableservice.js.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>Table Insert Optimizations</h4>
<p>In previous versions, the service would &ldquo;echo&rdquo; back the entity content in the response body. With this release all Table Insert operations, including those executed as part of a batch operation, will send the Prefer: return-no-content header to avoid this behavior. This optimization can dramatically reduce latencies for insert operations. Please note that this will cause the resulting HTTP status code on the <em>insertEntityResponse</em> for successful inserts to be 204 (no-content) rather than 201 (Created) and the entity is not returned back in the <em>insertEntityResult</em> object. The echo content behavior can be re-enabled by setting echoContent to true in the options object as shown below:</p>
<div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; height: 37px; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">options.echoContent = <span style="color: #0000ff;">true</span>;</pre>
<!--CRLF--></div>
</div>
<p>&nbsp;</p>
<h4>Table Query Helpers</h4>
<p>TableQuery provides helper methods to create filter strings to use with the where clause for a query. Query strings may include type specifiers where necessary. For example, to query on a long value, users could do the following:</p>
<p>var tableQuery = new TableQuery().where(TableQuery.int64Filter('Int64Field', TableUtilities.QueryComparisons.EQUAL, '4294967296'));</p>
<p>OR</p>
<p>var tableQuery = new TableQuery().where('Int64Field == ?int64?', '4294967296');</p>
<p>&nbsp;</p>
<h4>Table Entity Creation Helpers</h4>
<p>We have added entity-property-creation helper methods to aid users. Users can use the entityGenerator helper provided in TableUtilities and create entity properties as follows instead of using the more verbose &lsquo;_&rsquo; and &lsquo;$&rsquo; format:</p>
<h5>&nbsp;</h5>
<div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;"><span style="color: #0000ff;">var</span> entGen = TableUtilities.entityGenerator;</pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;"><span style="color: #0000ff;">var</span> entity = { PartitionKey: entGen.String(<span style="color: #006080;">'part2'</span>),</pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">RowKey: entGen.String(<span style="color: #006080;">'row1'</span>),</pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">boolValueTrue: entGen.Boolean(<span style="color: #0000ff;">true</span>),</pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">intValue: entGen.Int32(42),</pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">dateValue: entGen.DateTime(<span style="color: #0000ff;">new</span> Date(Date.UTC(2011, 10, 25))),</pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">};</pre>
<!--CRLF--></div>
</div>
<p>&nbsp;</p>
<p>We have also removed one additional layer of addressing while adding type information to an entity. A new entity can now be created using:</p>
<p>&nbsp;</p>
<div id="codeSnippetWrapper" style="overflow: auto; cursor: text; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 97.5%; direction: ltr; text-align: left; margin: 20px 0px 10px; line-height: 12pt; max-height: 200px; background-color: #f4f4f4; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">DateValue: { </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">_: dateVal, </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: white; border-style: none; padding: 0px;">$: <span style="color: #006080;">'Edm.DateTime'</span> </pre>
<!--CRLF-->
<pre style="overflow: visible; font-size: 8pt; font-family: 'Courier New', courier, monospace; width: 100%; color: black; direction: ltr; text-align: left; margin: 0em; line-height: 12pt; background-color: #f4f4f4; border-style: none; padding: 0px;">} </pre>
<!--CRLF--></div>
</div>
<p>&nbsp;</p>
<h4>Other notable new features</h4>
<p>We have expanded the api surface to add additional conveniences, including:</p>
<ul>
<li>Shared Access Signature support for Containers, Queues and Tables</li>
<li>Anonymous Access support for Blobs</li>
<li>Leasing support for Containers</li>
<li>Ability to set the Maximum Execution Timeout across retries for every API</li>
<li>MD5 validation for blob upload/download</li>
<li>Table Batch re-design to construct and execute Table Batch requests instead of turning the service batch mode on/off</li>
</ul>
<p>&nbsp;</p>
<h3>ChangeLog</h3>
<p>This release includes several client side changes and features other than the notable ones mentioned above. You can view the complete <a href="https://github.com/Azure/azure-storage-node/blob/master/ChangeLog.txt" target="_blank">ChangeLog</a> on Github.</p>
<p>&nbsp;</p>
<h3>What&rsquo;s next</h3>
<p>We are adding support for Files in an upcoming release. You can find more information about the File service support in Azure Storage and sign-up details <a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2014/05/12/introducing-microsoft-azure-file-service.aspx" target="_blank">here</a>.</p>
<p>&nbsp;</p>
<h3>Summary</h3>
<p>We are continuously making improvements to the developer experience for Azure Storage and very much value your feedback in the comments section below, the MSDN or StackOverflow forums, or GitHub. If you hit any issues, filing them on <a href="https://github.com/Azure/azure-storage-node/issues">GitHub</a> will also allow you to track the resolution.</p>
<p>Veena Udayabhanu, Emily Gerner, Adam Sorrin, and Vinay Shah</p>
<p>&nbsp;</p>
<h3>Resources</h3>
<p><a href="https://github.com/Azure/azure-storage-node" target="_blank">Source (Github)</a></p>
<p><a href="https://www.npmjs.org/package/azure-storage" target="_blank">npm</a></p>
<p><a href="http://azure.microsoft.com/en-us/documentation/articles/storage-nodejs-how-to-use-blob-storage/" target="_blank">How to Use the Blob Service from Node.js</a></p>
<p><a href="http://azure.microsoft.com/en-us/documentation/articles/storage-nodejs-how-to-use-queues/" target="_blank">How to Use the Queue Service from Node.js</a></p>
<p><a href="http://azure.microsoft.com/en-us/documentation/articles/storage-nodejs-how-to-use-table-storage/" target="_blank">How to Use the Table Service from Node.js</a></p>
<p><a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/11/27/windows-azure-storage-release-introducing-cors-json-minute-metrics-and-more.aspx">Azure Storage Release - Introducing CORS, JSON, Minute Metrics, and More</a></p>
<p><a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/05/windows-azure-tables-introducing-json.aspx" target="_blank">Azure Tables: Introducing JSON</a></p>
<p><a href="http://blogs.msdn.com/b/windowsazurestorage/archive/2013/12/11/introducing-read-access-geo-replicated-storage-ra-grs-for-windows-azure-storage.aspx" target="_blank">Azure Storage Redundancy Options and Read Access Geo Redundant Storage</a></p>
<p><a href="http://www.bing.com/videos/search?q=node.js&amp;FORM=HDRSC3#view=detail&amp;mid=4168E8B4A82591BF23194168E8B4A82591BF2319" target="_blank">Introduction to Node.js</a></p>
<p><a href="http://nodejs.org/" target="_blank">Install Node.js</a></p>
<p><a href="http://www.andrerodrigues.me/posts/my-sublime-text-2-environment/" target="_blank">Sublime Text Environment</a></p>
<p><a href="http://howtonode.org/debugging-with-node-inspector" target="_blank">Debugging Node.js applications using node-inspector</a></p>
	</div><!-- .entry-content -->


	<footer class="entry-footer single">
				<hr>
	</footer><!-- .entry-footer -->

</article><!-- #post-## -->

			
		</div><!-- #single-content -->

		
<div id="comments" class="comments-area">
	<div class="comments-title">
		Comments (0)	</div>

		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://blogs.msdn.microsoft.com/windowsazurestorage/2014/06/26/microsoft-azure-storage-client-module-for-node-js-v-0-2-0/#respond" style="display:none;">Cancel reply</a></small></h3><p class="must-log-in">You must be <a href="https://blogs.msdn.microsoft.com/windowsazurestorage/wp-login.php?redirect_to=https%3A%2F%2Fblogs.msdn.microsoft.com%2Fwindowsazurestorage%2F2014%2F06%2F26%2Fmicrosoft-azure-storage-client-module-for-node-js-v-0-2-0%2F">logged in</a> to post a comment.</p>	</div><!-- #respond -->
	
	
	
</div><!-- .comments-area -->
	</div><!-- #primary -->