---
layout: default
title: 'Part 3&#58; 10GB GraySort - Teravalidate (video) - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">

<a href="http://social.technet.microsoft.com/wiki/contents/articles/6985.how-to-upload-data-and-use-the-wordcount-sample-with-hadoop-services-for-windows-azure-video/edit.aspx#transcript" target="_self"><strong><span style="color:#0066dd;"><script src="https://i1.social.s-msft.com/wiki/rrcontent/18839adc85fee1b0971fa3728f8f3979-b1af1b7835ad549c70d465c5efb07b5e-RequestReducedScript.js" type="text/javascript" ></script><div id="video_e27bedbe-12ac-4175-9f70-d923622c80b1"><noscript><embed src="https://www.youtube.com/v/E1m0F-7ZClY?fs=1&amp;rel=0" type="application/x-shockwave-flash" wmode="transparent" width="550" height="330" allowfullscreen="true"></embed></noscript></div><script type="text/javascript">
cs_setInnerHtml('video_e27bedbe-12ac-4175-9f70-d923622c80b1','<embed src=\"https:\/\/www.youtube.com\/v\/E1m0F-7ZClY?fs=1&amp;rel=0\" type=\"application\/x-shockwave-flash\" wmode=\"transparent\" width=\"550\" height=\"330\" allowfullscreen=\"true\"><\/embed>');
</script>Transcript</span></strong></a><br />
<hr />
<p><span style="font-size:14px;">Hadoop-based Services for Windows Azure includes several samples you can use for learning and testing. One sample is the 10GB GraySort which is a scaled-down version of the Hadoop Terasort benchmark. There are three jobs to run
 and in this video, Developer Brad Sarsfield walks you through Teraval.</span></p>
<h2>See Also<a name="See_Also"></a></h2>
<ul><li><span style="font-size:14px;color:#0066dd;"><a href="http://social.technet.microsoft.com/wiki/contents/articles/6204.apache-hadoop-on-windows.aspx#videos"><span style="font-size:14px;color:#0066dd;"><strong>More Videos</strong> about Hadoop Services on
 Windows and Windows Azure </span></a></span></li><li><span style="font-size:14px;"><a href="http://social.technet.microsoft.com/wiki/contents/articles/6204.apache-hadoop-on-windows.aspx"><span style="color:#0066dd;">Apache Hadoop Services on Windows -
<strong>wiki</strong> <strong>Homepage</strong></span></a></span><a href="http://social.technet.microsoft.com/wiki/contents/articles/6204.apache-hadoop-on-windows.aspx"></a>
</li><li><a href="http://www.youtube.com/playlist?list=PLD471EE01A293CC34&amp;feature=plcp"><span style="font-size:14px;color:#0066dd;">Microsoft&#39;s
<strong>Big Data channel</strong> on YouTube</span></a>
<p><span style="color:#0066dd;"></span></p>
<span style="color:#0066dd;">
<hr />
</span>
<h2><a name="Transcript"></a><a name="transcript"><span style="color:#0066dd;">Transcript</span></a></h2>
<p style="margin:0in 0in 10pt;"><span style="font-family:calibri;">Hi, my name is Brad Sarsfield and I’m a Developer on the Hadoop-based Services for Windows and Windows Azure team.</span></p>
<span style="font-family:calibri;">
<p style="margin:0in 0in 10pt;"><span style="font-family:calibri;">This video is Part 3 in the 10GB GraySort series. In videos 1 and 2 we generated and sorted the data.&nbsp; In this video I will show you how to validate that the sort was correct.&nbsp;&nbsp;
</span></p>
<p style="margin:0in 0in 10pt;"><span style="font-family:calibri;">So let’s get started.</span></p>
<ol>
<li><span style="font-family:calibri;">From the Samples page I select the&nbsp; 10GB GraySort sample.
</span></li><li><span style="font-family:calibri;">To start the process, I deploy the sample to my cluster.
</span></li><li><span style="font-family:calibri;">On the <strong>Create Job</strong> page, the fields are pre-populated for me, but I need to make a few changes.</span>
<ol>
<li><span style="font-family:calibri;">First, I rename the job from <strong><em>Terasort Example</em></strong> to
<strong><em>Teravalidate Example</em></strong> to identify this as the data validation program</span>/job.&nbsp;
</li><li><span style="font-family:calibri;">The first parameter I change to <strong>teravalidate</strong> – this is the name of the program</span> that will be run from the hadoop-examples JAR.
</li><li><span style="font-family:calibri;">The 2<sup><span style="font-size:13px;">nd</span></sup> parameter specifies the number of map tasks and reduce tasks to be executed. I leave the 50 map tasks and add 25 Reduce tasks.</span>
</li><li><span style="font-family:calibri;">The 3<sup><span style="font-size:13px;">rd</span></sup> parameter identifies the input and output files.&nbsp; The teravalidate sample takes input from the previously-created 10GB-sort-output file and will write the results to
 a file named 10GB-sort-validate.</span>
<p style="margin:0in 0in 10pt;">&nbsp;<a><span style="font-family:calibri;color:#000000;">Hadoop for Windows Azure constructs and displays the Final Command that will be executed on the headnode below.</span></a><span style="line-height:115%;font-size:8pt;font-family:calibri;">&nbsp;</span></p>
</li></ol>
</li><li><span style="font-family:calibri;">Execute the job.&nbsp; <br />
</span>
<p><span style="font-family:calibri;">Behind the scenes, Hadoop&nbsp; is validating that each of the parts of the file have been sorted correctly.&nbsp; It goes through and validates that the sorting is correct and the records have been sorted in the correct order.</span></p>
<p style="margin:0in 0in 10pt;"><span style="font-family:calibri;">While the job is running, I switch over to the terminal services view and review the 10GB-sort-output, the output from the terasort example.&nbsp; Here it is.&nbsp; I take a look at one of these files.&nbsp;
 There are 25 files – they correspond with the number of reduce tasks we requested.&nbsp;
</span></p>
<p style="margin:0in 0in 10pt;"><span style="font-family:calibri;">I take a closer look at one of those files, part 9.&nbsp; The data in this file is sorted from AH and ends with AHt.
</span><span style="font-family:calibri;">So the teravalidate program is now using the 10GB-sort-output, the output of the terasort, to validate that this is in fact actually the correct sort order.
</span></p>
</li><li><span style="font-family:calibri;">The job completed successfully. </span></li></ol>
<p dir="ltr" style="margin-right:0px;"><span style="font-family:calibri;">But ‘success’ doesn’t mean that the the sort is valid, it just means the task completed successfully.&nbsp; To see if the sort order is valid, take a look at the Exit Code and the Logs.&nbsp; Exit
 Code is 0 and the log file is empty – a zero byte file.&nbsp; This indicates the sort was correct.</span></p>
<p dir="ltr" style="margin-right:0px;"><span style="font-family:calibri;">That concludes the 10GB GraySort sample video series.&nbsp; Thank you for watching, I hope you found it helpful.&nbsp;&nbsp;
</span></p>
&nbsp;&nbsp; </span></li></ul>
</div>
    
    
