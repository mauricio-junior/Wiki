---
layout: default
title: 'Claims-Based Authorization In Claims-Aware Applications and Services - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">

Back to <a class="ExistingPageLink" href="/wiki/contents/articles/3669.azure-active-directory-solutions-for-developers.aspx" title="Click to view the page titled: Windows Azure Active Directory Solutions For Developers">Windows Azure Active Directory Solutions For Developers</a>&nbsp;<br />
<br />
<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Scenario">Scenario</a></li><li class="hierarchy-item"><a href="#Solution_Approach">Solution Approach</a></li><li class="hierarchy-item"><a href="#Analysis">Analysis</a></li><li class="hierarchy-item"><a href="#How-To_s">How-To&#39;s</a></li><li class="hierarchy-item"><a href="#Code_Samples">Code Samples</a></li><li class="hierarchy-item"><a href="#Resources">Resources</a></li></ul><div class="hierarchy-list-footer"> </div></div><br />
<h1><a name="Scenario"></a>Scenario</h1>
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/6787.Web-Forms-Scenario.png"></a>In this scenario application requires to implement complex authorization rules logic, something that
 cannot be satisfied using only roles. The application enforces access by calculating the outcome - grant or deny access - based on the information available in the request including the claims in the incoming token.<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/3365.Claims-Authorization-Scenario.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/3365.Claims-Authorization-Scenario.png" style="border-width:0px;border-style:solid;" /></a><br />
<ul>
<li>The application uses claims-based authentication </li><li>Role Based Access Control (RBAC) cannot satisfy authorization requirements </li><li>Authorization outcome - grant or deny access - is calculated based on complex rules and the data available in the token.
</li></ul>
<h1><a name="Solution_Approach"></a>Solution Approach</h1>
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/3162.Web-Forms-Solution.png"></a>The solution relies on ClaimsAuthorizationManager - WIF&#39; extensibility point. You develop custom&nbsp;ClaimsAuthorizationManager
 and register it in web.config. You can optionally express the rules as a policy in the web.config so that the custom&nbsp;ClaimsAuthorizationManager can read them at run time and enforce them for the incoming requests. For detailed step-by-step walkthrough read&nbsp;<span style="background-color:#ffffff;font-size:11px;font-family:verdana,arial,helvetica,sans-serif;color:#000000;"><a id="ctl00_MTCS_main_ctl08" href="http://msdn.microsoft.com/en-us/library/gg185907.aspx" style="color:#0033cc;">How
 To: Implement Claims Authorization in a Claims-Aware ASP.NET Application Using WIF and ACS</a>.</span><br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/7357.Claims-Authorization-Solution.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/7357.Claims-Authorization-Solution.png" style="border-width:0px;border-style:solid;" /></a><br />
<ul>
<li>Application uses WIF </li><li>Application uses&nbsp;ClaimsAuthorizationManager as an extensibility point </li><li>Implement custom&nbsp;ClaimsAuthorizationManager and define authorization policy in the configuration file
</li><li>Call CheckAccss in the code to enforce the authorization policy. </li></ul>
<h1><a name="Analysis"></a>Analysis</h1>
Implement claims-cased authorization when role base access control (RBAC) is&nbsp;insufficient to satisfy authorization requirements. Read more about RBAC in&nbsp;<span style="font-weight:bold;background-color:#ffffff;font-size:10px;color:#000000;"><a href="http://social.technet.microsoft.com/wiki/contents/articles/4075.aspx" class="last" style="color:#ff6600;font-size:12px;">Role-Based
 Access Control (RBAC) Authorization In Claims-Aware Applications&nbsp;</a></span>
<h1><a name="How-To_s"></a>How-To&#39;s</h1>
<span style="line-height:15px;background-color:#ffffff;font-size:11px;font-family:verdana,arial,helvetica,sans-serif;color:#000000;">
<ul>
<li><a id="ctl00_MTCS_main_ctl04" href="http://msdn.microsoft.com/en-us/library/gg185955.aspx" style="color:#0033cc;">How To: Implement Token Transformation Logic Using Rules</a>
</li><li><span style="background-color:#ffffff;font-size:11px;font-family:verdana,arial,helvetica,sans-serif;color:#000000;"><a id="ctl00_MTCS_main_ctl08" href="http://msdn.microsoft.com/en-us/library/gg185907.aspx" target="_blank" style="color:#0033cc;">How
 To: Implement Claims Authorization in a Claims-Aware ASP.NET Application Using WIF and ACS</a></span>&nbsp;<br />
<br />
</li></ul>
</span>
<h1><a name="Code_Samples"></a>Code Samples</h1>
<ul>
<li>Code Sample:&nbsp;Claims based Authorization in&nbsp;<span style="font-size:12pt;font-family:calibri,sans-serif;"><a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=c148b2df-c7af-46bb-9162-2c9422208504" style="color:#ff6600;">Windows Identity Foundation
 SDK</a></span> </li></ul>
<h1><a name="Resources"></a>Resources</h1>
<ul>
<li><span style="line-height:15px;background-color:#ffffff;font-size:11px;font-family:verdana,arial,helvetica,sans-serif;color:#000000;"><a id="ctl00_MTCS_main_ctl33" href="http://msdn.microsoft.com/en-us/library/gg185915.aspx" style="color:#ff6600;">Authorization
 in Claims-Aware Web Applications and Services</a></span> </li></ul>

</div>
    
    
