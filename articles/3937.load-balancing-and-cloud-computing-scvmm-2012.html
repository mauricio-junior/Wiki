---
layout: default
title: 'Load Balancing and Cloud Computing (SCVMM 2012) - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">

<span style="line-height:18px;font-family:arial,tahoma,helvetica,freesans,sans-serif;font-size:13px;">
<div class="post-body entry-content" id="post-body-5052681491368117073" style="width:536px;position:relative;line-height:1.4;">
<span style="font-family:calibri;">One characteristic of cloud computing is virtualized network access to your applications/services. The point is that no matter where you access the service, you are automatically directed to the ant page no-wrapper" id="fragment-6615">
<div class="content-fragment-inner fiji-content-fragment-inner"><div class="content-fragment-top fiji-content-fragment-top"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div><div class="content-fragment-content">

<div class="full-post-headvailable resources. We are
 using load balancing to distribute service requests to these resources.</span>
<div style="margin:0cm 0cm 0pt;"><span style="font-family:calibri;">This is normally implemented using hardware load balancers, like F5 Big IP servers.</span></div>
<div style="margin:0cm 0cm 0pt;"><br />
</div>
<div style="margin:0cm 0cm 0pt;"><span style="font-family:calibri;">What can be load balanced?</span></div>
<div style="margin:0cm 0cm 0pt;"><br />
</div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span style="font-family:symbol;">·<span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;">Access
 to application instances</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span style="font-family:symbol;">·<span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;">Services
 such as DNS, FTP, HTTP, and HTTPS</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span style="font-family:symbol;">·<span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;">Storage
 resources</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span style="font-family:symbol;">·<span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;">Connections
 through intelligent switches</span></div>
<div style="margin:0cm 0cm 0pt;"><br />
</div>
<div style="margin:0cm 0cm 0pt;"><span style="font-family:calibri;">If you ask me, cloud computing would be difficult to “achieve” without load balancing. It provides redundancy through redirection, and fault tolerance when coupled with a failover mechanism.</span></div>
<div style="margin:0cm 0cm 0pt;"><br />
</div>
<div style="margin:0cm 0cm 0pt;"><span style="font-family:calibri;">So, this brings us to the Load Balancing feature in System Center Virtual Machine Manager 2012.</span></div>
<div style="margin:0cm 0cm 0pt;"><br />
</div>
<div style="margin:0cm 0cm 0pt;"><span style="font-family:calibri;">First, download the load balancer from Citrix (NetScaler VPX) which you can run as a virtual machine. (Yeah, I know I said hardware load balancer, but this will simulate their load balancer and
 is ideal for testing).</span></div>
<div style="margin:0cm 0cm 0pt;"><span style="font-family:calibri;">Here`s the link by the way:&nbsp;<span class="drdownloaditemtitle" style="color:#35383d;"><a href="http://downloadns.citrix.com.edgesuite.net/5454/NSVPX-HyperV-9.2-48.6015.e.zip" target="_blank" title="Download NetScaler VPX on Hyper-V" style="text-decoration:none;color:#d52a33;"><span style="color:#0075b0;">Download
 NetScaler VPX on Hyper-V</span></a></span><span class="drdownloaditemtitle" style="color:#35383d;">.</span></span><span class="drdownloaditemtitle" style="font-size:9pt;font-family:arial,sans-serif;color:#35383d;">&nbsp;</span><span class="drdownloaditemtitle" style="color:#35383d;"><span style="font-family:calibri;">You
 have to register to Citrix to get a license, and you can do it&nbsp;</span><a href="http://www.citrix.com/lang/english/publicindex.asp?destURL=/English/myCitrix/index.asp&amp;ntref=Try" style="text-decoration:none;color:#d52a33;"><span style="font-family:calibri;color:#0075b0;">here.</span></a></span><span class="drdownloaditemtitle">
</span></div>
<div style="margin:0cm 0cm 0pt;"><br />
</div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="drdownloaditemtitle" style="color:#35383d;"><span style="font-family:calibri;">1)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="drdownloaditemtitle" style="font-family:calibri;color:#35383d;">After
 the download, extract the content, and import the VM into Hyper-V. (Important: the VM needs 2 vCPU, and at least 4GB RAM. Also connect it to your virtual network you intend to use)</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="drdownloaditemtitle" style="color:#35383d;"><span style="font-family:calibri;">2)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="drdownloaditemtitle" style="font-family:calibri;color:#35383d;">Configure
 IP, subnet, and gateway</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="drdownloaditemtitle" style="color:#35383d;"><span style="font-family:calibri;">3)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="drdownloaditemtitle" style="font-family:calibri;color:#35383d;">Access
 the NetScaler VPX through a web browser, with the IP address you assigned</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name" style="color:#35383d;"><span style="font-family:calibri;">4)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="drdownloaditemtitle" style="font-family:calibri;color:#35383d;">Activate
 the product. (The hostname that Citrix refers to, is the MAC address on the NetScaler VM)</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name" style="color:#35383d;"><span style="font-family:calibri;">5)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">Download
 the license, and upload it to the NetScaler through the web-interface.</span><span class="screen-name">
</span></span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="><span style="font-family:calibri;">4)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="drdownloaditemtitle" style="font-family:calibri;color:#35383d;">Activate
 the product. (The hostname that Citrix refers to, is the"screen-name" style="color:#35383d;"><span style="font-family:calibri;">6)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">Activate
 the features in NetScaler</span><span class="screen-name"> </span></span></div>
<div style="margin:0cm 0cm 0pt;"><br />
</div>
<div style="margin:0cm 0cm 0pt;"><span class="screen-name" style="font-family:calibri;">Once all this is done, we can move over to the Fabric in VMM 2012.</span></div>
<div style="margin:0cm 0cm 0pt;"><span style="font-family:calibri;"><span class="screen-name">First thing first:&nbsp;</span>Download and install Citrix Netscaler LB Provider into VMM 2012. (You may need a reboot before VMM recognizes the provider)</span></div>
<div style="margin:0cm 0cm 0pt;"><br />
</div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">1)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">Go
 to Networking</span><span class="screen-name"> </span></span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">2)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">Click
 Load Balancers</span><span class="screen-name"> </span></span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">3)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">Right
 click on Load Balancers, and select “Add Load Balancer”</span><span class="screen-name">
</span></span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">4)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">On
 the Specify Run As account page, find your Run As account with permission to the load balancer. If you`re using the NetScaler VM for Hyper-V, the username and password is&nbsp;<strong>nsroot</strong>.</span><span class="screen-name">
</span></span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">5)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">Select
 the check box next to each host group where the load balancer should be available</span><span class="screen-name">
</span></span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">6)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">On
 the Manufacturer and Model page, select the load balancer manufacturer and model. (Citrix Systems, Inc. and Citrix NetScaler)</span><span class="screen-name">
</span></span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">7)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">On
 the Address page, specify IP, FQDN, or NetBIOS name of the load balancer. In the port number box, enter the port number that you use to connect to for&nbsp;<strong>management</strong>&nbsp;of the load balancer.</span><span class="screen-name">
</span></span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">8)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">On
 the Provider page, click an available provider to use for load balancer configuration.</span><span class="screen-name">
</span></span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">9)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">Validate,
 and test the load balancer.</span><span class="screen-name"> </span></span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">10)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;</span></span><span style="font-family:calibri;"><span class="screen-name">You`re
 now done, and have hopefully added your NetScaler load balancer.</span><span class="screen-name">
</span></span></div>
<div style="margin:0cm 0cm 0pt;"><br />
</div>
<div style="margin:0cm 0cm 0pt;"><span class="screen-name" style="font-family:calibri;">We have now added a load balancer to our Fabric, and to take the next step, we`ll create a VIP Template. This is a template that contains a load balancer, and is related to
 specific type of network traffic. You can have many templates, one for HTTP, HTTPS, yeah, you got it.</span></div>
<div style="margin:0cm 0cm 0pt;"><span class="screen-name" style="font-family:calibri;">This is ideal when you want to load balance a service tier. (You can add load balancer into the service designer when you are designing your services).</span></div>
<div style="margin:0cm 0cm 0pt;"><span class="screen-name" style="font-family:calibri;">Since we`re still in the Fabric, navigate to:</span></div>
<div style="margin:0cm 0cm 0pt;"><br />
</div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">1)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="screen-name" style="font-family:calibri;">Networking,
 and click VIP Templates</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">2)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="screen-name" style="font-family:calibri;">Right
 click VIP Templates, and click Create VIP Template</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">3)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="screen-name" style="font-family:calibri;">Give
 it a name, description, and the virtual IP port to use. The virtual IP port is the port that is used for the type of network traffic that you want to load balance.</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">4)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="screen-name" style="font-family:calibri;">On
 the Type page, select either Generic or Specific. (Generic can be used on any supported load balancer, and Specific applies to specific load balancers (model).</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">5)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="screen-name" style="font-family:calibri;">On
 the Protocol page, select the protocol you intend to use. (HTTP, HTTPS, or Custom)</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">6)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="screen-name" style="font-family:calibri;">On
 the Persistence page, you can select Enable persistence to enable session persistence (affinity).</span balancer, and Specific applies to specific load balancers (model).</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">5)</span><span style="font-style:normal;font-weight:normal;font-si></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">7)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="screen-name" style="font-family:calibri;">On
 the Load balancing method page, you can choose between the fast connections, round robin, or the least connections.</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">8)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="screen-name" style="font-family:calibri;">On
 the Health Monitors page, specify a request that will occur at regular intervals against the load balancer to verify that a load balancer is available.</span></div>
<div style="margin:0cm 0cm 0pt 36pt;text-indent:-18pt;"><span class="screen-name"><span style="font-family:calibri;">9)</span><span style="font-style:normal;font-weight:normal;font-size:7pt;line-height:normal;font-family:&#39;times new roman&#39;;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="screen-name" style="font-family:calibri;">You`re
 done! Click finish, and you have the first VIP Template created, and ready for action.</span></div>
</div>
</span>

</div>
    
    
