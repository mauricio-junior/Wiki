---
layout: default
title: 'Microsoft SQL Server 2008 R2 SP1 Release Notes - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup"><div class="introduction">
<p><span style="font-size:12px;"><a href="http://social.technet.microsoft.com/wiki/contents/articles/microsoft-sql-server-2008-r2-sp1-release-notes-language-options.aspx">Click here to change the language</a>.<br />
<br />
This page is carefully and closely monitored. Any changes you make will be evaluated and then quickly-content-fragment-top"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div><div class="con accepted, refined, or reverted. Because this is a wiki, additions or refinements to these release notes might have been made by community members. To read the original and official release notes document, <a href="http://social.technet.microsoft.com/wiki/contents/articles/microsoft-sql-server-2008-r2-sp1-release-notes/revision/26.aspx"><span style="color:#0066dd;">click here</span></a>. <br />
<br />
This Release Notes document describes known issues that you should read about before you install or troubleshoot SQL Server 2008 R2 SP1. You can download SQL Server 2008 R2 Service Pack 1 (</span><a href="http://www.microsoft.com/download/en/details.aspx?id=26727">click here to download it</a><span style="font-size:12px;">).&nbsp;&nbsp;You can download SQL Server 2008 R2 SP1 Express Edition at:&nbsp;<a href="http://www.microsoft.com/download/en/details.aspx?id=26729">http://www.microsoft.com/download/en/details.aspx?id=26729</a>.<br />
<br />
This document also provides search tips to help you&nbsp;find&nbsp;more known issues in Knowledge Base (KB) articles on the </span><a href="http://go.microsoft.com/fwlink/?LinkId=189189"><span style="font-size:12px;">Microsoft Support site for SQL Server 2008 R2</span></a><span style="font-size:12px;">. This Release Notes&nbsp;document and the KB articles supplement&nbsp;SQL Server 2008&nbsp;R2 Books Online.</span></p>
<p><span style="font-size:12px;">This Release Notes document is available only online, not on the installation media, and it is updated periodically.</span></p>
<p><span style="font-size:12px;">For information about how to get started with installing SQL Server 2008 R2, see&nbsp;the SQL Server 2008&nbsp;R2 Readme. The Readme is available on the installation media and from the&nbsp;</span><a href="http://social.technet.microsoft.com/wiki/contents/articles/microsoft-sql-server-2008-r2-sp1-readme.aspx"><span style="font-size:12px;">Readme</span></a><span style="font-size:12px;"> page.</span></p>
<p><span style="font-size:12px;">If you have feedback about SQL Server 2008 R2, please submit it at </span><a href="http://go.microsoft.com/fwlink/?LinkID=55922"><span style="font-size:12px;">Microsoft SQL Server Connect Feedback Center</span></a><span style="font-size:12px;">. For the latest documentation, view </span><a href="http://go.microsoft.com/fwlink/?LinkID=154888"><span style="font-size:12px;">SQL Server 2008 R2 Books Online</span></a><span style="font-size:12px;"> in the MSDN Library. You can also find our forums and other support on the </span><a href="http://go.microsoft.com/?linkid=9767513"><span style="font-size:12px;">Troubleshooting and Support</span></a><span style="font-size:12px;"> page.</span></p>
</div>
<h1 class="heading"><a name="Contents"></a>Contents</h1>
<blockquote style="margin-right:0px;" dir="ltr">
<div id="sectionSection0" class="section">
<p><a href="#Whats_New">1.0 What&rsquo;s New in Service Pack 1</a></p>
<p><a href="#Before_You_Install">2.0 Before You Install</a></p>
<p><a href="#Find">3.0 How to Find More Known Issues</a></p>
</div>
</blockquote>
<h1 class="heading"><hr />
</h1>
<h1 class="heading">1.0 W<a name="Whats_New"></a>hat&#39;s New in Service Pack 1</h1>
<p class="section">The following features are new in Service Pack&nbsp;1 (SP1).</p>
<div class="section">
<ul>
    <li><strong>Dynamic Management Views for increased supportability. </strong>sys.dm_query_stats DMV is extended with additional columns to improve supportabilities over troubleshooting long-running queries. New DMVs and XEvents on select performance counters are introduced to monitor OS configurations and resource conditions related to the SQL Server instance. </li>
</ul>
</div>
<ul>
    <li><strong>ForceSeek for improved querying performance. </strong>Syntax for FORCESEEK index hint has been modified to take optional parameters allowing it to control the access method on the index even further. Using old style syntax for FORCESEEK remains unmodified and works as before. In addition to that, a new query hint, FORCESCAN has been added. It complements the FORCESEEK hint allowing specifying &lsquo;scan&rsquo; as the access method to the index. No changes to applications are necessary if you do not plan to use this new functionality.&nbsp;&nbsp;<br />
    &nbsp; </li>
    <li>
    <p><strong>Data-tier Application Component Framework (DAC Fx) for improved database upgrades.&nbsp;</strong>The new Data-tier Application (DAC) Framework v1.1 and DAC upgrade wizard enable the new in-place upgrade service for database schema management. The new in-place upgrade service will upgrade the schema for an existing database in SQL Azure and the versions of SQL Server supported by DAC. A DAC is an entity that contains all of the database objects and instance objects used by an application. A DAC provides a single unit for authoring, deploying, and managing the data-tier objects. For more information, see <a href="http://go.microsoft.com/fwlink/?LinkId=199000">Designing and Implementing Data-tier Applications. </a></p>
    </li>
    <li><strong>Disk space control in PowerPivot for SharePoint.&nbsp;</strong>This update introduces two new configuration settings that let you determine how long cached data stays in the system. In the new Disk Cache section on the PowerPivot configuration page, you can specify how long an inactive database remains in memory before it is unloaded. You can also limit how long a cached file is kept on disk before it is deleted.&nbsp;&nbsp;&nbsp;<br />
    &nbsp; </li>
    <li><strong>Support for 512e Drives.</strong> SQL Server now correctly detects and supports hard drives with the new 512e format. These drives report 512 byte logical sector sizes, but they are formatted internally using 4KB sectors. When SQL Server 2008 R2 SP1 is installed on Windows Server 2008 R2 or higher, we will correctly detect these drives and adjust automatically. </li>
    <li><strong>Fixed various issues.</strong>&nbsp;This update fixes many SQL Server 2008 R2 issues that are listed in&nbsp;<a href="http://go.microsoft.com/?linkid=9767514">this master KB article</a>. It also includes some additional fixes that improve the product quality.&nbsp; </li>
</ul>
<h1 class="heading"><hr />
</h1>
<h1 class="heading">2.0 B<a name="Before_You_Install"></a>efore You Install Service Pack 1</h1>
<div id="sectionSection2" class="section">
<p>For a list of the bugs that are t how long a cached file is kept on disk before it is deleted.&nbsp;&nbsp;&nbsp;<br />
    &nbsp; </li>
    <li><strong>Support for 512e Drives.</strong> SQL Server now correctly detects and supports hard drives with the new 512e format. These drives report 512 byte logical sector sizes, but they are formatted internally using 4KB sectors. When SQL Server 2008 R2 SP1 is installed on Windows Server 2008 R2 or higher, we will correctly detect these drives and adjust automatically. </li>
    <li><strong>Fixed various issues.</strong>&nbsp;Thifixed in SQL Server 2008&nbsp;R2 Service Pack&nbsp;1, see the <a href="http://go.microsoft.com/?linkid=9767514"><span style="color:#0066dd;">master KB article</span></a>.</p>
<h3 class="subHeading"><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a><a name="Recommended_Disk_Space_Requirements_to_Download_Extract_and_Install_SQL_Server_2008_R2_Service_Pack_1"></a>2.1 Recommended Disk Space Requirements to Download, Extract, and Install SQL Server 2008 R2 Service Pack 1</h3>
<div class="subsection">
<p>The recommended disk space requirements to download, extract, and install SP1 are approximately 2.5 times the size of the specific package. </p>
<div class="subsection">
<h3 class="subHeading"><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a><a name="The_SQL_Server_Service_Cannot_Start_after_You_Uninstall_SP1_for_SQL_Server_2008_R2_if_a_UCP_Exists_in_the_Instance_of_SQL_Server"></a>2.2 The SQL Server Service Cannot Start after You Uninstall SP1 for SQL Server 2008 R2 if a UCP Exists in the Instance of SQL Server</h3>
<div class="subsection">
<p><strong><span style="color:#000000;">Symptoms</span></strong></p>
<p><span style="color:#000000;">Consider the following scenario: </span></p>
<div>
<ul style="list-style-type:disc;">
    <li>You have an instance of Microsoft SQL Server 2008 R2 that hosts a utility control point (UCP). </li>
    <li>You have installed SP1 for SQL Server 2008 R2 on the instance and later decide to uninstall it. </li>
</ul>
</div>
<p><span style="color:#000000;">In this scenario, the uninstall action succeeds. However, the SQL Server service cannot start. </span></p>
<p><strong><span style="color:#000000;">Cause</span></strong></p>
<p class="style2">This problem occurs because the Agent XPs option is not enabled when SQL Server 2008 R2 runs the upgrade script for the msdb database.<br />
<br />
The upgrade script runs when the SQL Server service starts. The script runs a stored procedure that is related to the UCP. The stored procedure requires that the Agent XPs option be enabled.</p>
<p><strong><span style="color:#000000;">Resolution</span></strong></p>
<p class="style2">If you experience this behavior after removing SP1, follow these steps to work around the problem. To avoid the problem, perform these steps before removing SP1.<br />
<br />
1) If SQL Server is running, stop the SQL Server service.<br />
<br />
2) Enable trace flag 902 on the instance of SQL Server 2008 R2. To do this, follow these steps: </p>
<div>
<ul style="list-style-type:disc;">
    <li>Open SQL Server Configuration Manager. </li>
    <li class="sourceCodeList">In SQL Server Configuration Manager, click <strong>SQL Server Services</strong>. </li>
    <li>Double-click the SQL Server service. </li>
    <li class="sourceCodeList">In the <strong>SQL Server Properties</strong> dialog box, click the <strong>Advanced</strong> tab. </li>
    <li class="sourceCodeList">On the <strong>Advanced</strong> tab, locate the <strong>Startup Parameters</strong> item. </li>
    <li class="sourceCodeList">Add <strong>;&ndash;T902</strong> to the end of the existing string value, and then click <strong>OK</strong>. </li>
</ul>
</div>
<p class="style2">3) Right-click the SQL Server service, and then click <strong>Start</strong>.<br />
<br />
4) If the SQL Server Agent service is running, right-click the SQL Server Agent service, and then click <strong>Stop</strong>. Set the Agent service start mode to <strong>Manual</strong>.<br />
<br />
5) Open SQL Server Management Studio, and then connect to the instance of SQL Server 2008 R2.<br />
<br />
6) Run the following statements:<br />
<br />
EXEC sp_configure &#39;show advanced&#39;, 1; <br />
RECONFIGURE; <br />
EXEC sp_configure &#39;allow updates&#39;, 0; <br />
RECONFIGURE; <br />
EXEC sp_configure &#39;Agent XPs&#39;, 1; <br />
RECONFIGURE; <br />
GO<br />
<br />
7) Modify the extended property of the sysutility_mdw database back to the SQL Server 2008 R2 version. To do this, follow these steps: </p>
<div>
<ul style="list-style-type:disc;">
    <li class="sourceCodeList">In SQL Server Management Studio, right-click the sysutility_mdw database and then click <strong>Properties</strong>. </li>
    <li class="sourceCodeList">In the property dialog box, click <strong>Extended Properties</strong>. </li>
    <li class="sourceCodeList">Update the value to 10.50.1600.1 for the &ldquo;Microsoft_DataCollector_MDW_Version&rdquo; property. </li>
</ul>
</div>
<p><span style="color:#000000;">8) If you have not yet uninstalled the service pack, uninstall it now. If you have already uninstalled it, continue to step 9.<br />
<br />
9) In SQL Server Configuration Manager, right-click the SQL Server service, and then click <strong>Stop</strong>.<br />
<br />
10) Remove trace flag 902 on the instance of SQL Server 2008 R2. To do this, delete <strong>;&ndash;T902 </strong>from the string value that you updated in step 2.<br />
<br />
11) Right-click the SQL Server service, and then click <strong>Start</strong>.<br />
<br />
12) Right-click the SQL Server Agent service, view properties, and set the service start mode back to its original value. Then click <strong>Start</strong> to start the Agent service.<br />
<br />
13) In SQL Server Management Studio, reconnect to the instance of SQL Server 2008 R2.<br />
<br />
14) In Object Explorer, expand <strong>Management</strong>, right-click <strong>Data Collection</strong>, and then click <strong>Enable Data Collection</strong>.</span></p>
<p><span style="color:#000000;"><strong>Note:</strong> If data collection is already enabled, the <strong>Enable Data Collection</strong> item is unavailable.</span><br />
<br />
</p>
</div>
<hr />
<div class="subsection"></div>
<h1 class="subsection"><a name="Find"></a>3.0 How to Find More Known Issues</h1>
<div class="section">
<div class="subsection">
<div id="sectionSection14" class="section">
<p>We recommend that you view more known issues on the&nbsp;<a href="http://go.microsoft.com/?linkid=9775589">Microsoft Support site for SQL Server 2008 R2</a> or by searching for &quot;SQL Server 2008 R2&quot; on the main <a href="http://go.microsoft.com/fwlink/?LinkID=8158">Microsoft Support</a> Web site.</p>
<p style="height:26px;">You can also join the SQL Server Community to share your experiences and learn from other people who are using SQL Server 2008. For more information, see the <a href="http://go.microsoft.com/fwlink/?LinkId=124388">SQL Server Community</a>&nbsp;Web site. You can also find our forums and other support on the <a href="http://go.microsoft.com/?linkid=9767513">Troubleshooting and Support</a> page.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<br />
<br />
Books Online is the primary documentation for SQL Server 2008. You can view <a href="hown Issues</h1>
<div class="section">
<div class="subsection">
<dttp://go.microsoft.com/fwlink/?LinkID=154888"><span style="color:#0066dd;">SQL Server 2008 R2 Books Online</span></a> in the MSDN Library.<br />
<br />
<div id="footer">&copy; 2011 Microsoft Corporation. All rights reserved. <br />
<br />
</div></div>
    
    
