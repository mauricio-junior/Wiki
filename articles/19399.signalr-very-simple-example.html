---
layout: default
title: SignalR&#58; Very Simple Example - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<hr />
<div id="longDesc">
<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Introduction">Introduction</a></li><li class="hierarchy-item"><a href="#Description">Description</a></li><li class="hierarchy-item"><a href="#Source_Code_Files">Source Code Files</a></li><li class="hierarchy-item"><a href="#More_Information">More Information</a></li><li class="hierarchy-item"><a href="#Other_Languages">Other Languages</a></li></ul><div class="hierarchy-list-footer"> </div></div>
<hr />
<h1><a name="Introduction"></a>Introduction</h1>
<em>You can download the code <a href="http://code.msdn.microsoft.com/Signaiv class="r4 fiji-r4"></div></div><div class="content-fragment-content">

<div class="full-post-healR-very-simple-example-4aec5588/file/94983/2/SignalR%2c%20very%20simple%20example.zip">
here.</a> </em>
<p><em>This is a very simple example of how we can use SignalR, based on the Microsoft Virtual Academy course
<a href="http://www.microsoftvirtualacademy.com/Content/ViewContent.aspx?et=2507&amp;m=2505&amp;ct=15703#fbid=0iBWJyz1tez">
&quot;Building apps with ASP.NET 4.5&quot;</a>.&nbsp; It can be used as a guide for building a more complex web app.
</em><em>This solution requires NuGet packages to be downloaded. Visual Studio will download the necessary packages automatically.&nbsp;This solution is designed for Visual Studio 2012</em></p>
<h1><a name="Description"></a>Description</h1>
<p><span style="font-family:&#39;Segoe UI&#39;;">This&nbsp;application displays a div shape that the users can drag. The position of the shape&nbsp;in all other browsers&nbsp;will then be updated to match the position of the dragged shape<em>.</em></span></p>
<p><span style="font-family:&#39;Segoe UI&#39;;">As the server component, this web page contains a C# implementation of the SignalR Hub class. As the client component, it has an HTML page using JQuery .</span></p>
<p><span style="font-family:&#39;Segoe UI&#39;;">These concepts are associated with applications in real-time gaming and other simulation applications.</span></p>
<p><img alt=" " width="586" height="584" id="94985" src="http://code.msdn.microsoft.com/site/view/file/94985/1/2013-08-27_0126.png" /></p>
<p>Index.html</p>
<div class="scriptcode">
<div class="pluginEditHolder">
<div class="title"><span>HTML</span></div>
<pre class="html"><span class="html__doctype"></span><div class="reCodeBlock" style="border:1px solid lightslategray;overflow-y:auto;"><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">01.</code><span><code style="color:black;">&lt;!DOCTYPE html&gt; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">02.</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">html</code> <code style="color:gray;">xmlns</code><code style="color:black;">=</code><code style="color:blue;">&quot;<a href="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</a>&quot;</code><code style="color:black;">&gt; </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">03.</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">head</code><code style="color:black;">&gt; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">04.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">title</code><code style="color:black;">&gt;SignalR Example&lt;/</code><code style="color:teal;font-weight:bold;">title</code><code style="color:black;">&gt; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">05.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">06.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">#shape { </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">07.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">width: 100px; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">08.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">height: 100px; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">09.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">background-color: red; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">10.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">cursor:move; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">11.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">12.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">13.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">#count { </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">14.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">font-size:60px; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">15.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:padding-right:0.3em;display:block;float:left;">12.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">13.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">#count { </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">14.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&black;">color:lightGray; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">16.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">float:right; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">17.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">18.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">19.</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">head</code><code style="color:black;">&gt; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">20.</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">body</code><code style="color:black;">&gt; </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">21.</code><span><code>&nbsp;&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">22.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">div</code> <code style="color:gray;">id</code><code style="color:black;">=</code><code style="color:blue;">&quot;count&quot;</code><code style="color:black;">&gt;0&lt;/</code><code style="color:teal;font-weight:bold;">div</code><code style="color:black;">&gt; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">23.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">div</code> <code style="color:gray;">id</code><code style="color:black;">=</code><code style="color:blue;">&quot;shape&quot;</code><code style="color:black;">&gt;&lt;/</code><code style="color:teal;font-weight:bold;">div</code><code style="color:black;">&gt; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">24.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">25.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">script</code> <code style="color:gray;">src</code><code style="color:black;">=</code><code style="color:blue;">&quot;Scripts/jquery-1.6.4.js&quot;</code><code style="color:black;">&gt;&lt;/</code><code style="color:teal;font-weight:bold;">script</code><code style="color:black;">&gt; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">26.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">script</code> <code style="color:gray;">src</code><code style="color:black;">=</code><code style="color:blue;">&quot;Scripts/jquery-ui-1.10.3.js&quot;</code><code style="color:black;">&gt;&lt;/</code><code style="color:teal;font-weight:bold;">script</code><code style="color:black;">&gt; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">27.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">script</code> <code style="color:gray;">src</code><code style="color:black;">=</code><code style="color:blue;">&quot;Scripts/jquery.signalR-1.1.3.js&quot;</code><code style="color:black;">&gt;&lt;/</code><code style="color:teal;font-weight:bold;">script</code><code style="color:black;">&gt; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">28.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">script</code> <code style="color:gray;">src</code><code style="color:black;">=</code><code style="color:blue;">&quot;/signalr/hubs&quot;</code><code style="color:black;">&gt;&lt;/</code><code style="color:teal;font-weight:bold;">script</code><code style="color:black;">&gt; &lt;!--this is for automatically&nbsp; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">29.</code><span><code style="color:black;">generate a javascript proxy class for our server class--&gt; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">30.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;</code><code style="color:teal;font-weight:bold;">script</code><code style="color:black;">&gt; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">31.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">32.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">$(function () { </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">33.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">34.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">var hub = $.connection.moveShape, //set hub with the server side class </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">35.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">$shape = $(&quot;#shape&quot;); </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">36.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">37.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">38.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">39.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">hub.client.usersConnected = function (numUsers) { //this instanciate the&nbsp; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">40.</code><span><code style="color:black;">usersConnected function receiving the numUsers parameter which is the number of users connected </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">41.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">$(&quot;#count&quot;).text(numUsers); //show the number of users connected inside a div </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">42.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">43.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">44.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;tp;&next-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">45.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">46.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">47.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">hub.client.shapeMoved = function (x, y) { //this instanciate the shapeMoved function&nbsp; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">48.</code><span><code style="color:black;">receiving x, y&nbsp; </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">49.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">$shape.css({ left: x, top: y }); //this moves the shape in the clients to&nbsp; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">50.</code><span><code style="color:black;">the coords x, y&nbsp; </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">51.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">52.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">53.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">$.connection.hub.start().done(function () {//when the connection is ready,&nbsp; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">54.</code><span><code style="color:black;">we going to make the shape draggable </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">55.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">$shape.draggable({ </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">56.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">drag: function () { //when the user drag the shape, we going to&nbsp; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">57.</code><span><code style="color:black;">send to the server the x, y values </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">58.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">hub.server.moveShape(this.offsetLeft, this.offsetTop || 0); </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">59.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">60.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}); </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">61.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}); </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">62.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}); </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">63.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">64.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">script</code><code style="color:black;">&gt; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">65.</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-we-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">62.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">}); </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">63.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">64.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">scriight:bold;">body</code><code style="color:black;">&gt; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">66.</code><span><code style="color:black;">&lt;/</code><code style="color:teal;font-weight:bold;">html</code><code style="color:black;">&gt;</code></span></div></div>
</pre>
</div>
</div>
<div class="endscriptcode">&nbsp;</div>
<p>MoveShapeHub.cs</p>
<p>&nbsp;</p>
<div class="scriptcode">
<div class="pluginEditHolder">
<div class="title"><span>C#</span></div>
<pre class="csharp"><span class="cs__keyword"></span><div class="reCodeBlock" style="border:1px solid lightslategray;overflow-y:auto;"><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">01.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">Microsoft.AspNet.SignalR; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">02.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">Microsoft.AspNet.SignalR.Hubs; </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">03.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">04.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System.Collections.Generic; </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">05.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System.Linq; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">06.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System.Threading.Tasks; </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">07.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System.Web; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">08.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">09.</code><span><code style="color:teal;font-weight:bold;">namespace</code> <code style="color:black;">SignalR.MoveShape </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">10.</code><span><code style="color:black;">{ </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">11.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">12.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">static</code> <code style="color:teal;font-weight:bold;">class</code> <code style="color:black;">UserHandler </code><code style="color:green;">//this static class is to store the number of&nbsp; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">13.</code><span><code style="color:black;">users conected at the same time </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">14.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">15.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">static</code> <code style="color:black;">HashSet&lt;</code><code style="color:teal;font-weight:bold;">string</code><code style="color:black;">&gt; ConnectedIds = </code><code style="color:teal;font-weight:bold;">new</code> <code style="color:black;">HashSet&lt;</code><code style="color:teal;font-weight:bold;">string</code><code style="color:black;">&gt;(); </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">16.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">17.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">18.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">[HubName(</code><code style="color:blue;">&quot;moveShape&quot;</code><code style="color:black;">)]&nbsp;&nbsp; </code><code style="color:green;">//this is for use a name to use in the client </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">19.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">class</code> <code style="color:black;">MoveShapeHub : Hub </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">20.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">21.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">moveShape(</code><code style="color:teal;font-weight:bold;">int</code> <code style="color:black;">x, </code><code style="color:teal;font-weight:bold;">int</code> <code style="color:black;">y) </code><code style="color:green;">// this method will be called from&nbsp; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">22.</code><span><code style="color:black;">the client, when the user drag/move the shape </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">23.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">24.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">25.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">Clients.Others.shapeMoved(x, y); </code><code style="color:green;">// this method will send the coord x, y&nbsp; </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">26.</code><span><code style="color:black;">to the other users but the user draging the shape </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">27.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">28.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">29.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">30.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">olor:dimgray;padding-right:0.3em;display:block;float:left;">27.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">28.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">29.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">30.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code stoverride</code> <code style="color:black;">Task OnConnected() </code><code style="color:green;">//override OnConnect, OnReconnected and OnDisconnected&nbsp; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">31.</code><span><code style="color:black;">to know </code><code style="color:teal;font-weight:bold;">if</code> <code style="color:black;">a user </code><code style="color:teal;font-weight:bold;">is</code> <code style="color:black;">connected or disconnected </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">32.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">33.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">UserHandler.ConnectedIds.Add(Context.ConnectionId); </code><code style="color:green;">//add a connection id to the list </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">34.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">Clients.All.usersConnected(UserHandler.ConnectedIds.Count()); </code><code style="color:green;">//this will send to ALL the clients&nbsp; </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">35.</code><span><code style="color:black;">the number of users connected </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">36.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">return</code> <code style="color:teal;font-weight:bold;">base</code><code style="color:black;">.OnConnected(); </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">37.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">38.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">39.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">override</code> <code style="color:black;">Task OnReconnected() </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">40.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">41.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">UserHandler.ConnectedIds.Add(Context.ConnectionId); </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">42.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">Clients.All.usersConnected(UserHandler.ConnectedIds.Count()); </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">43.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">return</code> <code style="color:teal;font-weight:bold;">base</code><code style="color:black;">.OnConnected(); </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">44.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">45.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">46.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">override</code> <code style="color:black;">Task OnDisconnected() </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">47.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">48.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">UserHand</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">46.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">override</code> <code style="color:black;">Task OnDisconnected() </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">47.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dler.ConnectedIds.Remove(Context.ConnectionId); </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">49.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">Clients.All.usersConnected(UserHandler.ConnectedIds.Count()); </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">50.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">return</code> <code style="color:teal;font-weight:bold;">base</code><code style="color:black;">.OnDisconnected(); </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">51.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">52.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">53.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">54.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">55.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">56.</code><span><code style="color:black;">}</code></span></div></div></pre>
</div>
</div>
<div class="endscriptcode">&nbsp;</div>
<p>&nbsp;</p>
<p>Globa.asax.cs</p>
<p>&nbsp;</p>
<div class="scriptcode">
<div class="pluginEditHolder">
<div class="title"><span>C#</span></div>
<pre class="csharp"><span class="cs__keyword"></span><div class="reCodeBlock" style="border:1px solid lightslategray;overflow-y:auto;"><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">01.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">02.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System.Collections.Generic; </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">03.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System.Linq; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">04.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System.Web; </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">05.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System.Web.Routing; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">06.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System.Web.Security; </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">07.</code><span><code style="color:teal;font-weight:bold;">using</code> <code style="color:black;">System.Web.SessionState; </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">08.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">09.</code><span><code style="color:teal;font-weight:bold;">namespace</code> <code style="color:black;">SignalR </code></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">10.</code><span><code style="color:black;">{ </code></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">11.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">class</code> <code style="color:black;">Global : System.Web.HttpApplication </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">12.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">13.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">14.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">public</code> <code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">Application_Start() </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">15.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">16.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:green;">// Register the default hubs route: ~/signalr </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">17.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">RouteTable.Routes.MapHubs(); </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">18.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">19.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">20.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">protected</code> <code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">Session_Start(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">sender, EventArgs e) </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">21.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">22.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">23.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">24.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">25.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">protected</code> <code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">Application_BeginRequest(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">sender, EventArgs e) </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">26.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">27.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">28.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">29.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">30.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">protected</code> <code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">Application_AuthenticateRequest(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">sender, EventArgs e) </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">31.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">32.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">33.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">34.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">35.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">protected</code> <code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">Application_Error(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">sender, EventArgs e) </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">36.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">37.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">38.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">39.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">40.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">protected</code> <code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">Session_End(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">sender, EventArgs e) </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">41.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">42.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">43.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">44.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">45.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:teal;font-weight:bold;">protected</code> <code style="color:teal;font-weight:bold;">void</code> <code style="color:black;">Application_End(</code><code style="color:teal;font-weight:bold;">object</code> <code style="color:black;">sender, EventArgs e) </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">46.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">{ </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">47.</code><span><code>&nbsp;</code><span>&nbsp;</span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">48.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:white;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">49.</code><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:black;">} </code></span></span></div><div style="background-color:whitesmoke;"><code style="width:3em;text-align:right;color:dimgray;padding-right:0.3em;display:block;float:left;">50.</code><span><code style="color:black;">}</code></span></div></div></pre>
</div>
</div>
<div class="endscriptcode">&nbsp;<br />
<br />
<div style="text-align:right;"><strong style="font-size:12.1px;"><a href="https://social.technet.microsoft.com/wiki/contents/articles/19399.signalr-very-simple-example/edit.aspx#Introduction">Return to Top</a></strong></div>
<br />
<br />
</div>
<h1><a name="Source_Code_Files"></a><span>Source Code Files</span></h1>
<ul>
<li><em>Global.asax&nbsp;- The global application class is used to register the route to the autogenerated hubs proxy.</em>
</li><li><em><em>index.html - The client application, written using JavaScript and the JQuery library.</em></em>
</li><li><em>MoveShapeHub.cs&nbsp;- The server application, written as an implementation of a SignalR hub.</em>
</li></ul>
<h1><a name="More_Information"></a>More Information</h1>
<ul>
<li><a href="http://www.asp.net/signalr">http://www.asp.net/signalr</a> </li></ul>
<ul>
<li><a href="http://www.microsoftvirtualacademy.com/Content/ViewContent.aspx?et=2507&amp;m=2505&amp;ct=15703#fbid=0iBWJyz1tez">http://www.microsoftvirtualacademy.com/Content/ViewContent.aspx?et=2507&amp;m=2505&amp;ct=15703#fbid=0iBWJyz1tez</a>
</li></ul>
</div>
<h1 style="color:dimgray;line-height:1.3;font-family:&#39;Segoe UI Light&#39;,&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Verdana,Arial,Helvetica,sans-serif;font-size:36.33px;background-color:white;">
<a name="Other_Languages"></a><span style="font-size:22px;">Other Languages</span><br />
<span style="font-size:12px;"></span></h1>
<div><span style="line-height:16.95px;font-size:12.11px;background-color:white;font-family:&#39;segoe ui&#39;;color:darkslategray;">This article is also available the following languages:</span><span style="line-height:16.95px;font-size:12.11px;background-color:white;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Verdana,Arial,Helvetica,sans-serif;color:darkslategray;"></span>
<ul>
<li>Français: <a href="http://social.technet.microsoft.com/wiki/contents/articles/29672.signalr-exemple-tres-simple.aspx">
SignalR - Exemple très simple</a> (fr-FR) </li></ul>
</div>

</div>
    
    