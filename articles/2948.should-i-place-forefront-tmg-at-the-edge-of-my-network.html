---
layout: default
title: Should I Place Forefront TMG at the Edge of My Network? - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<p style="line-height:13.5pt;background-color:white;"><strong>[This article originally appeared in the &quot;Closer to the Edge&quot; blog at:
</strong><a href="http://blog.msedge.org.uk/2010/08/should-i-place-forefront-tmg-at-edge-of.html">http://blog.msedge.org.uk/2010/08/should-i-place-forefront-tmg-at-edge-of.html</a><strong>]</strong></p>
<p style="line-height:13.5pt;"><strong><span style="text-decoration:underline;">Is Forefront TMG Trustworthy?</span></strong></p>
<p style="line-height:13.5pt;">Given that&nbsp;TMG is now an <a href="http://www.microsoft.com/forefront/edgesecurity/isaserver/en/us/common-criteria.aspx" target="_blank">
EAL4&#43; certified firewall </a>like its predecessor ISA Server 2006; combine a decade long history of a firewall that has never been the focus of a successful, documented attack and I&#39;d say you&#39;re in good shape for putting TMG at the network edge from a security
 perspective. </p>
<p style="line-height:13.5pt;"><strong><span style="text-decoration:underline;">Is it All About Security?</span></strong></p>
<p style="line-height:13.5pt;">However, as good as TMG is (and secure too) there are still some limitations with regard to Network Address Translation (NAT) functionality that are often bettered by traditional network firewall vendors. There are some good improvements
 with Enhanced NAT in TMG, but you may be left wanting when it comes to full NAT control. Some of the changes in selection of source IP address introduced in Windows Server 2008 don&#39;t help either, as covered in the following article:
<a href="http://support.microsoft.com/kb/969029/en-us">http://support.microsoft.com/kb/969029/en-us</a> which may not provide expected or wanted results. Consequently, there may be some advantage of placing another network device (border router or firewall)
 at the network edge, in front of TMG. </p>
<p style="line-height:13.5pt;">I always believed in placing ISA/TMG closest to the assets you want to protect, so its role as a back-end application firewall is often the most useful. Some folks are comfortable with a single-tier application level firewall (e.g.
 TMG at the edge) but many aren&#39;t and look for at least a two-tier firewall topology. Is this better? Not sure that is fully quantifiable, but they often feel they have &quot;covered themselves&quot; anyhow by following a more defence in depth approach.&nbsp;
</p>
<p style="line-height:13.5pt;">The other element to consider is that people don&#39;t hack firewalls anymore; they hack applications. Consequently, good firewall protection is about protecting at the application level. A front-end &quot;network&quot; firewall can be handy
 for noise reduction and enhanced network functionality (like more advanced NAT perhaps) but often the application firewall behind it is actually doing most of the heavy lifting. Many times, the front-end firewall only ever sees encrypted incoming connections
 (SSL/TLS) to which it has no understanding, and hence provides pretty low security value. If you combine UAG or DirectAccess into the mix, the front-end firewall becomes even more clueless, as all the clever stuff happens behind it...&nbsp;
</p>
<p style="line-height:13.5pt;">With the advent of UAG DirectAccess and the need for public IPv4 addresses on the UAG external interface, I think many more people will (perhaps not always knowingly) put TMG on the edge (by placing UAG at the edge) as they have
 limited options with regard to meeting the DA public addressing requirements. This should consequently build confidence that Microsoft have a product which &quot;they the customer&quot; believe can be trusted in that role/location.
</p>
<p style="line-height:13.5pt;"><strong><span style="text-decoration:underline;">Is an Appliance Version of Forefront TMG More Secure at the Edge?</span></strong></p>
<p style="line-height:13.5pt;">Finally, the use of a hardware platform (like the <a href="http://www.celestix.com/index.php?option=com_content&amp;view=article&amp;id=72&amp;Itemid=103&amp;lang=en" target="_blank">
Celestix MSA</a> range perhaps) shouldn&#39;t really change the overall risk and edge placement assessment, as this is a
<em>platform </em>choice, not a <em>security</em> choice, and you should go that route for other reasons than improved security protection. Well, unless you believe that a &quot;hardware device&quot; is any different or better than a &quot;software firewall&quot; that isâ€¦</p>
<p style="line-height:13.5pt;"><strong><span style="text-decoration:underline;">Conclusion</span></strong></p>
<p style="line-height:13.5pt;">I also not sure there is a right or wrong answer here, as peoples acceptance of risk varies greatly. However, assuming you are happy with the native network level feature set provided by TMG (and the potential limitations) I see
 no reason not to place it at the network edge, but as is often the case, your mileage may vary!
</p>
<p style="line-height:13.5pt;background-color:white;">This article was originally written by:</p>
<p style="background-color:white;"><strong>Jason Jones, Forefront MVP<br />
</strong><strong>Principal Security Consultant<br />
Silversands Limited<br />
</strong>--------<br />
My Forefront Edge Blog: <a href="http://blog.msedge.org.uk/">http://blog.msedge.org.uk/</a><br />
My ISA Server Blog: <a href="http://blog.msfirewall.org.uk/">http://blog.msfirewall.org.uk/</a><br />
MVP Profile: <a href="https://mvp.support.microsoft.com/profile/Jason.Jones">https://mvp.support.microsoft.com/profile/Jason.Jones</a><br />
Twitter: <a href="http://twitter.com/jjatsilversands">http://twitter.com/jjatsilversands</a></p>

</div>
    
    