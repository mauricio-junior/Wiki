---
layout: default
title: 'SharePoint 2010&#58; You See an Error Message About Insufficient Permissions When You Run a Report from a SharePoint Library - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">

<div class="ExternalClass5A336497D9EC462EB126C0915995B6CD">
<h2 class="ExternalClassC4AF60B124174131BF00350F09D44684"><a name="Issue_and_Background"></a>Issue and Background</h2>
<h1 class="ExternalClassC4AF60B124174131BF00350F09D44684"><strong></strong></h1>
<p class="ExternalClassC4AF60B124174131BF00350F09D44684">When you try to view an SSRS report from a SharePoint library, you see the following error message:</p>
<blockquote class="ExternalClassC4AF60B124174131BF00350F09D44684" dir="ltr" style="margin-right:0px;">
<div><em><strong>The permissions granted to user &#39;[DOMAIN NAME]\[USER NAME] are insufficient for performing this operation. (rsAccessDenied)
</strong></em></div>
</blockquote>
<p class="ExternalClassC4AF60B124174131BF00350F09D44684">&nbsp;If you review the&nbsp;&nbsp;IIS Log you will&nbsp;see the user requesting the report is registered as<strong> [Domain Name]\[User Name]</strong> while SharPoint&nbsp;is configured with&nbsp;just the
<strong>[User Name]</strong>, and the [Domain Name]&nbsp;is not explicitly included.</p>
<div class="ExternalClassC4AF60B124174131BF00350F09D44684">&nbsp;</div>
<div class="ExternalClassC4AF60B124174131BF00350F09D44684">This&nbsp;mismatch in user identification, causes the failure as the report server does a string comparison between the&nbsp;it received and&nbsp;the one that is registered in Sharepoint.&nbsp;
</div>
<p class="ExternalClassC4AF60B124174131BF00350F09D44684">&nbsp;For example, a&nbsp; customer registers the Service Account for a Web Application&nbsp;without the domain name.&nbsp; However the actual Application Pool identity in InetMgr was registered with the domain name. Currently,&nbsp;the
 SharePoint object model&nbsp;does not always store the Service Account name in a form that is a character for character match with the&nbsp;actual Application pool identity. Therefore, when the report server is&nbsp;comparing the two tokens,&nbsp;they do not match and the result
 is the&nbsp;Access Denied exception, being seen by the customer .</p>
<div><br />
</div>
<h2 class="ms-rteFontSize-2"><a name="Work_Around"></a>Work Around<br />
<strong style="color:#333333;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Arial,Verdana,Helvetica,sans-serif;font-size:12.1px;">Update the registration of the&nbsp;service account for the web application to include the domain name as well as the user name. &nbsp;</strong><strong style="color:#333333;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Arial,Verdana,Helvetica,sans-serif;font-size:12.1px;">SharePoint
 2010 products (draft)<br />
</strong><span style="color:#333333;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Arial,Verdana,Helvetica,sans-serif;font-size:12.1px;">Open SharePoint Central Administration.<br />
</span><span style="color:#333333;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Arial,Verdana,Helvetica,sans-serif;font-size:12.1px;">In the
</span><strong style="color:#333333;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Arial,Verdana,Helvetica,sans-serif;font-size:12.1px;">Security</strong><span style="color:#333333;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Arial,Verdana,Helvetica,sans-serif;font-size:12.1px;">
 section, click</span><strong style="color:#333333;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Arial,Verdana,Helvetica,sans-serif;font-size:12.1px;"> Configure Service Accounts.<br />
</strong><strong style="color:#333333;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Arial,Verdana,Helvetica,sans-serif;font-size:12.1px;">MOSS 2007 and WSS 3.0 (draft)</strong><span style="color:#333333;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Arial,Verdana,Helvetica,sans-serif;font-size:12.1px;">&nbsp;</span></h2>
<ol>
<li>
<ol>
<li>Open SharePoint Central Administration. </li><li>In the Operations section click <strong>Service Accounts</strong>. </li><li>Choose the Web Application Pool as &quot;Windows SharePoint Services Web <br />
Application<br />
Choose any of the application pool<br />
In the Configurable User Name we saw customer has a domain user name where he <br />
did not specify domain name. Eg: redmond\lakshmij, instead we saw just Lakshmj as
<br />
the username. </li></ol>
</li></ol>
<hr align="center" class="ms-rteFontSize-2" />
<h2 class="ms-rteFontSize-2"><a name="Applies_to"></a>Applies to&nbsp;</h2>
<ul>
<li>SQL Server 2008 R2 Reporting Services </li><li>SQL Server 2008 Reporting Services </li><li>SQL Server 2005 Reporting Services&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </li></ul>
<div>&nbsp;&nbsp;&nbsp;&nbsp; Integrated with</div>
<ul>
<li>Microsoft Office SharePoint Server (MOSS)&nbsp;2007 </li><li>Windows SharePoint Services&nbsp;3.0 </li></ul>
<h2><a name="See_Also"></a>See Also</h2>
<ul>
<li><a href="http://social.technet.microsoft.com/wiki/contents/articles/sql-server-reporting-services.aspx">(SSRS) SQL Server Reporting Services main page</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/ssrs-troubleshooting-issues-and-errors.aspx">(SSRS) Troubleshooting wiki topics</a>
</li></ul>
<div><strong><span style="color:#b10069;"></span></strong>&nbsp;</div>
<span style="color:#b10069;"></span><strong>
<h2><a name="External_Links"></a>External Links</h2>
</strong>
<ul>
<li>
<div class="title"><a href="http://technet.microsoft.com/en-us/library/cc771170(WS.10).aspx">Specify an Identity for an Application Pool</a></div>
</li></ul>
</div>

</div>
    
    
