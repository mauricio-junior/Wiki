---
layout: default
title: 'SCCM&#58; Wrapping Mac OS X Apps using CMAppUtil - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">




<hr />
<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Introduction">Introduction</a></li><li class="hierarchy-item"><a href="#Getting_CMAppUtil">Getting CMAppUtil</a></li><li class="hierarchy-item"><a href="#Getting_the_Apps">Getting the Apps</a></li><li class="hierarchy-item"><a href="#Wrapping_an_app_file_Google_Chrome">Wrapping a .app file (Google Chrome)</a></li><li c class="content-fragment-inner fiji-content-fragment-inner"><div class="content-fragment-top fiji-content-fragment-top"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div><div class="content-fragment-content">

<div class="full-post-header"></div>
<div class="full-post">
    <h1 class="post-name">SCCM: Wrapping Mac OS X Apps using CMAppUtil</h1>
    

    <div class="post-colass="hierarchy-item"><a href="#Wrapping_a_pkg_App_Citrix_Receiver">Wrapping a .pkg App (Citrix Receiver)</a></li><li class="hierarchy-item"><a href="#Analyzing_the_cmmac_file">Analyzing the .cmmac file</a></li></ul><div class="hierarchy-list-footer"> </div></div>
<hr />
<h1><a name="Introduction"></a><a id="Introduction"></a>Introduction</h1>
<p>In this article, we demonstrate how you can easily wrap an OS X App for Distribution via System Center Configuration Manager. The Wrapped App can later be deployed as an Application to managed Mac Devices.</p>
<p>For the Wrapping, you need a Windows device to install the Mac Client Installer and a Mac Device to perform the actual Wrapping.</p>
<h1><a name="Getting_CMAppUtil"></a>Getting CMAppUtil</h1>
<p>CMAppUtil, which we use for the Wrapping-Process, is part of the ConfigMgr Mac Client. The Mac Client can be found on Microsoft Download as part of the&nbsp;<a href="https://www.microsoft.com/en-us/download/details.aspx?id=47719">Clients for Additional Operating
 Systems</a>.</p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part1.png" width="550" /></p>
<p>Download the <strong>ConfigmgrMacClient.msi</strong></p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part2.png" width="550" /></p>
<p>Install the &quot;System Center Configuration Manager for Mac client Setup&quot; on a Test device.</p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part3.png" width="550" /></p>
<p>Copy the installed dmg file to a Mac OS X Device. The file is located at:</p>
<p><code>C:\Program Files (x86)\Microsoft\System Center Configuration Manager for Mac client\macclient.dmg</code></p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part4.png" width="550" /></p>
<p>Open <strong>macclient.dmg</strong> on the Mac.</p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part5.png" width="550" /></p>
<p>Copy the <strong>Tools</strong> folder to a place on the Mac. We use the Desktop for this example.</p>
<h1><a name="Getting_the_Apps"></a><a name="Getting%20the%20Apps"></a><a id="Getting the Apps"></a>Getting the Apps</h1>
<p>In this example, we will wrap Google Chrome and Citrix Receiver. Whichever app you are going to wrap, CMAppUtil supports the following formats:</p>
<ul>
<li>.dmg </li><li>.pkg </li><li>.mpkg </li><li>.app </li></ul>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part6.png" width="550" /></p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part7.png" width="550" /></p>
<p>As you see the installers for the two applications that we choose to look at are a bit different. Google Chrome is a native app (.app) which can just be put into the Applications Folder. Citrix Receiver, however, is an iInstaller (.pkg).</p>
<h1><a name="Wrapping_an_app_file_Google_Chrome"></a><a name="Wrapping%20an%20.app%20file%20(Google%20Chrome)"></a><a id="Wrapping an .app file (Google Chrome)"></a>Wrapping a .app file (Google Chrome)</h1>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part8.png" width="550" />
<br />
Open Terminal on the Mac and navigate into the <strong>Tools</strong> folder where CMAppUtil is located. You can use &#39;cd&#39; to change directories and &#39;ls&#39; to list the content of the present directory.</p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part9.png" width="550" /></p>
<p>Use the following command to start the Wrapping process. Adjust the path if needed.</p>
<p><span><code>./CMAppUtil -c &quot;/Users/macbookpro/Desktop/googlechrome.dmg&quot; -o &quot;/Users/macbookpro/Desktop/Wrapped/&quot;</code></span></p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part10.png" width="550" /></p>
<p>After a short while, the Wrapping Process should complete with the above message. If the dmg file is opened during the wrapping, ignore it.</p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part11.png" width="550" /></p>
<p>Your app should now be available in the specified Output Directory in the .cmmac format, as on the screen above.</p>
<h1><a name="Wrapping_a_pkg_App_Citrix_Receiver"></a><a name="Wrapping%20a%20.pkg%20App%20(Citrix%20Receiver)"></a><a id="Wrapping a .pkg App (Citrix Receiver)"></a>Wrapping a .pkg App (Citrix Receiver)</h1>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part12.png" width="550" /></p>
<p>The process of wrapping a .pkg file is exactly the same as in the example above. However, here we have the situation, that the specified .dmg has two executables in it. CMAppUtil will pause the wrapping and ask, you as seen above, to choose the correct installer.
 In this example 1.</p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part13-1.png" width="550" /></p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part14.png" width="550" /></p>
<p>After a short while, the Wrapping should complete, leaving you with another .cmmac file in the Output Directory.</p>
<p>In case if you need to convert all the applications inside the .dmg file then use -a property at the end.</p>
<p>./CMApputil -c &quot;path to .dmg&quot; -o &quot;destination location&quot; -a</p>
<p>When converting if you see any issue like the below screen then use -s property to force create .cmmac without any detection.xml file. In this case, we need to explicitly create detection method manually in the SCCM console.</p>
<p><a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/2260.cmmac-issue.png"><img alt=" " src="https://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/2260.cmmac-issue.png" style="border-width:0px;border-style:solid;" /></a></p>
<p>If you want to review the detection.xml file created using CMApputil which is wrapped inside the CMMAC file using terminal then use -r property.</p>
<p>./CMApputil -r &quot;path to .cmmac file&quot;</p>
<h1><a name="Analyzing_the_cmmac_file"></a>Analyzing the .cmmac file</h1>
<p>At last, let&#39;s have a closer look at what CMAppUtil has exactly done with the wrapped Application.</p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part15.png" width="550" /></p>
<p>The .cmaac is an Archive File which can be openedeate detection method manually in the SCCM console.</p>
<p><a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/2260.cmmac-issue.png"><img alt=" " src="https://social.technet.microso an extract on any Windows or Mac Device.</p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part17.png" width="550" /></p>
<p><strong>contents:</strong> Contains the original, unmodified Installation File. In this example either &quot;Google Chrome.app&quot; or &quot;Install Citrix Receiver.pkg&quot;</p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part16.png" width="550" /></p>
<p><strong>Metadata</strong>: Contains a file called&nbsp;Detection.xml</p>
<p>The Detection.xml contains, as the name implies, the Detection Method which is mandatory for creating an Application in ConfigMgr. It also contains some basic Installation Parameter as where to install the Application. Those Settings are automatically being
 used when importing the .cmmac file into ConfigMgr</p>
<p><img alt=" " src="https://msitproblog.com/wp-content/uploads/2017/03/osx_wrap_app_part18.png" width="550" /></p>
<hr />

</div>
    
    
