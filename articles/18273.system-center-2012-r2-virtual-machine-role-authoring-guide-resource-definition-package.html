---
layout: default
title: 'System Center 2012 R2 Virtual Machine Role Authoring Guide - Resource Definition Package - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">

<p>This topic is            History
                    </a>
            </li>
        
</ul>
<div class="navigation-list-footer"></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom fiji-content-fragment-bottom"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div></div></div>
<div class="content-fragment page no-wrapper" id="fragment-6615">
<div class="content-fragment-inner fiji-content-fragment-inner"><div class="content-fragment-top fiji-content-fragment-top"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div><div class="content-fragm part of the <a href="http://social.technet.microsoft.com/wiki/contents/articles/18272.system-center-2012-r2-virtual-machine-role-authoring-guide.aspx">
System Center 2012 R2 Virtual Machine Role Authoring Guide</a>.</p>
<p>The Microsoft System Center team has validated this content as of <strong>Revision #6</strong>.&nbsp; We will continue to review any changes and periodically provide validations on later revisions as they are made.&nbsp; Please feel free to make any corrections or
 additions to this content that you think would assist other users.</p>
<br />
<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Introduction">Introduction</a></li><li class="hierarchy-item"><a href="#View_Definition_File">View Definition File</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Sections_and_Categories">Sections and Categories</a></li><li class="hierarchy-item"><a href="#Parameters">Parameters</a></li><li class="hierarchy-item"><a href="#Localization">Localization</a></li></ul><div class="hierarchy-list-footer"> </div></li><li class="hierarchy-item"><a href="#Icon">Icon</a></li><li class="hierarchy-item"><a href="#Localization_Files">Localization Files</a></li><li class="hierarchy-item"><a href="#Resource_Definition_File">Resource Definition File</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Identification">Identification</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Example">Example</a></li></ul><div class="hierarchy-list-footer"> </div></li><li class="hierarchy-item"><a href="#Resource_Parameters">Resource Parameters</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Example">Example</a></li></ul><div class="hierarchy-list-footer"> </div></li><li class="hierarchy-item"><a href="#Resource_Extension_References">Resource Extension References</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Example">Example</a></li></ul><div class="hierarchy-list-footer"> </div></li><li class="hierarchy-item"><a href="#Intrinsic_Settings">Intrinsic Settings</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Scale-Out_Settings">Scale-Out Settings</a></li><li class="hierarchy-item"><a href="#Hardware_Profile">Hardware Profile</a></li><li class="hierarchy-item"><a href="#Storage_Profile">Storage Profile</a></li><li class="hierarchy-item"><a href="#Network_Profile">Network Profile</a></li><li class="hierarchy-item"><a href="#Operating_System_Profile">Operating System Profile</a></li></ul><div class="hierarchy-list-footer"> </div></li></ul><div class="hierarchy-list-footer"> </div></li><li class="hierarchy-item"><a href="#See_Also">See Also</a></li></ul><div class="hierarchy-list-footer"> </div></div>
<h1><a name="Introduction"></a>Introduction</h1>
<p>The Resource Definition package includes the following components:</p>
<ul>
<li>Resource Definition File (RESDEF) </li><li>View Definition File (VIEWDEF) </li><li>Icon </li><li>Localization Files </li></ul>
<p>These components are illustrated in the following diagram and discussed in detail in the following sections.</p>
<p><a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/4578.VMRoleAuthGuide02.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/4578.VMRoleAuthGuide02.png" style="border-width:0px;border-style:solid;width:412px;height:295px;" /></a></p>
<h1><a name="View_Definition_File"></a>View Definition File</h1>
<p>The View Definition File (VIEWDEF) defines the parameters that the user interface will present to the tenant who is provisioning a new Virtual Machine Role. This includes the information that is provided to the user to prompt them for required information.</p>
<p><a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/5047.VMRoleAuthGuide03.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/5047.VMRoleAuthGuide03.png" style="border-width:0px;border-style:solid;width:275px;height:236px;" /></a></p>
<p>The View Definition is not processed by SPF or VMM. It is completely used by Tenant Portal to present user interface to tenant in order to collect information required to provision the Virtual Machine Role. There is no requirement for the author to design
 the user interface. &nbsp;It will be constructed with a standard interface using the values provided in the View Definition.</p>
<h2><a name="Sections_and_Categories"></a>Sections and Categories</h2>
<p>The parameters that are collected from the user are organized into Sections and Categories. A separate step in the wizard is created for each section, with the Title of the section displayed at the top. Categories provide a way for parameters to be organized
 into groups. The Category Name of each category is displayed within the wizard step above the parameters in that category. The values for Title and Category Name often use a localized variable so that a language specific label can be displayed.</p>
<h2><a name="Parameters"></a>Parameters</h2>
<p>Each&nbsp;<a href="http://social.technet.microsoft.com/wiki/contents/articles/18275.system-center-2012-r2-virtual-machine-role-authoring-guide-parameters.aspx">parameter</a> to be collected from the tenant is defined by the attributes listed in the following
 table in the View Definition File. The parameters are displayed to tovided in the View Definition.</p>
<h2><a name="Sections_and_Categories"></a>Sections and Categories</h2>
<p>The parameters that are collected from the user are organized into Sections and Categories. A separate step in the wizard is created for each section, with the Title of the section displayed at the top. Categories provide a way for parameters to be organized
 into groups. The Category Name of each category is displayed within the wizard step above the parameters in that category. The values for Title and Category Name often use a localized variable so that a language specific label can be displayed.</p>
<h2><a name="Parameters"></a>Parameters</h2>
<p>Each&nbsp;<a href="http://social.technet.microsoft.com/wiki/contents/articles/18275.system-center-2012-r2-virtual-machine-role-authoring-guide-parameters.aspx">parameter</a> to be collected from the tenant is defined by the attributes listed in the following
 table in the View Definition File. The parameters are disphe user in the order they are defined in the file.&nbsp;</p>
<table border="1" cellspacing="0" cellpadding="0">
<tbody>
<tr>
<td valign="top">
<p><strong>Attribute</strong></p>
</td>
<td valign="top">
<p><strong>Description</strong></p>
</td>
</tr>
<tr>
<td valign="top">
<p><strong>Name</strong></p>
</td>
<td valign="top">
<p>The name of the parameter. This must match with the name used in the declaration of the parameter I the Resource Definition File.</p>
</td>
</tr>
<tr>
<td valign="top">
<p><strong>Label</strong></p>
</td>
<td valign="top">
<p>The caption to display to the user in the dialog box. This can be a localized variable to display a language specific label.</p>
</td>
</tr>
<tr>
<td valign="top">
<p><strong>Type</strong></p>
</td>
<td valign="top">
<p>The data type of the parameter. Corresponds to one of the data types in the below table.</p>
</td>
</tr>
<tr>
<td valign="top">
<p><strong>DefaultValue</strong></p>
</td>
<td valign="top">
<p>The initial value to display in the field to be used if the user does not provide a value. If no default value should be used, then do not include this attribute.</p>
</td>
</tr>
<tr>
<td valign="top">
<p><strong>Description</strong></p>
</td>
<td valign="top" style="width:585px;">
<p>Description of the parameter being collected. This can be a localized variable to display a language specific description. The description is displayed to the user in the tenant console as a tooltip.</p>
</td>
</tr>
<tr>
<td valign="top">
<p><strong>Validation</strong></p>
</td>
<td valign="top">
<p>Settings to verify the validity of the value. The Required attribute specifies whether a value is required for the property or if it can be left blank. For numeric values, MinRange and MaxRange determine the range that the value must fall within.</p>
<p>The Messages specifies the message that is presented to the user if the value of the parameter fails validation. The Required attribute specifies the message to display if a required attribute is left blank. The Range attribute specifies the message to display
 if a numeric value is out of range.</p>
</td>
</tr>
</tbody>
</table>
<br />
<h2><a name="Localization"></a>Localization</h2>
<p>All text that is presented to the tenant can be localized to the language of the tenant’s workstation.&nbsp; This is supported by localization files in the Resource Definition Package for each supported language.&nbsp; The localization files include a set of localization
 keys with corresponding text in the appropriate language.&nbsp; Rather than providing a value for a particular property in the View Definition, you can provide the key.&nbsp; When the text is displayed to the user, it will retrieve the text from the localization file
 of the language matching the user’s workstation.&nbsp; If that language is not available, then the default language specified in the View Definition will be used.</p>
<p>The syntax for using a localization tag is as follows:</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&#123;&#123;KeyName&#125;&#125;</code></span></div>
</div>
<p>For example, a section title with explicit text might look like the following:</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;Title&quot;: &quot;Virtual Machine Settings&quot;,</code></span></div>
</div>
<p>If the localization file included a key called WS2012IISVMSettings, then the localized version of section title would look like the following;</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;Title&quot;: &quot;&#123;&#123;WS2012IISVMSettings&#125;&#125;&quot;,</code></span></div>
</div>
<br />
<h1><a name="Icon"></a>Icon</h1>
<p>The Resource Definition Package can include a single file with the icon that should be displayed with it in the Virtual Machine Gallery. This file should be PNG format and measure 200x200 pixels.</p>
<h1><a name="Localization_Files"></a>Localization Files</h1>
<p>Localization file contains a set of localization parameters and their corresponding text in the appropriate language. The Virtual Machine Role requires a separate localization file for each language that it will support. A sample of the contents of a localization
 file<br />
is shown below:</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">{</code></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;IISWS2012Label&quot;: &quot;WS2012 with IIS Role&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;WS2012IISDescription&quot;: &quot;Creates Windows Server 2012 VM with IIS role.&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;WS2012IISVMSettings&quot;: &quot;Virtual Machine Settings&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;ScaleOutSettingGroup&quot;: &quot;VM Configuration Settings&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;VMRoleSizeDesc&quot;: &quot;Computer Size&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;VMROleSizeRequiredMessage&quot;: &quot;Computer Size is required&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">}</code></span></div>
</div>
<p>The localization file for each language can have any name but must use the extension .resources and placed in a folder in the Resource Definition Package. The name of the folder should be the
<a href="http://msdn.microsoft.com/en-us/library/ms533052%28v=VS.85%29.aspx"><span style="color:#0066dd;">language code</span></a> for the appropriate language. For example, for United States English, the localization folder should be named EN-US. There should
 be only a single file in each localization folder.</p>
<h1><a name="Resource_Definition_File"></a>Resource Definition File</h1>
<p>A Resource Definition File (RESDEF) is a versioned template that describes how a resource should be provisioned. For a Virtual Machine resource, it includes such information as the following:</p>
<ul>
<li>Virtual Machine size </li><li>Operating System Settings </li><li>Operating System Image </li><li>Allowable Extensions </li><li>Resource Extension References </li></ul>
<p>The contents of the Resource Definition File are illustrated in the following diagram and discussed in detail in the following sections.</p>
<p><a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/8688.VMRoleAuthGuide04.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/8688.VMRoleAuthGuide04.png" style="border-width:0px;border-style:solid;width:412px;height:309px;" /></a></p>
<h2><a name="Identification"></a>Identification</h2>
<p>Each Resource Definition must be uniquely identified by the following three properties. No two definitions may have the same values for these properties.</p>
<ul>
<li>Name </li><li>Publisher </li><li>Version </li></ul>
<p>Virtual Machine&nbsp;Roles support versioning so that the newer version of a template may be installed to supersede the previous version. Note that the only Type currently allowed is MicrosoftCompute/VMRole which specifies a Virtual Machine Role. Other types
 may be supported in future versions.</p>
<h3><a name="Example"></a>Example</h3>
<p>The following JSON example shows the Identification section for a RESDEF called IIS_Demo_3.</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;Name&quot;: &quot;IIS_Demo_3&quot;,</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">&quot;Publisher&quot;: &quot;Microsoft&quot;,</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;SchemaVersion&quot;: &quot;1.0.0.0&quot;,</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">&quot;Version&quot;: &quot;1.0.0.0&quot;,</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;Type&quot;: &quot;MicrosoftCompute/VMRole&quot;,</code></span></div>
</div>
<p>&nbsp;</p>
<h2><a name="Resource_Parameters"></a>Resource Parameters</h2>
<p>Because a single Resource Definition can be used to provision multiple instances of a single resource, they can declare parameters which describe values that are used to configure the resource. Those parameters with values that should be provided by the
 tenant when they are provisioning a new&nbsp;Virtual Machine Role should also be included in the View Definition which describes the user interface for collecting these values.</p>
<h3><a name="Example"></a>Example</h3>
<p>The following JSON example shows the Resource Parameters for a sample Resource Definition. Note that the type for each parameter matches an entry in the table in the Parameters section above.</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;ResourceParameters&quot;: [</code></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleInitialInstanceCount&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&finition which describes the user interface for collecting these values.</p>
<h3><a name="Example"></a>Example</h3>
<p>The following JSON example shows the Resource Parameters for a sample Resource Definition. Note that the type for each parameter matches an entry in the table in the Parameters section above.</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;ResourceParameters&quot;: [</code></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div stylquot;: &quot;Number&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Initial number of VMs to provision in VMRole.&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleMinimumInstanceCount&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;Number&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Minimum number of VM instances in VMRole.&quot;</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleMaximumInstanceCount&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;Int&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Maximum number of VM instances in VMRole.&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleUpgradeDomainCount&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;Int&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Number of upgrade domains.&quot;</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleVMSize&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Platform-specific VM size (for Blue: XS | S | M | L | XL)&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleOSVHDImageNameVersion&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Identifier of the virtual hard disk image to use in the form ge-name&gt;:&lt;</code><code style="color:#006699;font-weight:bold;">version</code><code style="color:#000000;">&gt;.
 Version is in format &lt;</code><code style="color:#006699;font-weight:bold;">major</code><code style="color:#000000;">&gt;.&lt;</code><code style="color:#006699;font-weight:bold;">minor</code><code style="color:#000000;">&gt;.&lt;</code><code style="color:#006699;font-weight:bold;">build</code><code style="color:#000000;">&gt;.&lt;</code><code style="color:#006699;font-weight:bold;">revision</code><code style="color:#000000;">&gt;&quot;</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="backgron></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&und-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleDataVHDNameVersion01&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Identifier of the virtual hard disk image to use in the form &lt;</code><code style="color:#006699;font-weight:bold;">image-name</code><code style="color:#000000;">&gt;:&lt;</code><code style="color:#006699;font-weight:bold;">version</code><code style="color:#000000;">&gt;.
 Version is in format &lt;</code><code style="color:#006699;font-weight:bold;">major</code><code style="color:#000000;">&gt;.&lt;</code><code style="color:#006699;font-weight:bold;">minor</code><code style="color:#000000;">&gt;.&lt;</code><code style="color:#006699;font-weight:bold;">build</code><code style="color:#000000;">&gt;.&lt;</code><code style="color:#006699;font-weight:bold;">revision</code><code style="color:#000000;">&gt;&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleNetworkRef&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Reference to network name to attach the NIC to.&quot;</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleNetworkIPAddressAllocationMethod&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Static or Dynamic&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleNetworkIPAddressType&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;IPv4 or IPv6&quot;</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleComputerNamePattern&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Pattern for computer name. # characters indicate sequentially-increasing numbers. * indicates randomly-generated
 names.&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleAdminCredential&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Local administrator credential in form &lt;</code><code style="color:#006699;font-weight:bold;">username</code><code style="color:#000000;">&gt;:&lt;</code><code style="color:#006699;font-weight:bold;">password</code><code style="color:#000000;">&gt;&quot;</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleTimezone&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Time zone. Allowed values are specified from tzutil.exe output (same as in current Azure specification
<a href="http://msdn.microsoft.com/en-us/library/windowsazure/jj157186.aspx"><span style="color:#0066dd;">http://msdn.microsoft.com/en-us/library/windowsazure/jj157186.aspx</span></a>)&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;VMRoleWindowsWorkGroupName&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;Name of workgroup. Use either WorkgroupName or DomainJoin but not both.&quot;</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;IISPort&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;IISPort desc.&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">],</code></span></div>
</div>
<p>&nbsp;</p>
<h2><a name="Resource_Extension_References"></a>Resource Extension References</h2>
<p>Each Resource Definition must declare a reference to any Resource Extension that it will work with. Since the same extension can be declared more than once, a Reference Name is required for each to uniquely identify it.
<br />
<br />
Each Resource Extension Reference must define values for parameters that are defined by the Resource Extension.&nbsp; Parametot;Type&quot;: &quot;String&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Description&quot;: &quot;IISPort desc.&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">],</code></span></div>
</ers from the Resource Definition can be used for Resource Extension Parameters by using the Param syntax.&nbsp; If an explicit value is used,
 then it must be JavaScript encoded with special characters preceded by a \ character.&nbsp; For example, if a username were specified in the form domain\user, it would be entered in the Resource Definition File as domain\\user.</p>
<h3><a name="Example"></a>Example</h3>
<p>The following JSON example shows the Resource Extension References for a sample Resource Definition. In this example, the Resource Extension is called IIS_Demo_2 and requires the value for a parameter called Port. The value from the Resource Parameter with
 the named IISPort is used for the value of the Resource Extension Parameter.</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;ResourceExtensionReferences&quot;: [</code></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;ReferenceName&quot;: &quot;IIS_Demo_2&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;IIS_Demo_2&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Version&quot;: &quot;1.0.0.0&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Publisher&quot;: &quot;Microsoft&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;ResourceExtensionParameterValues&quot; : &#39;{ &quot;Port&quot; : &quot;[Param.IISPort]&quot;}&#39;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">],</code></span></div>
</div>
<p>&nbsp;</p>
<h2><a name="Intrinsic_Settings"></a>Intrinsic Settings</h2>
<p>The Intrinsic Settings section of the Resource Definition File includes all of the settings for the virtual machines that are created by the&nbsp;Virtual Machine Role. This includes such information as the number of instances that will be created, the hardware
 profile,<br />
the virtual hard disks, network configuration, and configuration of the operating system. Most of these setting use parameters so that they can be provided by the tenant when they are provisioning a new&nbsp;Virtual Machine Role.</p>
<h3><a name="Scale-Out_Settings"></a>Scale-Out Settings</h3>
<p>The Scale-Out Settings section of the Resource Definition File defines the initial number of instances of the virtual machine described by the Resource Definition File and how many instances are allowed.</p>
<p>The following JSON example shows the Scale-Out settings for a sample Resource Definition. In this example, Resource Parameter values are used so that the tenant can select the number of instances when they provision a new instance of the&nbsp;Virtual Machine
 Role.</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;ScaleOutSettings&quot;: {</code></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;InitialInstanceCount&quot;: &quot;[Param.VMRoleInitialInstanceCount]&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;MaximumInstanceCount&quot;: &quot;[Param.VMRoleMaximumInstanceCount]&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;MinimumInstanceCount&quot;: &quot;[Param.VMRoleMinimumInstanceCount]&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;UpgradeDomainCount&quot;: &quot;[Param.VMRoleUpgradeDomainCount]&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">},</code></span></div>
</div>
<p>&nbsp;</p>
<h3><a name="Hardware_Profile"></a>Hardware Profile</h3>
<p>The Hardware Profile section of the Resource Definition file specifies the size of virtual machine that will be deployed for instances of the Virtual Machine Role. A parameter can be used so that the size can be specified by the tenant when they provision
 a new Virtual Machine Role. In this case, you would create a parameter in the View Definition file with a parameter type of VMSize. This provides a dropdown list of the different sizes that are available.</p>
<p>The following JSON example shows the Hardware Profile settings for a sample Resource Definition. In this example, Resource Parameter values are used so that the tenant can specify the size of the virtual machine when they provision a new instance of the
 Virtual Machine Role. Assuming a parameter type of VMSize was used for this parameter, they could select from a drop down list of valid virtual machine sizes.</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="cdware Profile</h3>
<p>The Hardware Profile section of the Resource Definition file specifies the size of virtual machine that will be deployed for instances of the Virtual Machine Rolor:#000000;">&quot;HardwareProfile&quot;: {</code></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;VMSize&quot;: &quot;[Param.VMRoleVMSize]&quot;</code></span></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">},</code></span></div>
</div>
<p>&nbsp;</p>
<h3><a name="Storage_Profile"></a>Storage Profile</h3>
<p>The Storage Profile section of the Resource Definition File describes the operating system and data VHDs that are used to provision the virtual machine. When a virtual machine is imaged, a copy of the source VHD is copied to the VM host.</p>
<p>The storage profile declares the VHD by specifying a name and version of the VHD object. A parameter can be used so that the VHD can be specified by the tenant when they provision a new&nbsp;Virtual Machine Role. In this case, you would create a parameter in
 the VIEWDEF with<br />
a type of OSVirtualHardDisk. This provides a dropdown list of all VHDs in the VMM Library that have the tags specified in the Resource Requirements section of the RESEXT.</p>
<p>The following JSON example shows the Storage Profile settings for a sample Resource Definition File. In this example, Resource Parameters values are used so that the tenant can select the specific OS and data VHDs when they provision a new instance of the&nbsp;Virtual
 Machine Role. Assuming a parameter type of OSVirtualHardDisk was used for either of these disks in the View Definition File, they could select from a drop down list of valid disks instead of typing in the name.</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;StorageProfile&quot;: {</code></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;OSVirtualHardDiskImage&quot;: &quot;[Param.VMRoleOSVHDImageNameVersion]&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;DataVirtualHardDisks&quot;: [</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;DataVirtualHardDiskImage&quot;: &quot;[Param.VMRoleDataVHDNameVersion01]&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Lun&quot;: &quot;1&quot;</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">]</code></span></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">},</code></span></div>
</div>
<p>&nbsp;</p>
<h3><a name="Network_Profile"></a>Network Profile</h3>
<p>The Network Profile section of the Resource Definition File specifies one or more virtual network adapters that should be attached to the VM. It specifies what network each adapter should be attached to as well as an array with the IP addresses. The IP addresses
 can be configured for the appropriate protocol as well as whether its allocation method is static or dynamic.&nbsp;
</p>
<p>Each IP address can be associated with zero or one Load Balancer Configuration that describe the requirements for the load balancers needed for that IP address. The Load Balancer configuration specifies the required front end network, probe, and port configuration.&nbsp;
 Note that in the current release, the front end and back end ports must be identical.</p>
<p>The following JSON example shows the Network Profile settings for a sample Resource Definition File. In this example, Resource Parameters values are used so that the tenant can specify the IP configuration when they provision a new instance of the VM Role.</p>
<p>&nbsp;</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;NetworkProfile&quot;: {</code></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;NetworkAdapters&quot;: [</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot;: &quot;Nic1&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;NetworkRef&quot;: &quot;[Param.VMRoleNetworkRef]&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span>&nbsp;</span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;IPAddresses&quot;: [</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;AllocationMethod&quot;: &quot;[Param.VMRoleNetworkIPAddressAllocationMethod]&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Type&quot;: &quot;[Param.VMRoleNetworkIPAddressType]&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;ConfigurationName&quot;: &quot;IPV4Config&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;LoadBalancerConfigurations&quot; : [</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;ConfigurationName&quot; : &quot;MyLBConfiguration&quot;</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;FrontEndNetwork&quot; : &quot;internet&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;PortConfig&quot; : {</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Name&quot; : &quot;MyPortConfig&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Protocol&quot; : &quot;HTTP&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;FrontEndPort&quot; : 80,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;BackEndPort&quot; : 80</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">},</code></span></span></div>
<div style="background-color:#f8f8f8;"><span>&nbsp;</span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Probe&quot;: {</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;MaxRetryCount&quot; : 5,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Port&quot; : 8080,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;ProbeIntervalInSeconds&quot; : 20,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;Protocol&quot; : &quot;HTTP&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;RequestPath&quot; : &quot;<a href="http://myrequest/"><span style="color:#0066dd;">http://myrequest</span></a>&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}
</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}
</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">]&nbsp;
</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">], //IPAddresses</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">]</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">},</code></span></div>
</div>
</code></span></div>
</div>
<p>&nbsp;</p>
<h3><a name="Operating_System_Profile"></a>Operating System Profile</h3>
<p>The Operating System Profile specifies configuration of the operating system that is performed after the OS VHD is copied as part of provisioning the new&nbsp;Virtual Machine Role and before any applications are installed by the Resource Extension.</p>
<p>The Operating System Profile is not required. If it is not included, then the configuration of the operating system on the OS VHD is used without modification.</p>
<p>The following JSON example shows the Operating System Profile settings for a sample Resource Definition File. In this example, Resource Parameters values are used so that the tenant can specify the settings when they provision a new instance of the VM Role.</p>
<p>&nbsp;</p>
<div class="reCodeBlock">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&quot;OperatingSystemProfile&quot;: {</code></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;AdminCredential&quot;: &quot;[Param.VMRoleAdminCredential]&quot;,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;ComputerNamePattern&quot;: &quot;[Param.VMRoleComputerNamePattern]&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;LinuxOperatingSystemProfile&quot;: null,</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;TimeZone&quot;: &quot;[Param.VMRoleTimezone]&quot;,</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;WindowsOperatingSystemProfile&quot;: {</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">&quot;WorkgroupName&quot;: &quot;[Param.VMRoleWindowsWorkGroupName]&quot;</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">}</code></span></div>
</div>
<p>&nbsp;</p>
<h1><a name="See_Also"></a>See Also</h1>
<p><a href="http://social.technet.microsoft.com/wiki/contents/articles/18274.system-center-2012-r2-virtual-machine-role-authoring-guide-resource-extension-package.aspx">Resource Extension Package</a><br />
<a href="http://social.technet.microsoft.com/wiki/contents/articles/18275.system-center-2012-r2-virtual-machine-role-authoring-guide-parameters.aspx">Parameters</a><br />
<a href="http://social.technet.microsoft.com/wiki/contents/articles/18276.system-center-2012-r2-virtual-machine-role-authoring-guide-vhd-tags.aspx">VHD Tags</a><br />
<a href="http://social.technet.microsoft.com/wiki/contents/articles/18278.system-center-2012-r2-virtual-machine-role-authoring-guide-installing-a-virtual-machine-role.aspx#Create_and_Configure_the_VHD">Installing a Virtual Machine Role</a><br />
<a href="http://download.microsoft.com/download/0/9/C/09C183EB-053F-40BF-AF8D-4E59A4EE0CA4/WS2012WebServer-VMRole-Pkg.zip"><span style="color:#0066dd;">Sample Virtual Machine Role Packages</span></a><br />
<a href="http://msdnstage.redmond.corp.microsoft.com/en-us/library/dn249758.aspx"><span style="color:#0066dd;">Virtual Machine Role Resource JSON Reference</span></a></p>

</div>
    
    
