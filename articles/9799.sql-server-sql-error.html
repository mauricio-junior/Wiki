---
layout: default
title: SQL-Server SQL Error - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

We have 2 tables (table1 and table2):<br />
<br />
<ul>
<li>table1 (id, name, description,<strong> table2_id</strong>, ...) </li></ul>
<ul>
<li>table2 (id, name, description, <strong>type</strong>,&nbsp; ...) </li></ul>
(there is no constraints between 2 tables)<br />
Here is a sql sample that make something not expected:<br />
<br />
<ul>
<li>delete from table1 where id in (select id from table1 where table2_id in (select
<strong>table_id</strong> from table2 where <strong>type </strong>in (2)));&nbsp; </li></ul>
<p>In table2 there isn&#39;t a column called <strong>table_id</strong>. This sql should not be executed, because we have an error in the sql.<br />
If you execute this sql, it will delete all from table1.&nbsp; <br />
<br />
<em><strong>(123 row(s) affected)</strong></em><br /ntent">

<div class="full-post-header"></div>
<div class="full-post">
    <h1 class="post-name">SQL-Server SQL Error</h1>
    

    <div class="post-content user-defined-markup">

We have 2 tables (table1 and table2):<br />
<br />
<ul>
<li>table1 (id, name, description,<strong> table2_id</strong>, ...) </li></ul>
<ul>
<li>table2 (id, name, description, <strong>type</strong>,&nbsp; ...) </li></ul>
(there is no constraints between 2 tables)<br />
Here is a sql sample that make something not expected:<br />
<br />
<ul>
<li>delete from table1 where id in (select id from table1 where table2_id in (select
<strong>tab>
<br />
Why it does delete it ? For me it is a bug in sqlserver.<br />
<br />
If you execute the last sql only (select <strong>table_id</strong> from table2 where
<strong>type </strong>in (2)), you will have the following error:<br />
<em><br />
<strong>Msg 207, Level 16, State 1, Line 1<br />
Invalid column name &#39;table_id&#39;.</strong></em> <br />
<br />
</p>

</div>
    
    