---
layout: default
title: SharePoint&#58; Provide Autologin Feature or Creating Custom Claim and Form Based Token - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

In order to support              History
                    </a>
            </li>
        
</ul>
<div class="navigation-list-footer"></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom fiji-content-fragment-bottom"><div class="r1 fiji-r1"></div><div class="r2 autologin feature in Sharepoint, you need to create FBA token explicity for that user id.<br />
You just need userid to create the claim, no password.
<p>&nbsp;</p>
<div class="reCodeBlock">
<div><span><code>SecurityToken tk =
</code><code style="font-weight:bold;">null</code><code>;</code></span></div>
<div><span><code>&nbsp;</code><span>&nbsp;</span></span></div>
<div><span>&nbsp;</span></div>
<div><span><code style="font-weight:bold;">string</code>
<code>url = HttpContext.Current.Request.Url.Scheme &#43; </code>
<code style="color:blue;">&quot;://&quot;</code> <code>&#43; HttpContext.Current.Request.Url.Authority;</code></span></div>
<div><span><code>&nbsp;</code><span>&nbsp;</span></span></div>
<div><span>&nbsp;</span></div>
<div><span><code>//Create claims based authentication token</code></span></div>
<div><span>&nbsp;</span></div>
<div><span><code>tk = SPSecurityContext.SecurityTokenForFormsAuthentication(</code><code style="font-weight:bold;">new</code>
<code>Uri(url), membershipProvider, roleProvider, strUsername, String.Empty);</code></span></div>
<div><span><code>&nbsp;</code><span>&nbsp;</span></span></div>
<div><span><code style="font-weight:bold;">if</code>
<code>(tk != </code><code style="font-weight:bold;">null</code><code>)</code></span></div>
<div><span><code>&nbsp;</code><span>&nbsp;</span></span></div>
<div><span><code>{</code></span></div>
<div><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code>SPFederationAuthenticationModule fam = SPFederationAuthenticationModule.Current;</code></span></span></div>
<div><span><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code>fam.SetPrincipalAndWriteSessionToken(tk);</code></span></span></div>
<div><span><code>}</code></span></div>
</div>
You can read these articles for custom membership provider or role provider and FBA configuration.<br />
<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/gg317440(v=office.14).aspx">http://msdn.microsoft.com/en-us/library/gg317440(v=office.14).aspx</a>
</li><li><a href="http://msdn.microsoft.com/en-us/library/gg317440(v=office.14).aspx">http://msdn.microsoft.com/en-us/library/gg317440(v=office.14).aspx</a>
</li></ul>

</div>
    
    