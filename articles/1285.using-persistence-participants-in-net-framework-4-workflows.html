---
layout: default
title: Using Persistence Participants in .NET Framework 4 Workflows - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<p>When authoring workflow applications using .NET Framework 3.0 and 3.5, developers could use the<a href="http://msdn.microsoft.com/en-us/library/system.workflow.runtime.ipendingwork.aspx"> IPendingWork</a> interface to perform transactional work as a part
 of the persistence&nbsp;transaction of the workflow. In <div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div></div></div>
<div class="content-fragment page no-wrapper" id="fragment-6615">
<div class="conte.NET Framework 4 workflows, there are two classes that can be used to achieve similar functionality:
<a href="http://msdn.microsoft.com/en-us/library/system.activities.persistence.persistenceparticipant.aspx">
PersistenceParticipant</a> and <a href="http://msdn.microsoft.com/en-us/library/system.activities.persistence.persistenceioparticipant.aspx">
PersistenceIOParticipant</a>. This Wiki topic provides a brief overview of these classes and links to samples that demonstrate how to use them.</p>
<h2><a name="Using_Persistence_Participants"></a>Using Persistence Participants</h2>
<p>A persistence participant can participate in a persistence operation (Save or Load) triggered by an application host. The .NET Framework version 4 ships with two abstract classes,
<a href="http://msdn.microsoft.com/en-us/library/system.activities.persistence.persistenceparticipant.aspx">
PersistenceParticipant</a> and <a href="http://msdn.microsoft.com/en-us/library/system.activities.persistence.persistenceioparticipant.aspx">
PersistenceIOParticipant</a>, which you can use to create a persistence participant. A persistence participant derives from one of these classes, implements the methods of interest, and then adds an instance of the class to the WorkflowExtensions collection
 on the workflow host (WorkflowApplication or WorkflowServiceHost). The application host may look for such workflow extensions when persisting a workflow instance and invoke appropriate methods on the persistence participants at appropriate times.
<a href="http://msdn.microsoft.com/en-us/library/system.activities.persistence.persistenceioparticipant.aspx">
PersistenceIOParticipant</a> has the same functionality as <a href="http://msdn.microsoft.com/en-us/library/system.activities.persistence.persistenceparticipant.aspx">
PersistenceParticipant</a> and also provides methods to perform input and output operations in addition to persistence.</p>
<p>For more information about persistence participants, see <a href="http://msdn.microsoft.com/en-us/library/ee473464.aspx">
Persistence Participants</a>. To see a sample <a href="http://msdn.microsoft.com/en-us/library/system.activities.persistence.persistenceparticipant.aspx">
PersistenceParticipant</a>, see the <a href="http://msdn.microsoft.com/en-us/library/ee622979.aspx">
SQLStoreExtensibility</a> and <a href="http://msdn.microsoft.com/en-us/library/dd807514.aspx">
Corporate Purchase Process</a>&nbsp;samples. To see a sample <a href="http://msdn.microsoft.com/en-us/library/system.activities.persistence.persistenceioparticipant.aspx">
PersistenceIOParticipant</a>, see the <a href="http://msdn.microsoft.com/en-us/library/ee622985.aspx">
Hiring Process</a> sample.</p>

</div>
    
    