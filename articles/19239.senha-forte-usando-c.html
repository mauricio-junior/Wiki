---
layout: default
title: Senha forte usando C# - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/2630.como_2D00_criar_2D00_senha_2D00_segura.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/300x0/__key/communityserver-wikis-components-files/00-00-00-00-05/2630.como_2D00_criar_2D00_senha_2D00_segura.png" style="border-width:0px;border-style:solid;" /></a><br />
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Olá pessoal, hoje eu vou falar e mostrar como fazer senhas fortes usando a linguagem C#. Antes de começar a mostrar e explicar o código, é importante entender porque precisamos de senhas fortes e a atualização periódica.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Como arquiteto de software e professor de faculdade, os profissionais estão se formando e entrando no mercado de trabalho sem dar importância no uso de criptografia de dados, senhas criptografadas e segurança da informação. Isso me preocupa
 porque qualquer hacker que tente entrar na aplicação, site ou sistema construído, usando a forma mais básica de invasão, eles conseguem entrar.
</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Já falei em outros artigos a importância de criptografar dados, criptografar banco de dados e senhas de acesso por exemplo: na string de conexão com o banco de dados e dados dos usuários. Os dados pessoais não podem estar expostos facilmente.
 Os dados pessoais são tão importantes quanto o sistema, na minha opinião mais importantes do que o sistema em si (opinião pessoal). Nenhum programador ou analista de sistemas que sai da faculdade importa com a segurança dos dados e a segurança no momento de
 programar. Só quer ver o software funcionando e nada mais.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Além de criptografar dados, é necessário fazer com que o usuário digite senhas difícieis, senhas com letras, números, caracteres especiais e mais. Para isso, os programadores precisam ajudar os &nbsp;usuários que usam o software, ajudar no sentido
 de cadastro, travamento de senhas fáceis e tudo mais. O software veio para facilitar a vida do usuário e não complicar, mas o grande problema são os hackers ou os programas que os hackers fazem. Eles utilizam métodos para forçar a senha usando as mais óbvias
 como 12345 e outras. O software não pode deixar que isso aconteça, deve travar todo tipo de solicitação fácil de senha.</p>
<p style="text-indent:35.4pt;">O que vou mostrar aqui é um passo a passo usando C# e o primeiro passo é verificar se a senha está entre 6 e 12 caracteres. Lembro que é um exemplo apenas. Listagem 1.</p>
<p>Listagem 1 – Verifica a quantidade de caracteres existentes na senha digitada.</p>
<p>if (senha.Length &lt; 6 || senha.Length &gt; 12)</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A senha digitada deve ter entre 6 e 12 caracteres, isto é, o mínimo são 6 e o máximo são 12 caracteres. A variável senha é do tipo string.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; O segundo passo é verificar se existe pelo menos um número digitado, nesse caso, é importante ter pelo menos um número digitado na senha. Veja a listagem 2.</p>
<p>Listagem 2 – Verifica se existe pelo menos um número na senha.</p>
<p><span>if (!senha.Any(c =&gt; char.IsDigit(c)))</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>O terceiro passo é verificar se o usuário digitou pelo menos uma letra maiúscula, no nosso caso, quanto mais misturar letras, números, maiúsculos e minúsculos melhor. A listagem 3 mostra se existe letras maiúsculas.</p>
<p>Listagem 3 – Verifica se existe pelo menos uma letra maiúscula.</p>
<p>if (!senha.Any(c =&gt; char.IsUpper(c)))</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; O quarto passso é simples como o terceiro, só verifica se existe algum valor com caracter minúsculo. É necessário ter pelo menos 1 minúsculo. Veja a listagem 4.</p>
<p>Listagem 4 – Verifica se existe pelo menos um caracter minúsculo.</p>
<p><span>if (!senha.Any(c =&gt; char.IsLower(c)))</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>O quinto passo é interessante. Hoje existem pessoas que estão colocando caracteres especiais nas senhas, como #, $, %, espaço e tudo mais. Esses caracteres podem ser verificados se você quiser, basta verificar a existência de
 pelo menos um caracter especial, veja a listagem 5.</p>
<p>Listagem 5 – Verifica se existe algum caracter especial.</p>
<p><span>if (!senha.Any(c =&gt; char.IsSymbol(c)))</span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Existem sistemas que não permitem caracteres especiais, pra isso você precisa verificar se o que foi digitado não existe caracter especial. Se existir algum caracter especial, o sistema indica retorna ao usuário. Esse código é simples também,
 veja a listagem 6.</p>
<p>Listagem 6 – Verifica se não existe algum caracter especial.</p>
<p><span>if (!(senha.All(c =&gt; char.IsLetter(c) || char.IsDigit(c))))</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Note que a listagem 6 verifica se a senha existe além de letra e número, outro caracter. Não existindo só letra e número, o sistema solicita nova senha ao usuário explicando que não pode colocar caracter especial. O caracter
 espaço não é aceito.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Já desenvolvi sistemas que por regra não podem repetir mais de duas letras iguais na senha. Isso faz com que a mesma letra repita apenas duas vezes, se tiver mais do que duas o sistema pede para o usuário alterar. Nesse caso, é necessário
 fazer uma laço e verificar se tem a mesma letra repetida mais de duas vezes. Veja a listagem 7.</p>
<p>Listagem 7 – Verifica se existe mais que dois caracteres repetidos.</p>
<p>&nbsp;&nbsp;&nbsp; var contadorRepetido = 0;</p>
<p>&nbsp;&nbsp;&nbsp; var ultimoCaracter = &#39;\0&#39;;</p>
<p><span>&nbsp;&nbsp;&nbsp; foreach(var c in senha)k</span></p>
<p><span>&nbsp;&nbsp;&nbsp; {</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (c == </span>ultimoCaracter<span>)</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contadorRepetido&#43;&#43;;</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contadorRepetido = 0;</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (contadorRepetido == 2)</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ultimoCaracter <span>= c;</span></p>
<p><span>&nbsp;&nbsp;&nbsp; </span>}</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Tudo que foi falado aqui serve para que você, utilizar no seu software, sistema ou site. Foi verificado todos os caracteres para que a senha do usuário fique forte e ao mesmo tempo difícil de descobrir por um hacker. É lógico que, com uma
 senha difícil pode ser que o usuário esqueça facilmente. É bom criar um envio de senha por e-mail ou celular, assim fica simples no caso de esquecimento.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A minha dica é: coloque todas essas verificações dentro de um método do tipo estático, com parâmetro de entrada do tipo string e retorno Boolean. A listagem 8 mostra um exemplo.</p>
<p>Listagem 8 – Método completo</p>
<p><span>public static Boolean verificaSenhaForte(string senha){</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (senha.Length &lt; 6 || senha.Length &gt; 12)</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!senha.Any(c =&gt; char.IsDigit(c)))</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!senha.Any(c =&gt; char.IsUpper(c)))</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!senha.Any(c =&gt; char.IsLower(c)))</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (!senha.Any(c =&gt; char.IsSymbol(c)))</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
<p><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&nbsp;&nbsp;&nbsp; var contadorRepetido = 0;</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp; var ultimoCaracter = &#39;\0&#39;;</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp; foreach(var c in senha)k</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp; {</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (c == ultimoCaracter)</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contadorRepetido&#43;&#43;;</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contadorRepetido = 0;</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (contadorRepetido == 2)</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return false;</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ultimoCaracter = c;</p>
<p style="text-indent:35.4pt;">&nbsp;&nbsp;&nbsp; }</p>
<p style="text-indent:35.4pt;">return true; </p>
<p>}</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Espero que tenha gostado de tudo que foi explicado aqui. Foi um bom aprendizado, aproveite o que aprendeu e coloque em seu software para assegurar que usuários usem senhas difícieis para os hackers.</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Qualquer dúvida pode entrar em contato pelo site <a href="http://www.mauriciojunior.org/">
www.mauriciojunior.org</a>.&nbsp;</p>
<br />

</div>
    
    