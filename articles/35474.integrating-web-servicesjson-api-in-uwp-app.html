---
layout: default
title: 'Integrating Web Services/JSON API in UWP App - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">




<div style="text-align:justify;"><div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Introduction">Introduction</a></li><li class="hierarchy-item"><a href="#Steps">Steps</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Install_Newtonsoft_Json">Install Newtonsoft.Json</a></li><li class="hierarchy-item"><a href="#Creating_JSON_Classes">Creating JSON Classes</a></li><li class="hierarchy-item"><a href="#Parsing_JSON">Parsing JSON</a></li></ul><div class="hierarchy-list-footer"> </div></li><li class="hierarchy-item"><a href="#Conclusion">Conclusion</a></li></ul><div class="hierarchy-list-footer"> </div></div><br />
</div>
<br />
<h1 style="text-align:justify;"><a name="Introduction"></a>Introduction</h1>
<div style="text-align:justify;">We&#39;ll simply discuss how to integrate JSON APIs in our UWP Applications. JSON stands for
<strong>JavaScript Object Notation</strong> and is a famous light-weight format for data interchange. It is being highly used in applications nowadays.<br />
</div>
<br />
<div style="text-align:justify;">JSON stores data in a <strong>Key-Value</strong> format. For example:<br />
</div>
<br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;text-align:justify;">
<div style="background-color:#ffffff;"><span><code style="color:#006699;font-weight:bold;">var</code>
<code style="color:#000000;">Person = {</code><code style="color:blue;">&quot;name&quot;</code><code style="color:#000000;">:
</code><code style="color:blue;">&quot;Hussain&quot;</code><code style="color:#000000;">, </code>
<code style="color:blue;">&quot;age&quot;</code><code style="color:#000000;">: 22};</code></span></div>
</div>
<br />
<div style="text-align:justify;">Here &quot;<strong>name</strong>&quot; &amp; &quot;<strong>age</strong>&quot; are keys while their values are &quot;<strong>Hussain</strong>&quot; &amp; &quot;<strong>22</strong>&quot; respectively. Hope you&#39;ve got the idea of what JSON is. You can read more about it
<a href="http://www.json.org/">here</a>.<br />
</div>
<br />
<div style="text-align:justify;">Before moving on, weI&#39;ll assume that you&#39;ve installed the latest version of
<strong>Visual Studio</strong> and have basic knowledge of UWP Application Development.<br />
</div>
<br />
<h1 style="text-align:justify;"><a name="Steps"></a>Steps</h1>
<h2 style="text-align:justify;"><a name="Install_Newtonsoft_Json"></a>Install Newtonsoft.Json</h2>
<br />
<div style="text-align:justify;">After creating a new project, the first thing you need to do is install &quot;<strong>Newtonsoft.Json</strong>&quot; package from your NuGet Package Manager.<br />
</div>
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/2553.Screenshot-_2800_246_2900_.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x400/__key/communityserver-wikis-components-files/00-00-00-00-05/2553.Screenshot-_2800_246_2900_.png" style="border-width:0px;border-style:solid;" /></a><br />
<br />
<h2 style="text-align:justify;"><a name="Creating_JSON_Classes"></a>Creating JSON Classes</h2>
<br />
<div style="text-align:justify;">We are using here a free weather API offered by <a href="http://openweathermap.org/api">
openweathermap.org</a>. When we open my <a href="http://api.openweathermap.org/data/2.5/weather/?q=Islamabad,pk&amp;APPID=853dbcea2a5b4eb495d21a3cef29d1af">
API</a> in a browser, we get to see this stuff which is in JSON format.<br />
</div>
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/2500.Screenshot-_2800_247_2900_.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x300/__key/communityserver-wikis-components-files/00-00-00-00-05/2500.Screenshot-_2800_247_2900_.png" style="border-width:0px;border-style:solid;" /></a><br />
<br />
<div style="text-align:justify;">Now follow the following steps carefully:<br />
</div>
<ul>
<li><strong>Copy</strong> your JSON data from browser </li><li>Go to your Visual Studio project and create the new class &quot;<strong>weatherData</strong>&quot;
</li><li><strong>Remove</strong> existing <strong>class</strong> from your <strong>weatherData.cs</strong> file
</li><li>Click on <strong>Edit</strong> &gt; <strong>Paste Special</strong> &gt; <strong>Paste JSON As Classes</strong>. This will convert and paste your JSON data as C# classes.
</li></ul>
<div style="text-align:justify;"><a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/3465.Screenshot-_2800_248_2900_.png"><span class="Apple-tab-span" style="white-space:pre;"></span><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/500x550/__key/communityserver-wikis-components-files/00-00-00-00-05/3465.Screenshot-_2800_248_2900_.png" style="border-width:0px;border-style:solid;" /></a><br />
<br />
Lastly, change the weather array to a list in your <strong>RootObject</strong> class (newly pasted JSON class).<br />
<br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#006699;font-weight:bold;">public</code>
<code style="color:#000000;">Weather[] weather {</code><code style="color:#006699;font-weight:bold;">get</code><code style="color:#000000;">;
</code><code style="color:#006699;font-weight:bold;">set</code><code style="color:#000000;">;}
</code><code style="color:#008200;">//old</code></span></div>
<div style="background-color:#f8f8f8;"><span>&nbsp;</span></div>
<div style="background-color:#ffffff;"><span><code style="color:#006699;font-weight:bold;">public</code>
<code style="color:#000000;">List&lt;Weather&gt; weather {</code><code style="color:#006699;font-weight:bold;">get</code><code style="color:#000000;">;
</code><code style="color:#006699;font-weight:bold;">set</code><code style="color:#000000;">;}
</code><code style="color:#008200;">//new</code></span></div>
</div>
<br />
</div>
<h2 style="text-align:justify;"><a name="Parsing_JSON"></a>Parsing JSON</h2>
<div style="text-align:justify;"><br />
Here we&#39;ll use the NuGet package that we installed in our first step. But before moving onto that, let&#39;s make a simple text block with which we&#39nt-weight:bold;">get</code><code style="color:#000000;">;
</code><code style="color:#006699;font-weight:bold;">set</code><code style="color:#000000;">;}
</code><code style="color:#008200;">//old</code></span></div>
<div style="background-color:#f8f8f8;"><span>&nbsp;</span></div>
<div style="background-color:#ffffff;"><span><code style="color:#006699;font-weight:bold;">public</code>
<code style="color:#000000;">List&lt;Weather&gt; weather {</code><code style="color:#006699;font-weight:bold;">get</code><code style="color:#000000;">;
</code><code style="color:#006699;font-weight:bold;">set</code><code;ll bind some data to display our weather. Put the following code in your
<strong>MainPage.xaml</strong> file.<br />
<br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">&lt;</code><code style="color:#006699;font-weight:bold;">TextBlock</code>
<code style="color:#808080;">FontSize</code><code style="color:#000000;">=</code><code style="color:blue;">&quot;50&quot;</code>
<code style="color:#808080;">Margin</code><code style="color:#000000;">=</code><code style="color:blue;">&quot;20&quot;</code><code style="color:#000000;">,
</code><code style="color:#808080;">x:Name</code><code style="color:#000000;">=</code><code style="color:blue;">&quot;temperature&quot;</code><code style="color:#000000;">/&gt;</code></span></div>
</div>
<br />
</div>
<div style="text-align:justify;">Now go to <strong>MainPage.xaml.cs</strong> file and paste following function there. You may have to add few
<strong>namespaces</strong> after that. You can do that by simply right clicking on the underlined code.<br />
</div>
<br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;text-align:justify;">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">async void getTemperature() {</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">string url = &quot;<a href="http://api.openweathermap.org/data/2.5/weather/?q=Islamabad">http://api.openweathermap.org/data/2.5/weather/?q=Islamabad</a>,pk&amp;APPID=853dbcea2a5b4eb495d21a3cef29d1af&quot;;</code></span></div>
<div style="background-color:#ffffff;"><span>&nbsp;</span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">HttpClient client = new HttpClient();</code></span></div>
<div style="background-color:#ffffff;"><span>&nbsp;</span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">string response = await client.GetStringAsync(url);</code></span></div>
<div style="background-color:#ffffff;"><span>&nbsp;</span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">var data = JsonConvert.DeserializeObject&lt;</code><code style="color:#006699;font-weight:bold;">RootObject</code><code style="color:#000000;">&gt;(response);</code></span></div>
<div style="background-color:#ffffff;"><span>&nbsp;</span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">temperature.Text = data.main.temp.ToString()&#43;&quot; &#39;F&quot;;</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">}</code></span></div>
</div>
<br />
<div style="text-align:justify;">Now, just call this function from your main method and you&#39;re good to go. On running the app, you&#39;ll get to see the temperature in Fahrenheit. If you want to add more stuff, focus on the last line of this method. As we bind
<strong>data.main.temp</strong> to the text block, you can similarly add <strong>
pressure(data.main.pressure)</strong>, <strong>humidity(data.main.pressure)</strong>, etc. in your app.<br />
</div>
<br />
<h1 style="text-align:justify;"><a name="Conclusion"></a>Conclusion</h1>
<div style="text-align:justify;">We&#39;ve created a very simple weather app by consuming a JSON API. This is a very easy approach and you can try this out many other freely available APIs. You can find some useful APIs
<a href="http://www.programmableweb.com/">here</a>.<br />
</div>
<br />
<div style="text-align:justify;">Have any confusion or suggestion? Please let us know in comments.
<br />
</div>

</div>
    
    
