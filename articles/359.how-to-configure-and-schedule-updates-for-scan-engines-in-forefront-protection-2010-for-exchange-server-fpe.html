---
layout: default
title: How to Configure and Schedule Updates For Scan Engines in Forefront Protection 2010 for Exchange Server (FPE) - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<p class="alert"><span style="color:#000000;">For the official Microsoft topic on this subject, see
<a href="http://technet.microsoft.com/en-us/library/dd639399.aspx" title="configuring and scheduling updates">
<strong>Configuring and scheduling updates</strong></a> on the Microsoft TechNet Library.
</span></p>
<p class="alert"><span style="color:#000000;">*********************************************</span></p>
<p>In FPE, you can configure update settings that are specific for each scan engine, as well as global settings that apply to all engines.
</p>
<p>When you set a&nbsp;schedule to automatically check for new engine and definition update, you help protect your environment&nbsp;against new malware without having to check versions or manually update the files. It is recommended that you use the default schedule
 to update scan engines hourly. However, if you so choose, you can create your own schedules for performing updates.</p>
<div class="alert">
<p>Cloudmark downloads antispam updates directly from the cloud. This differs from the other scan engines, which receive updates directly from Microsoft. Cloudmark definition update checks are not configurable in the Forefront Protection 2010 for Exchange Server
 Administrator Console.</p>
</div>
<p>To configure and schedule updates for specific engines </p>
<ol class="ordered">
<li>
<p>In the Forefront Protection 2010 for Exchange Server Administrator Console, click
<strong>Policy Management</strong>, and then under <strong>Global Settings</strong>, click
<strong>Advanced Options</strong>. </p>
</li><li>
<p>In the <strong>Global Settings - Advanced Options </strong>pane, in the <strong>
Intelligent Engine Management</strong> section, using the <strong>Engine management</strong> drop-down list, select
<strong>Manual</strong>.</p>
</li><li>
<p>In the <strong>Update scheduling</strong> section, select the engine whose update settings you want to change.
</p>
<p>The engines are grouped together by protection technology, for example under <strong>
Antimalware</strong> and <strong>Antispam</strong>. If you select multiple engines, be sure that you want these engines to have the same update configuration.
</p>
</li><li>
<p>Click the <strong>Edit Selected Engines</strong> button.</p>
</li><li>
<p>In the <strong>Edit Selected Engines</strong> dialog box, configure the following settings:</p>
<ol class="ordered">
<li><strong>Enabled</strong>—If you selected only one engine, the <strong>Enabled</strong> check box appears. If checked (the default), updates are enabled for the selected engine. If cleared, updates are not downloaded. If you selected multiple engines, the<strong>
 Enable or disable engine updates </strong>drop-down list appears. If <strong>Enabled</strong> is selected (the default) from the drop-down list, updates are enabled for the selected engines. If
<strong>Disabled</strong> is selected, updates are not downloaded.<br />
<br />
<div class="alert">
<p>If you disable updates for an engine, it is recommended that you do not use that engine for scanning. When updates for an engine are disabled, the engine still continues to be used for scanning but as time passes and its definitions become out of date, its
 effectiveness diminishes. It is strongly recommended that you leave the default of having all engines enabled to update automatically.
</p>
</div>
</li><li><strong>Primary update path</strong>—Specify the primary update path that is used to download updates. The following is the default primary update path:
<a target="_blank" href="http://forefrontdl.microsoft.com/server/scanengineupdate" id="ctl00_MTCS_main_ctl03">
<span style="color:#0033cc;">http://forefrontdl.microsoft.com/server/scanengineupdate</span></a>
<br />
<br />
If you would prefer to use Universal Naming Convention (UNC) updating by means of a redistribution server, see
<a href="http://technet.microsoft.com/en-us/library/dd639365.aspx" id="ctl00_MTCS_main_ctl04">
<span style="color:#0033cc;">Distributing updates by using UNC updating</span></a>.<br />
<br />
<div class="alert">
<p>Unicode update paths are not supported. Also, if the primary update path uses the default Internet path (http://forefrontdl.microsoft.com/server/scanengineupdate) in order to update its antimalware and antispam engines, that URL must be allowed in your firewall
 settings, even if the mail server generally does not have Internet access. In order to have full protection, your engines need to be updated on a regular basis. If antispam protection is enabled, because the antispam engine definition updates are downloaded
 directly from the cloud, the following URLs (and any subdomains under them) and the use of http and https must also be allowed through the firewall:
</p>
<ul>
<li class="unordered">cdn-microupdates.cloudmark.com </li><li class="unordered">lvc.cloudmark.com </li><li class="unordered">tracks.cloudmark.com </li><li class="unordered">pki.cloudmark.com </li></ul>
</div>
</li><li><strong>Secondary update path</strong>—Optionally, specify the secondary update path. If the primary path fails for any reason, FPE uses the secondary path to download updates. There is no default secondary update path.
<br />
<br />
If you are using a redistribution server for the primary update path, you can enter the Microsoft download location in the secondary update path.&nbsp;Then, if updating by means of the redistribution server fails, the latest updates can still be retrieved from Microsoft
 by using the secondary update path.<br />
<br />
<div class="alert">
<p>Unicode update paths are not supported. Also, if the secondary update path uses the default Internet path (http://forefrontdl.microsoft.com/server/scanengineupdate) in order to update its antimalware and antispam engines, that URL must be allowed in your
 firewall settings, even if the mail server generally does not have Internet access. In order to have full protection, your engines need to be updated on a regular basis. If antispam protection is enabled, because the antispam engine definition updates are
 downloaded directly from the cloud, the following URLs (and any subdomains under them) and the use of http and https must also be allowed through the firewall:
</p>
<ul>
<li classthe primary update path, you can enter the Microsoft download location in the secondary update path.&nbsp;Then, if updating by means of the redistribution server fails, the latest updates can still be retrieved from Microsoft
 by using the secondary update path.="unordered">cdn-microupdates.cloudmark.com </li><li class="unordered">lvc.cloudmark.com </li><li class="unordered">tracks.cloudmark.com </li><li class="unordered">pki.cloudmark.com </li></ul>
</div>
</li><li><strong>Update start date and time</strong>—Specify the start date and start time at which to check for updates. If you subsequently select an
<strong>Update Frequency</strong> of <strong>Once</strong>, this is the only date and time that update-checking occurs; otherwise, this date and time represents the first time that update-checking occurs.
</li><li><strong>Update frequency</strong>—Specify how often the update occurs. You can select
<strong>Once</strong> (update only once, on the specified date and time), <strong>
Daily</strong> (update every day, at the same time), or <strong>Weekly</strong> (update each week, on the same day and time). It is recommended that you leave the default value of updating antimalware and antispam engines daily on an hourly basis. However,
 if you choose to change the default setting, it is recommended that you select <strong>
Daily</strong> and then set a repeat interval in order to update the engine at multiple times during the day. To set a repeat interval, select the
<strong>Check for updates every (hours: minutes)</strong> check box and then specify the hours and minutes using the input box. By default, antimalware and antispam updates are scheduled to occur on an hourly basis.
</li><li>Click <strong>Apply and Close</strong> to return to the <strong>Global Settings - Advanced Options
</strong>pane, where you can select another engine to be updated. </li></ol>
</li><li>
<p>After you are done making changes, click <strong>Save</strong>. </p>
</li></ol>
<div class="alert">
<p>If you are using Windows PowerShell commands to schedule updates, it is recommended that you do not schedule antispam updates with the antimalware updates.
</p>
</div>
<p>To configure global update settings for all engines </p>
<ol class="ordered">
<li>
<p>In the Forefront Protection 2010 for Exchange Server Administrator Console, click
<strong>Policy Management</strong>, and then under <strong>Global Settings</strong>, click
<strong>Engine Options</strong>. </p>
</li><li>
<p>In environments where the Exchange server must access the Internet through a proxy server you must configure FPE to retrieve engine and definition updates through that server by performing the following steps:</p>
<ol class="ordered">
<li>In the <strong>Global Settings - Engine Options </strong>pane, in the <strong>
Proxy Server</strong> section, select the <strong>Enable proxy server</strong> check box.
</li><li>Type the <strong>Proxy server</strong> (name or IP address) and <strong>Port</strong>.
</li><li>Optionally, if you need to specify a user name and password, click <strong>Edit Proxy Server Credentials</strong> in order to open a dialog box where you can specify your credentials for the proxy server. It is recommended that you use credentials with
 the minimum privileges. These should not be domain credentials, and the user should only be granted access to the proxy server.
</li></ol>
</li><li>
<p>To configure FPE to perform updates for enabled engines when the Microsoft Forefront Server Protection Controller Service starts, select
<strong>Update engines on sever startup</strong>. This setting is disabled by default.</p>
</li><li>
<p>To configure the maximum number of seconds that an engine will attempt to download an update before timing out, specify a value, in seconds, in the
<strong>Engine download timeout (seconds)</strong> field. If a timeout occurs, the download is retried at the next scheduled interval. The default value is 300 seconds. The minimum is 60 seconds and the maximum is 86400 seconds (24 hours).</p>
</li><li>
<p>Click <strong>Save</strong>. </p>
</li></ol>
<div class="alert"><span style="color:#ff0000;">For more information about the <strong>
UNC Authentication</strong> settings and the<strong> Enable as an update redistribution server</strong> check box, see
</span><a href="http://technet.microsoft.com/en-us/library/dd639365.aspx" id="ctl00_MTCS_main_ctl09"><span style="color:#ff0000;">Distributing updates by using UNC updating</span></a><span style="color:#ff0000;">.</span></div>
<div class="alert"><span style="color:#ff0000;"></span></div>
<div class="alert"><span style="color:#ff0000;"></span></div>

</div>
    
    