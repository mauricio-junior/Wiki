---
layout: default
title: 'Include WebAPI to an existent project with ASP.NET MVC - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">




<p style="margin:0in;font-family:Arial;font-size:11.25pt;color:#242729;"><span style="background:none 0% 0% repeat scroll white;"></span></p>
<hr />
<span style="background:none 0% 0% repeat scroll white;">If you have a new project and want to create a project with MVC and WebAPI together, you just need to></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div></div></div>
<div class="content-fragment page no-wrapper" id="fragment-6615">
<div class="content-fragment-inner fiji-content-fragment-inner"><div class="content-fragment-top fiji-content-fragment-top"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2 select the correct template on Visual Studio. But if you already have an MVC project and want to include
 a WebAPI on the same project, how can you do that?<br />
<span lang="pt" style="font-size:11.25pt;"><br />
1. Add reference to&nbsp;</span><span lang="en-US" style="font-size:9.75pt;background:none 0% 0% repeat scroll #eff0f1;font-family:Consolas;">System.Web.Http.WebHost</span><span lang="pt" style="font-size:11.25pt;">.<br />
</span></span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">2. Add&nbsp;</span><span lang="en-US" style="font-size:9.75pt;background:none 0% 0% repeat scroll #eff0f1;font-family:Consolas;">App_Start\WebApiConfig.cs</span><span lang="en-US" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">&nbsp;</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">(see
 code snippet below).<br />
</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">3. Import namespace&nbsp;</span><span lang="en-US" style="font-size:9.75pt;background:none 0% 0% repeat scroll #eff0f1;font-family:Consolas;">System.Web.Http</span><span lang="en-US" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">&nbsp;</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">in&nbsp;</span><span lang="en-US" style="font-size:9.75pt;background:none 0% 0% repeat scroll #eff0f1;font-family:Consolas;">Global.asax.cs</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">.<br />
</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">4. Call&nbsp;</span><span lang="en-US" style="font-size:9.75pt;background:none 0% 0% repeat scroll #eff0f1;font-family:Consolas;">WebApiConfig.Register(GlobalConfiguration.Configuration)</span><span lang="en-US" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">&nbsp;</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">in&nbsp;</span><span lang="en-US" style="font-size:9.75pt;background:none 0% 0% repeat scroll #eff0f1;font-family:Consolas;">MvcApplication.Application_Start()</span><span lang="en-US" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">&nbsp;</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">(in
 file&nbsp;</span><span lang="en-US" style="font-size:9.75pt;background:none 0% 0% repeat scroll #eff0f1;font-family:Consolas;">Global.asax.cs</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">),&nbsp;</span><span lang="en-US" style="font-style:italic;font-size:11.25pt;background:none 0% 0% repeat scroll white;">before</span><span lang="en-US" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">&nbsp;</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">registering
 the default Web Application route as that would otherwise take precedence.<br />
</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">5. Add a controller deriving from&nbsp;</span><span lang="en-US" style="font-size:9.75pt;background:none 0% 0% repeat scroll #eff0f1;font-family:Consolas;">System.Web.Http.ApiController</span><span lang="pt" style="font-size:11.25pt;background:none 0% 0% repeat scroll white;">.</span>
<p style="margin:0in;font-family:Arial;font-size:11.25pt;"><span lang="pt" style="background:none 0% 0% repeat scroll white;color:#242729;"><br />
You could then learn enough from&nbsp;</span><a href="http://www.asp.net/web-api/overview/getting-started-with-aspnet-web-api/tutorial-your-first-web-api"><span lang="en-US" style="background:none 0% 0% repeat scroll white;">the tutorial</span></a><span lang="en-US" style="background:none 0% 0% repeat scroll white;color:#242729;">&nbsp;</span><span lang="pt" style="background:none 0% 0% repeat scroll white;color:#242729;">(Your
 First ASP.NET Web API) to define the API controller.<br />
<br />
</span></p>
<p style="margin:0in;font-family:Arial;font-size:11.25pt;color:#242729;"><span style="background:none 0% 0% repeat scroll white;">App_Start\WebApiConfig.cs:<br />
<br />
</span></p>
<p lang="en-US" style="margin:0in;"><span style="background-color:#eff0f1;font-family:Consolas;font-size:13px;color:#303336;"></span></p>
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code style="color:#006699;font-weight:bold;">using</code>
<code style="color:#000000;">System.Web.Http;</code></span></div>
<div style="background-color:#f8f8f8;"><span style="font-family:Consolas;color:#303336;"><code style="color:#006699;font-weight:bold;">class</code>
<code style="color:#000000;">WebApiConfig</code></span></div>
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code style="color:#000000;">{</code></span></div>
<div style="background-color:#f8f8f8;"><span style="font-family:Consolas;color:#303336;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">public</code>
<code style="color:#006699;font-weight:bold;">static</code> <code style="color:#006699;font-weight:bold;">
void</code> <code style="color:#000000;">Register(HttpConfiguration configuration)</code></span></span></div>
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">{</code></span></span></div>
<div style="background-color:#f8f8f8;"><span style="font-family:Consolas;color:#303336;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">configuration.Routes.MapHttpRoute(</code><code style="color:blue;">&quot;API Default&quot;</code><code style="color:#000000;">,
</code><code style="color:blue;">&quot;api/{controller}/{id}&quot;</code><code style="color:#000000;">,</code></span></span></div>
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">new</code>
<code style="color:#000000;">{ id = RouteParameter.Optional });</code></span></span></div>
<div style="background-color:#f8f8f8;"><span style="font-family:Consolas;color:#303336;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">}</code></span></span></div>
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code style="color:#000000;">}</code></span></div>
</div>
<span style="font-size:11.25pt;background-color:white;font-family:Arial;color:#242729;"><br />
Global.asax.cs:</span><br />
<p lang="en-US" style="margin:0in;"><span style="background-color:#eff0f1;font-family:Consolas;font-size:13px;color:#303336;"><br />
</span></p>
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code style="color:#006699;font-weight:bold;">using</code>
<code style="color:#000000;">System.Web.Http;</code></span></div>
<div style="background-color:#f8f8f8;"><span style="font-family:Consolas;color:#303336;"><code style="color:#000000;">...</code></span></div>
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code style="color:#006699;font-weian></span></div>
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code style="color:#000000;">}</code></span></div>
</div>
<span style="font-size:11.25pt;background-color:white;font-family:Arial;color:#242729;"><br />
Global.asax.cs:</span><br />
<p lang="en-US" style="margin:0in;"><span style="background-cght:bold;">protected</code>
<code style="color:#006699;font-weight:bold;">void</code> <code style="color:#000000;">
Application_Start()</code></span></div>
<div style="background-color:#f8f8f8;"><span style="font-family:Consolas;color:#303336;"><code style="color:#000000;">{</code></span></div>
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">AreaRegistration.RegisterAllAreas();</code></span></span></div>
<div style="background-color:#f8f8f8;"><span style="font-family:Consolas;color:#303336;"><code style="color:#000000;">RegisterGlobalFilters(GlobalFilters.Filters);</code></span></div>
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">WebApiConfig.Register(GlobalConfiguration.Configuration);</code></span></span></div>
<div style="background-color:#f8f8f8;"><span style="font-family:Consolas;color:#303336;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">RegisterRoutes(RouteTable.Routes);</code></span></span></div>
<div style="background-color:#ffffff;"><span style="font-family:Consolas;color:#303336;"><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">BundleConfig.RegisterBundles(BundleTable.Bundles);</code></span></span></div>
<div style="background-color:#f8f8f8;"><span style="font-family:Consolas;color:#303336;"><code style="color:#000000;">}</code></span></div>
</div>
<span style="background-color:white;font-size:11.25pt;font-family:Arial;color:#242729;"><strong><br />
</strong>The NuGet package Microsoft.AspNet.WebApi must be installed for the above to work.</span><span style="font-size:11.25pt;background-color:white;font-family:Arial;color:#242729;"><strong><br />
</strong></span>
<hr />

</div>
    
    
