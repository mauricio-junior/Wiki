---
layout: default
title: 'A Closer Look at the RD Connection Broker Database in Windows Server 2012 - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">

<p>We&#39;re&nbsp;assuming that Windows Server 2012 RD Connection Broker High Availability (HA) has already been setup. The configuration process of setting up HA is covered in this wiki:&nbsp;<a href="http://social.technet.microsoft.com/wiki/contents/articles/10390.deploying-rd-connection-broker-high-availibilty-in-windows-server-2012.aspx">Installing
 and Configuring RD Connection Broker High Availability in Windows Server 2012</a><br />
<br />
In this wiki we&#39;ll take a closer look at the RD Connection Broker database itself to explore what is stored inside the database.<br />
<br />
Before we continue&nbsp;note&nbsp;that modifying any data directly in the database is not supported by Microsoft and that it is not advised you to do so. This wiki is just intended to show you how information is stored in SQL by only doing Select (read) statements.
</p>
<p>For example the table <i>rds.ConnectionBroker </i>contains all the RD Connection Broker of this environment and the last time alive signal was received.</p>
<p>&nbsp;</p>
<p><strong><img alt=" " align="baseline" src="http://virtualizationadmin.com/img/upl/image0111360786925267.png" style="border-width:0px;border-style:solid;margin-right:0px;margin-left:0px;vertical-align:text-bottom;" /><br />
Figure 1:</strong> SQL table rds.ConnectionBroker</p>
<p>There are several tables that hold information about which servers run which RDS roles. The table
<i>rds.server</i> contains all the servers involved in the RDS environment, including their server ID.
</p>
<p>&nbsp;</p>
<p><strong><img alt=" " align="baseline" src="http://virtualizationadmin.com/img/upl/image0121360786925267.png" style="border-width:0px;border-style:solid;margin-right:0px;margin-left:0px;vertical-align:text-bottom;" /><br />
Figure 2:</strong> SQL table rds.Server</p>
<p>This server ID is then used in a table per RDS Role, below as an example the <i>
rds.RoleRdsh</i> table.</p>
<p>&nbsp;</p>
<p><strong><img alt=" " align="baseline" src="http://virtualizationadmin.com/img/upl/image0131360786925267.png" style="border-width:0px;border-style:solid;margin-right:0px;margin-left:0px;vertical-align:text-bottom;" /><br />
Figure 3:</strong> SQL table rds.RoleRdsh</p>
<p>The table <i>rds.PoolProperty</i> contains the settings on a Session Collection level. Session Collections are identified by the
<i>PoolId</i>.</p>
<p>&nbsp;</p>
<p><strong><img alt=" " align="baseline" src="http://virtualizationadmin.com/img/upl/image0141360786944689.png" style="border-width:0px;border-style:solid;margin-right:0px;margin-left:0px;vertical-align:text-bottom;" /><br />
Figure 4:</strong> SQL table rds.PoolProperty</p>
<p>The table <i>rds.DeploymentSetting </i>contains the settings configured on a deployment level.</p>
<p>&nbsp;</p>
<p><strong><img alt=" " align="baseline" src="http://virtualizationadmin.com/img/upl/image0151360786925283.png" style="border-width:0px;border-style:solid;margin-right:0px;margin-left:0px;vertical-align:text-bottom;" /><br />
Figure 5: </strong>SQL table rds.DeploymentSetting<br />
<br />
<strong>Original source: </strong><a href="http://virtualizationadmin.com/articles-tutorials/vdi-articles/microsoft-hyper-v/taking-closer-look-rd-connection-broker-high-availability-windows-server-2012.html"><strong>http://virtualizationadmin.com/articles-tutorials/vdi-articles/microsoft-hyper-v/taking-closer-look-rd-connection-broker-high-availability-windows-server-2012.html</strong></a></p>

</div>
    
    
