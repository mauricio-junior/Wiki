---
layout: default
title: Operations Manager Management Pack Authoring - Management Pack References - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<p>This document is part of the <a href="http://go.microsoft.com/fwlink/?LinkID=275817">
<span>Operations Manager Management Pack Authoring Guide</span></></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom fiji-content-fragment-bottom"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><da>.&nbsp; The Microsoft System Center team has validated this procedure as of
<strong>Revision #2</strong>.&nbsp; We will continue to review any changes and periodically provide validations on later revisions as they are made.&nbsp; Please feel free to make any corrections or additions to this procedure that you think would assist other users.<br />
<br />
<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Sealed_Management_Packs">Sealed Management Packs</a></li><li class="hierarchy-item"><a href="#Standard_References">Standard References</a></li><li class="hierarchy-item"><a href="#Defining_a_reference">Defining a reference</a></li><li class="hierarchy-item"><a href="#Example_References">Example References</a></li><li class="hierarchy-item"><a href="#When_to_Separate_Management_Pack_Files">When to Separate Management Pack Files</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Support_Multiple_Versions_of_the_Management_Pack">Support Multiple Versions of the Management Pack</a></li><li class="hierarchy-item"><a href="#Control_Management_Pack_Files_Deployed_to_Agent">Control Management Pack Files Deployed to Agent</a></li><li class="hierarchy-item"><a href="#Different_Management_Pack_Schemas">Different Management Pack Schemas</a></li><li class="hierarchy-item"><a href="#Control_Management_Pack_Updates">Control Management Pack Updates</a></li><li class="hierarchy-item"><a href="#Optional_Management_Pack_Features">Optional Management Pack Features</a></li></ul><div class="hierarchy-list-footer"> </div></li></ul><div class="hierarchy-list-footer"> </div></div><br />
<br />
Management packs often use elements such as base classes, monitor types, and modules in other management packs. Library management packs are automatically installed with System Center Operations Manager 2007 R2 to provide the core set of elements required by
 other management packs. For a management pack to use an element from another management pack, it must have a reference to that management pack.</p>
<h1 class="heading"><a name="Sealed_Management_Packs"></a>Sealed Management Packs</h1>
<div class="section" id="sectionSection0">
<p>A management pack can only use elements in another management pack if the management pack with the elements is sealed. The referencing management pack can be sealed or unsealed as shown in the following diagram.</p>
<p><strong>Valid management pack references</strong> </p>
<img alt="Valid Management Pack References" src="http://i.technet.microsoft.com/ff381312.35f3cedb-6290-4c38-9dd7-e079c6c7690a(en-us,TechNet.10).gif" />
<p>&nbsp;</p>
</div>
<h1 class="heading"><a name="Standard_References"></a>Standard References</h1>
<div class="section" id="sectionSection1">
<p>When a management pack is created by using the Authoring console, it automatically adds the standard set of references shown in the following table. The versions shown are for the Authoring console for Operations Manager 2007 R2 . Updates to the console
 can create updated versions of these references.&nbsp;</p>
<table width="599" border="1">
<tbody>
<tr>
<th><span style="font-size:12px;">Alias </span></th>
<th><span style="font-size:12px;">Management Pack </span></th>
<th><span style="font-size:12px;">Version </span></th>
</tr>
<tr>
<td>
<p><span style="font-size:12px;">SC</span></p>
</td>
<td>
<p><span style="font-size:12px;">Microsoft.SystemCenter.Library</span></p>
</td>
<td>
<p><span style="font-size:12px;">6.1.7221.0</span></p>
</td>
</tr>
<tr>
<td>
<p><span style="font-size:12px;">Windows</span></p>
</td>
<td>
<p><span style="font-size:12px;">Microsoft.Windows.Library</span></p>
</td>
<td>
<p><span style="font-size:12px;">6.1.7221.0</span></p>
</td>
</tr>
<tr>
<td>
<p><span style="font-size:12px;">Health</span></p>
</td>
<td>
<p><span style="font-size:12px;">System.Health.Library</span></p>
</td>
<td>
<p><span style="font-size:12px;">6.1.7221.0</span></p>
</td>
</tr>
<tr>
<td>
<p><span style="font-size:12px;">System</span></p>
</td>
<td>
<p><span style="font-size:12px;">System.Library</span></p>
</td>
<td>
<p><span style="font-size:12px;">6.1.7221.0</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="heading">&nbsp;</p>
<h1 class="heading"><a name="Defining_a_reference"></a>Defining a reference</h1>
<div class="section" id="sectionSection2">
<p>Each management pack reference includes the parts shown in the following table.&nbsp;</p>
<table width="599" border="1">
<tbody>
<tr>
<td>
<p><span style="font-size:12px;">Alias</span></p>
</td>
<td>
<p><span style="font-size:12px;">The alias is a short string that represents the referenced management pack throughout the current management pack. You can set the alias. It applies only to the current management pack. You can use any string of letters and numbers,
 although we recommend a short and descriptive string.</span></p>
<p><span style="font-size:12px;">References that are created by the Operations Console have an alias automatically assigned. It can only be changed by exporting the management pack and editing the alias with an XML editor or the Authoring console. References
 created by using the Authoring console have an alias automatically created, but they can be changed at any time. The Authoring console will update any uses of the alias throughout the management pack.</span></p>
</td>
</tr>
<tr>
<td>
<p><span style="font-size:12px;">ID</span></p>
</td>
<td>
<p><span style="font-size:12px;">The ID of the reference is the name of the referenced management pack.</span></p>
</td>
</tr>
<tr>
<td>
<p><span style="font-size:12px;">Version</span></p>
</td>
<td>
<p><span style="font-size:12px;">The version of the reference is the minimum version of the management pack required by the reference. The version of the referenced management pack installed in the management group must be the same to or a later version than
 the version specified in the reference.</span></p>
</td>
</tr>
<tr>
<td>
<p><span style="font-size:12px;">Public Key Token</span></p>
</td>
<td>
<p><span style="font-size:12px;">The public key token is a unique character string representing the certificate that is used to seal the referenced management pack. This ensures that the management pack is provided by the expected source. If a management pack
 with the same name as the referenced management pack, but sealed with a different certificate, is installed in the management group, the token does not match.</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="heading">&nbsp;</p>
<h1 class="heading"><a name="Example_References"></a>Example References</h1>
<div class="section"></div>
<p class="section">The diagram below shows an example of the references for the <strong>
Microsoft.SQLServer.2008.Monitoring</strong> management pack 6.0.6648.0. All of the management packs listed in the references must be installed in the management group before the
<strong>Microsoft.SQLServer.2008.Monitoring</strong> can be installed. The minimal version of the
<strong>Microsoft.SQLServer.Library</strong> and <strong>Microsoft.SQLServer.Discovery</strong> management packs are 6.0.6648.0. The version of these management packs installed in the management group must bnagement pack is provided by the expected source. If a management pack
 with the same name as the referenced management pack, but sealed with a different certificate, is installed in the management group, the token does not match.</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p class="heading">&nbsp;</p>
<h1 class="heading"><a name="Example_References"></a>Example References</h1>
<div class="section"></div>
<p class="section">The diagram below shows an example of the references for the <strong>
Microsoft.SQLServee equal to or later than 6.0.6648.0.</p>
<div class="section"></div>
<p class="section">The other management packs require version 6.0.5000.0 or higher. These are library management packs that are included with Operations Manager 2007. Version 6.0.5000.0 of the management packs were included with the release version of the product.
 The library management packs for Operations Manager 2007 Service Pack 1 are version 6.0.6278.0 whereas the library management packs for Operations Manager 2007 R2 are 6.1.7221.0. These references ensure that the management pack installs on the release version
 of Operations Manager 2007. If a later version of the product were required for this management pack, a later version would be specified in the references.</p>
<div class="section"></div>
<p class="section">The key token is identical for all of the references because these are all management packs provided by Microsoft and have been sealed with the same certificate.</p>
<div class="section"></div>
<p class="section"><strong>Sample management pack references</strong> </p>
<h1 class="section"><a name="When_to_Separate_Management_Pack_Files"></a><img alt="SQL Server Management Pack References" src="http://i.technet.microsoft.com/ff381312.25bb6a0e-a203-493e-9b60-d236370e37f2(en-us,TechNet.10).gif" />
<br />
<br />
When to Separate Management Pack Files</h1>
<p>You have the option of implementing your management pack in a single file or multiple sealed files that reference one another.&nbsp; It may be simpler to create just a single management pack file, but you may consider multiple files for the following reasons.</p>
<h3><a name="Support_Multiple_Versions_of_the_Management_Pack"></a>Support Multiple Versions of the Management Pack</h3>
<p>You create a library management pack that includes a set of <a href="http://social.technet.microsoft.com/wiki/contents/articles/14256.operations-manager-management-pack-authoring-classes-and-relationships.aspx#Abstract_Classes">
abstract classes</a> and other elements to support management packs for multiple versions of your application.&nbsp; Classes specific to different versions of your management pack are stored in other management pack files that reference the library.&nbsp; Even if you
 currently don’t require multiple versions of the <br />
<br />
For example, the SQL Server Management Pack includes a library file called Microsoft.SQLServer.Library that includes abstract classes for each of the SQL Server components and other elements common to all version of SQL Server such as views and groups.&nbsp; Each
 version of SQL Server has its own set of management pack files with classes that inherit from the base classes in the library.&nbsp; Groups and views in the library are able to include objects discovered by all versions of the management pack because they all inherit
 from the common set of base classes.</p>
<h3><a name="Control_Management_Pack_Files_Deployed_to_Agent"></a>Control Management Pack Files Deployed to Agent</h3>
<p>Management Pack files are deployed in their entirety to any agent with at least one discovered instance of at least one target class in the management pack file.&nbsp; Most management packs will have at least one discovery that targets a broad class such as Microsoft
 Windows Computer.&nbsp; Even though every other discovery, monitor, and rule in the management pack targets classes specific to the application, this single discovery would be enough to require the management pack file to be delivered to every Windows agent in
 the entire management group.&nbsp; Separating the management pack into multiple files for very large management packs can reduce the size deployed to agents that do not have the application installed.</p>
<p>For example, the SQL Server management packs are separated into Discovery and Monitoring management pack files.&nbsp; The Discovery management packs include only definitions of the SQL Server classes and their discoveries.&nbsp; The discoveries for classes such as
 Database Engine and Reporting Services target Microsoft Windows Server Computer meaning that the entire management pack file is deployed to every Windows Server in the management group.&nbsp; The Monitoring management pack file is much larger as it contains all
 monitoring and product knowledge.&nbsp; Its monitors and rules though only target classes that are defined in the Discovery management pack file, so this file is only deployed to agents where SQL Server is installed.</p>
<h3><a name="Different_Management_Pack_Schemas"></a>Different Management Pack Schemas</h3>
<p>Your management pack may be required to run on Operations Manager 2007 R2, but you would like to provide a feature such as dashboards for those users that have System 2012 Operations Manager.&nbsp; In this case, you can use management pack files configured with
 the <a href="http://social.technet.microsoft.com/wiki/contents/articles/15693.operations-manager-management-pack-authoring-management-pack-formats.aspx#Management_Pack_Schema">
schema</a> for Operations Manager 2007 R2 (which is supported by any later versions of Operations Manager) for most of the management pack elements.&nbsp; One or more separate management pack files using the System Center 2012 schema can then be created for the
 dashboards.</p>
<h3><a name="Control_Management_Pack_Updates"></a>Control Management Pack Updates</h3>
<p>Management Pack files are deployed to agents in their entirety.&nbsp; Even though a change may be made to one portion of a management pack file, the entire file must be tested and installed when it is updated.&nbsp; You can separate major features of a management
 pack into multiple files so that an update can be made without affecting other areas of the management pack.</p>
<h3><a name="Optional_Management_Pack_Features"></a>Optional Management Pack Features</h3>
<p>You may have features in your application that only some users may want to implement.&nbsp; You can allow the user to control the features of your management pack that they implement by separating major features into separate files.&nbsp; A user can choose to not
 install those files that contain the features that they don’t want to implement.</p>

</div>
    
    