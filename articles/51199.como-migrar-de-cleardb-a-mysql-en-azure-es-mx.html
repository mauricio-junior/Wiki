---
layout: default
title: 'Cómo migrar de ClearDB a MySQL en Azure (es-MX) - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">

<div style="text-align:justify;"><span style="font-family:Garamond;font-size:13px;"><div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Scenario">Escenario:</a></li><li class="his="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div></div></div>
<div class="content-fragment page no-wrapper" id="fragment-6615">
<div class="content-fragment-inner fiji-content-fragment-inner"><div class="content-fragment-top fiji-content-fragment-top"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div><div class="content-fragment-content">

<div class="full-post-header"></div>
<div class="full-post">
    <h1 class="post-name">C&#243;mo migrar de ClearDB a MySQL en Azure (es-MX)</h1>
    

    <div class="post-content user-defined-markup">

<div style="text-align:justify;"><span stylerarchy-item"><a href="#Objective">Objetivo:</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Migrating_from_ClearDB_to_MySQL_in_App">Migrar de ClearDB a MySQL</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Configuring_MySQL_in_App">Configurando MySQL in App</a></li><li class="hierarchy-item"><a href="#Finish_Migrating_from_ClearDB_to_MySQL_in_App">Finalizar Migración de ClearDB hacia MySQL in App</a></li><li class="hierarchy-item"><a href="#BEST_PRACTICE">BEST PRACTICE:</a></li></ul><div class="hierarchy-list-footer"> </div></li></ul><div class="hierarchy-list-footer"> </div></li></ul><div class="hierarchy-list-footer"> </div></div></span></div>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;"><br />
<hr />
En este artículo, repasaremos cómo migrar de ClearDB a MySQL en la aplicación para una instancia de Wordpress que se ejecute como PaaS en Azure.<br />
<br />
</span><span style="font-size:12.1px;"></span>
<h1 style="line-height:28.6px;"><a name="Scenario"></a><span style="font-family:&#39;Segoe UI&#39;;">Escenario:&nbsp;</span></h1>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;"><br />
&nbsp;- Un blog de Wordpress alojado como PaaS utilizando los servicios de la aplicación ClearDB &#43; Azure.&nbsp;<br />
<br />
</span><span style="font-size:12.1px;"></span>
<h1 style="line-height:28.6px;"><a name="Objective"></a><span style="font-family:&#39;Segoe UI&#39;;">Objetivo:&nbsp;</span></h1>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;">&nbsp;- Migrar de ClearDB a MySQL en Azure sin necesidad de volver a implementar la instancia de webapp.<br />
<br />
<br />
Al analizar la oferta del marketplace de Azure podemos encontrar diferentes maneras de implementar la instancia de Wordpress a través de PaaS / IaaS:<br />
<br />
</span><span style="font-size:12.1px;"></span>
<p style="margin:0px 0px 10px;font-size:19px;line-height:27px;color:#262626;background-color:#ffffff;">
<img class="size-full wp-image-7460 aligncenter" src="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/wordpress-wikiazure.png" alt="wordpress-wikiazure" width="615" height="309" style="border:0px none;vertical-align:middle;display:block;margin-left:auto;margin-right:auto;width:inherit;height:auto;" /></p>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;"><br />
<br />
</span><span style="font-size:12.1px;"></span>
<ul style="font-size:12.1px;">
<li><span style="font-family:&#39;Segoe UI&#39;;">MySql in App ... creando desde cero la aplicación web &#43; la base de datos y luego restaurar la base de datos<br />
</span></li><li><span style="font-family:&#39;Segoe UI&#39;;">Provisionar la VM con mySQL y después asociarla con la instancia de webapp<br />
</span></li><li><span style="font-family:&#39;Segoe UI&#39;;">Habilitar MySql in App - directamente en la pp que ya se había aprovisionado en Azure.<br />
</span></li></ul>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;"><br />
</span><span style="font-size:12.1px;"></span>
<h2 style="line-height:25px;"><a name="Migrating_from_ClearDB_to_MySQL_in_App"></a><span style="font-family:&#39;Segoe UI&#39;;">Migrar de ClearDB a MySQL&nbsp;</span></h2>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;"><br />
</span><span style="font-size:12.1px;"></span>
<h3 style="line-height:22.5px;"><a name="Configuring_MySQL_in_App"></a><span style="font-family:&#39;Segoe UI&#39;;">Configurando MySQL in App</span></h3>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;"></span>La configuración de la nueva base de datos MySQL es muy simple, todo lo que tiene que hacer es abrir su aplicación web en el portal de Azure y hacer clic en MySQL in App en la opción de la aplicación.<br />
<br />
<p style="margin:0px 0px 10px;font-size:19px;line-height:27px;color:#262626;background-color:#ffffff;">
<a href="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/wordpress1-wikiazure.png" style="color:#31a3dd;background:none 0% 0% repeat scroll transparent;"><span style="font-family:&#39;Segoe UI&#39;;"><img class="size-full wp-image-7461 aligncenter" src="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/wordpress1-wikiazure.png" alt="wordpress1-wikiazure" width="762" height="289" style="border:0px none;vertical-align:middle;display:block;margin-left:auto;margin-right:auto;width:inherit;height:auto;" /></span></a></p>
<p style="margin:0px 0px 10px;font-size:19px;line-height:27px;color:#262626;background-color:#ffffff;">
<span style="font-family:&#39;Segoe UI&#39;;"><br />
</span></p>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;"><br />
</span>Cambia la opción de MySQL en la aplicación a <strong>Encendido&nbsp;</strong>y guardar esta configuración. Una vez que haya terminado la creación de MySQL, haga clic en la opción Administrar en la esquina superior izquierda:
<p style="margin:0px 0px 10px;font-size:19px;line-height:27px;color:#262626;background-color:#ffffff;">
<a href="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/mysqlinapp-wikiazure.png" style="color:#31a3dd;background:none 0% 0% repeat scroll transparent;"><span style="font-family:&#39;Segoe UI&#39;;"><img class="alignnone size-full wp-image-7462" src="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/mysqlinapp-wikiazure.png" alt="mysqlinapp - wikiazure" width="1309" height="603" style="border:0px none;vertical-align:middle;width:inherit;height:auto;display:block;padding-top:20px;" /></span></a></p>
<p style="margin:0px 0px 10px;font-size:19px;line-height:27px;color:#262626;background-color:#ffffff;">
<span style="font-family:&#39;Segoe UI&#39;;"><br />
</span></p>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;">Si hace clic en administrar, verá que es un administrador del sitio PHPMyAdmin.<br />
<br />
<strong>TIP</stro superior izquierda:
<p style="margin:0px 0px 10px;font-size:19px;line-height:27px;color:#262626;background-color:#ffffff;">
<a href="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/mysqlinapp-wikiazure.png" style="color:#31a3dd;background:none 0% 0% repeat scroll transparent;"><span style="font-family:&#39;Segoe UI&#39;;"><img class="alignnone size-full wp-image-7462" src="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/mysqlinapp-wikiazure.png" alt="mysqlinapp - wikiazure" width="1309" height="603" style="border:0px none;vertical-align:middle;width:inherit;height:auto;display:block;padding-top:20px;" /></span></a></p>
<p style="margin:0px 0px 10px;font-size:19px;line-height:27px;color:#262626;background-color:#ffffff;">
<span style="font-family:&#39;Segoe UI&#39;;"><br />
</span></p>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;">Si hace clic en administrar, verá que es un administrador del sitio PHPMyAdmin.<br />
<br />
<strong>Tng>: Te recomiendo que guarde la cadena de conexión ClearDB y realice una copia de seguridad previa<br />
<br />
</span><span style="font-size:12.1px;"></span>
<p style="margin:0px 0px 10px;font-size:19px;line-height:27px;color:#262626;background-color:#ffffff;">
<a href="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/phpmyadmin-wikiazure.png" style="color:#31a3dd;background:none 0% 0% repeat scroll transparent;"><span style="font-family:&#39;Segoe UI&#39;;"><img class="size-full wp-image-7464 aligncenter" src="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/phpmyadmin-wikiazure.png" alt="phpmyadmin - wikiazure" width="649" height="445" style="border:0px none;vertical-align:middle;display:block;margin-left:auto;margin-right:auto;width:inherit;height:auto;" /></span></a></p>
<p style="margin:0px 0px 10px;font-size:19px;line-height:27px;color:#262626;background-color:#ffffff;">
<span style="font-family:&#39;Segoe UI&#39;;"><br />
</span></p>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;"><br />
</span>Al hacer clic en exportar en mySQL en la aplicación, se iniciará el proceso para mover la base de datos, esto podría demorar un tiempo dependiendo del tamaño de su base de datos ...
<p style="margin:0px 0px 10px;font-size:19px;line-height:27px;color:#262626;background-color:#ffffff;">
<a href="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/MySQL-in-App-wikiazure.png" style="color:#31a3dd;background:none 0% 0% repeat scroll transparent;"><span style="font-family:&#39;Segoe UI&#39;;"><img class="alignnone size-full wp-image-7469" src="https://wikiazure.azureedge.net/wp-content/uploads/2017/04/MySQL-in-App-wikiazure.png" alt="MySQL in App - wikiazure" width="1019" height="621" style="border:0px none;vertical-align:middle;width:inherit;height:auto;display:block;padding-top:20px;" /></span></a></p>
<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;;"><br />
<br />
Qué sigue?&nbsp;<br />
<br />
</span><span style="font-size:12.1px;"></span>
<h3 style="line-height:22.5px;"><a name="Finish_Migrating_from_ClearDB_to_MySQL_in_App"></a><span style="font-family:&#39;Segoe UI&#39;;">Finalizar Migración de ClearDB hacia MySQL in App</span></h3>
<br />
<span style="font-family:&#39;Segoe UI&#39;;">Vaya a </span><strong style="font-family:&#39;Segoe UI&#39;;">Administrar</strong><span style="font-family:&#39;Segoe UI&#39;;">, e importe la base de datos de ClearDB, utilizaremos la cadena de conexión que guardamos previamente, esa cadena
 de conexión nos ayudará a simplificar los siguientes pasos, una vez que realice esta exportación, puede ir a la Configuración de la aplicación y elimine la cadena de conexión de ClearDB, pero espere un segundo! Antes de hacerlo, debe hacer algunos cambios
 en su archivo </span><strong style="font-family:&#39;Segoe UI&#39;;">wp-config</strong><br />
<br />
<span style="font-family:&#39;Segoe UI&#39;;">Por defecto, su conexión wordpress a su base de datos se ve así:</span><br />
<br />
<div class="reCodeBlock" style="font-family:&#39;Segoe UI&#39;;border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#000000;"><br />
define (</code><code style="color:blue;">&#39;DB_NAME&#39;</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&#39;databasename&#39;</code><code style="color:#000000;">);&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">define (</code><code style="color:blue;">&#39;DB_USER&#39;</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&#39;username&#39;</code><code style="color:#000000;">);&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">define (</code><code style="color:blue;">&#39;DB_PASSWORD&#39;</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&#39;password&#39;</code><code style="color:#000000;">);&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">define (</code><code style="color:blue;">&#39;DB_HOST&#39;</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&#39;mydatabase.cloudapp.net&#39;</code><code style="color:#000000;">);&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><br />
</div>
</div>
<br />
<br />
<br />
<span style="font-family:&#39;Segoe UI&#39;;">Haremos la siguiente modificación:&nbsp;</span><br />
<br />
<br />
<div class="reCodeBlock" style="font-family:&#39;Segoe UI&#39;;border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">$ connectstr_dbhost =&nbsp;</code><code style="color:blue;">&#39;&#39;</code><code style="color:#000000;">;&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">$ connectstr_dbname =&nbsp;</code><code style="color:blue;">&#39;&#39;</code><code style="color:#000000;">;&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">$ connectstr_dbusername =&nbsp;</code><code style="color:blue;">&#39;&#39;</code><code style="color:#000000;">;&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">$ connectstr_dbpassword =&nbsp;</code><code style="color:blue;">&#39;&#39;</code><code style="color:#000000;">;&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;</code><span><code style="color:#000000;">&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">foreach ($ _SERVER&nbsp;</code><code style="color:#006699;font-weight:bold;">as</code>&nbsp;<code style="color:#000000;">$&nbsp;</code><code style="color:#006699;font-weight:bold;">key</code>&nbsp;<code style="color:#000000;">=&gt;
 $ value) {&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;</code><span><code style="color:#000000;">if (strpos ($&nbsp;</code><code style="color:#006699;font-weight:bold;">key</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&quot;MYSQLCONNSTR_&quot;</code><code style="color:#000000;">)!
 == 0) {&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;</code><span><code style="color:#006699;font-weight:bold;">continue</code><code style="color:#000000;">;&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;</code><span><code style="color:#000000;">}&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;</code><span><code style="color:#000000;">&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;</code><span><code style="color:#000000;">$ connectstr_dbhost = preg_replace (</code><code style="color:blue;">&quot;<a href="https://wikiazure.azureedge.net/">https://wikiazure.azureedge.net/</a>^.*Data
 Source = (. &#43;?);. * $ /&quot;</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&quot;\\ 1&quot;</code><code style="color:#000000;">, $ value);&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;</code><span><code style="color:#000000;">$ connectstr_dbname = preg_replace (</code><code style="color:blue;">&quot;<a href="https://wikiazure.azureedge.net/">https://wikiazure.azureedge.net/</a>^.*Database=(.&#43;?);.*$/&quot;</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&quot;\\
 1&quot;</code><code style="color:#000000;">, $ value);&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><code>&nbsp;</code><span><code style="color:#000000;">$ connectstr_dbusername = preg_replace (</code><code style="color:blue;">&quot;<a href="https://wikiazure.azureedge.net/">https://wikiazure.azureedge.net/</a>^.*UserID
 = (. &#43;?);. * $ /&quot;</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&quot;\\ 1&quot;</code><code style="color:#000000;">, $ value);&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;</code><span><code style="color:#000000;">$ connectstr_dbpassword = preg_replace (</code><code style="color:blue;">&quot;<a href="https://wikiazure.azureedge.net/">https://wikiazure.azureedge.net/</a>^.*Password=(.&#43;?)$/&quot;</code><code style="color:#000000;">,&nbsp;</code><code style="color:blue;">&quot;\\
 1&quot;</code><code style="color:#000000;">, $ value);&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">}&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><code>&nbsp;</code><span><code style="color:#000000;">&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">define (</code><code style="color:blue;">&#39;DB_NAME&#39;</code><code style="color:#000000;">, $ connectstr_dbname);&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">define (</code><code style="color:blue;">&#39;DB_USER&#39;</code><code style="color:#000000;">, $ connectstr_dbusername);&lt;br&gt;</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">define (</code><code style="color:blue;">&#39;DB_PASSWORD&#39;</code><code style="color:#000000;">, $ connectstr_dbpassword);&lt;br&gt;</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">define (</code><code style="color:blue;">&#39;DB_HOST&#39;</code><code style="color:#000000;">, $ connectstr_dbhost);</code></span></div>
</div>
<br />
<br />
<br />
<em style="font-family:&#39;Segoe UI&#39;;"><strong>TIP</strong>: </em><span style="font-family:&#39;Segoe UI&#39;;">La instancia de MySql en la aplicación solo se conecta localmente, por lo que solo el puerto será lo que debe cambiar en su caso. Es por eso que necesita descargar
 la cadena de conexión, que es administrada por AppService.</span><br />
<br />
<span style="font-family:&#39;Segoe UI&#39;;">Por defecto, el ID de usuario es &#39;azure&#39; y la contraseña es &#39;password&#39;</span><em style="font-family:&#39;Segoe UI&#39;;"><br />
</em><br />
<h3><a name="BEST_PRACTICE"></a><strong>BEST PRACTICE:&nbsp;</strong></h3>
<br />
<span style="font-family:&#39;Segoe UI&#39;;">Algunas veces, las actualizaciones de Wordpress y las extensiones del sitio pueden entrar en conflicto con su entorno actual de Wordpress. Si está ejecutando Wordpress como PaaS, es posible que desee desactivar las actualizaciones
 de forma predeterminada. Para deshabilitar estas actualizaciones debe colocar en su archivo wp-config.php:</span><br />
<br />
<span style="font-family:&#39;Segoe UI&#39;;"><br />
</span><br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">define (</code><code style="color:blue;">&#39;AUTOMATIC_UPDATER_DISABLED&#39;</code><code style="color:#000000;">,
</code><code style="color:#006699;font-weight:bold;">true</code><code style="color:#000000;">);
</code><code style="color:#008200;">// para deshabilitar las actualizaciones</code></span></div>
</div>
<br />
<br />
<span style="font-family:&#39;Segoe UI&#39;;">o</span><br />
<br />
<span style="font-family:&#39;Segoe UI&#39;;"><br />
</span><br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#000000;">define (</code><code style="color:blue;">&#39;WP_AUTO_UPDATE_CORE&#39;</code><code style="color:#000000;">,
</code><code style="color:#006699;font-weight:bold;">false</code><code style="color:#000000;">);
</code><code style="color:#008200;">//Deshabilitar a nivel core.</code></span></div>
</div>
<br />
<br />
<br />
<span style="font-size:12.1px;"></span>
<h2 style="line-height:25px;"></h2>
<hr style="font-size:12.1px;" />

</div>
    
    
