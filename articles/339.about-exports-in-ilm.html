---
layout: default
title: 'About Exports in ILM - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">

<p>“<em>I’ve tried to export data to a connected data source, didn’t get an error but nothing happened – no data was exported</em>”.
<br />
If you have been in a situation like this, you might want to read this article. <br />
In this article, I’m addressing some of the most popular questions I found in conjunction with export related problems on this forum.
<br />
Please feel free to provide feedback if you have questions or other feedback.<br />
<br />
<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Understanding_Exports">Understanding Exports</a></li><li class="hierarchy-item"><a href="#Verifying_the_Export_Status">Verifying the Export Status</a><div class="hierarchy-list-header"> </div>ull-post-header"></div>
<div class="full-post">
    <h1 class="post-name">About Exports in ILM</h1>
    

    <div class="post-content user-defined-markup">

<p>“<em>I’ve tried to export data to a connected data source, didn’t get an error but nothing happened – no data was exported</em>”.
<br />
If you have been in a situation like this, you might want to read this article. <br />
In this article, I’m addressing some of the most popular questions I found in conjunction with export related problems on this forum.
<br />
Please feel free to provide feedback if you have questions or other feedback.<br />
<br />
<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Understanding_Exports">Und<ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Checking_the_management_agent_statistics">Checking the management agent statistics</a></li><li class="hierarchy-item"><a href="#Searching_for_pending_exports_in_a_connector_space">Searching for pending exports in a connector space</a></li><li class="hierarchy-item"><a href="#Verifying_the_export_statistics_by_running_a_script">Verifying the export statistics by running a script</a></li></ul><div class="hierarchy-list-footer"> </div></li><li class="hierarchy-item"><a href="#Troubleshooting_Export_Status_Related_Issues">Troubleshooting Export Status Related Issues</a></li><li class="hierarchy-item"><a href="#Additional_Export_Status_Issues">Additional Export Status Issues</a></li><li class="hierarchy-item"><a href="#Summary">Summary</a></li><li class="hierarchy-item"><a href="#Additional_Information">Additional Information</a></li><li class="hierarchy-item"><a href="#Related_Forum_Posts">Related Forum Posts</a></li></ul><div class="hierarchy-list-footer"> </div></div></p>
<h2 style="color:#365f91;"><a name="Understanding_Exports"></a>Understanding Exports</h2>
<p>The objective of an export run is to update connected data source with physically authoritative information that was staged for being exported in the connector space of a management agent.
<br />
In other words, to export data to a connected data source, you need staged updates.</p>
<p>If no new data was applied to a connector space during a synchronization run and a subsequent export although you have expected it and you didn’t get an error during the export operation, it doesn’t necessarily mean that your system is not functioning correctly.
<br />
One common question, I have seen over the time been often asked in this context is like the following: “<em>I imported from forest A and ran an export to forest B. How come no objects were exported to forest B? What is wrong with my export?</em>”</p>
<p>In a case like this, there is not necessarily anything wrong with your exports.
<br />
It is also possible that your synchronization rules are not configured properly – which means, the system works correctly, no errors are reported but it doesn’t produce the desired results.
<br />
For example, it is possible that a configured attribute flow doesn’t have the required precedence to flow an attribute value to a target.</p>
<p>To track down why an export that should export data didn’t export data, you should perform the following steps:</p>
<ul>
<li>Verify the export status </li><li>Analyze a synchronization run </li></ul>
<p>&nbsp;</p>
<h2 style="color:#365f91;"><a name="Verifying_the_Export_Status"></a>Verifying the Export Status</h2>
<p>If you have an issue related to exporting data, you should first verify, whether there anything staged for an export.</p>
<p>&nbsp;</p>
<table cellpadding="0" cellspacing="0" border="0" style="width:100%;">
<tbody>
<tr>
<th style="text-align:left;background-color:#c0c0c0;"><img height="10" width="10" src="http://public.bay.livefilestore.com/y1prC8fxWFhyKXxic0jv37fVupNCcWshohbdTbDrVOSw6kRGR3lL1yVpQpi6seNC7UVywNSyQK5Y3gh7ev_kr1OpA/Important.gif" alt="Important" />Important
</th>
</tr>
<tr>
<td style="background-color:#f0f0f0;">You should always first verify the export statistic prior to running your first export to a connected data source!</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>To verify the export statistics, you have three options:</p>
<ul>
<li>Check the statistics of a management agent in Identity Manager </li><li>Search for pending exports in a connector space </li><li>Verify the export statistics by running a script </li></ul>
<p>&nbsp;</p>
<h3 style="color:#365f91;"><a name="Checking_the_management_agent_statistics"></a>Checking the management agent statistics</h3>
<p>In ILM, the Identity Manager has a statistics dialog with related data for all management agents that are currently configured in your environment.<br />
This includes:</p>
<ul>
<li>Counters for the objects that are staged in a connector space </li><li>Export and import states of the objects in a connector space </li></ul>
<p>To open the Statistics dialog:</p>
<ul>
<li>In <strong>ILM</strong>, open <strong>Identity Manager</strong> </li><li>To open the <strong>Statistics</strong> dialog, click <strong>Statistics</strong> in the
<strong>Tools</strong> menu </li></ul>
<p><img alt=" " src="http://3pji8g.bay.livefilestore.com/y1pFRitvB2RJIO3S4ymLhs_QdodJEyikFKOGbsdn283197g6pDtEihr686zqrsFKYg11_FUNRFYdjVqVji8aImCiZCdE_GH5hmx/GHAMV27.jpg" /></p>
<p>&nbsp;</p>
<h3 style="color:#365f91;"><a name="Searching_for_pending_exports_in_a_connector_space"></a>Searching for pending exports in a connector space</h3>
<p>While the management agent statistics only gives you the general counter for various states in your environment, you can use the Search Connector Space feature to list the affected objects.</p>
<p>The Search Connector Space feature enables you to perform a scope based connector space searches.<br />
In conjunction with exports, you can set the scope to pending exports and select the type of pending operations (add, Modify, Delete) you care about.</p>
<p>To perform a scope based connector space search:</p>
<ul>
<li>In <strong>ILM</strong>, open <strong>Identity Manager</strong> </li><li>To switch to the <strong>Management Agents</strong> view, select <strong>Management Agents</strong> from the
<strong>Tools</strong> menu </li><li>Form the management agent list, select a management agent </li><li>To open the <strong>Search Connector Space</strong> dialog, select <strong>Search Connector Space</strong> from the
<strong>Tools</strong> menu </li><li>From the <strong>Scope</strong> list, select <strong>Pending Exports</strong>
</li><li>Select the pending type (<em>Add</em>, <em>Modify</em>, <em>Delete</em>) you are interested in
</li><li>To perform a search, click <strong>Search</strong> </li></ul>
<p>&nbsp;</p>
<p><img alt=" " src="http://3pji8g.bay.livefilestore.com/y1pI2iABy0ysKWoSrP8n0zv897HR1eqRgKDNTH6Au can set the scope to pending exports and select the type of pending operations (add, Modify, Delete) you care about.</p>
<p>To perform a scope based connector space search:</p>
<ul>
<li>In <strong>ILM</strong>, open <strong>Identity Manager</strong> </li><li>To switch to the <strong>Management Agents</strong> view, select <strong>Management Agents</strong> from the
<strong>Tools</strong> menu </li><li>Form the management agent list, select a management agent </li><li>To open the <strong>Search Connector Space</strong> dialog, select <strong>Search Connector Space</strong> from the
<strong>Tools</strong> menu </li><li>From the <strong>Scope</strong> list, select <strong>Pending Exports</strong>
</li><li>Select the pending type (<em>Add</em>, <em>Modify</em>, <em>Delete</em>) you are interested in
</li><li>To perform a search, click <strong>Search</strong> </li></ul>
<p>&nbsp;</p>
<p>o3n2A-1iFv-pEV63zDGKEoeV2YLYuE5NziqxtkdEq2759zPQw/GHAMV28.jpg" /></p>
<table cellpadding="0" cellspacing="0" border="0" style="width:100%;">
<tbody>
<tr>
<th style="text-align:left;background-color:#c0c0c0;"><img height="10" width="10" src="http://public.bay.livefilestore.com/y1pUdngkyVMVCHT-tEbb45xD8OohP06MDPkoykPuc1jFjiqv2Ode_KLyFsxJkdnPg3fk14kk8nYC5O-42s8nXXy-Q/Note.gif" alt="note" />Note
</th>
</tr>
<tr>
<td style="background-color:#f0f0f0;">You should familiarize yourself with the various scope options the Search Connector Space feature provides as they can help you to get more targeted information in troubleshooting situations.<br />
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h3 style="color:#365f91;"><a name="Verifying_the_export_statistics_by_running_a_script"></a>Verifying the export statistics by running a script</h3>
<p>Scripts provide a convenient method to retrieve the information you need in a targeted manner.<br />
ILM provides a WMI interface you can use to extract the required information from the system.<br />
Part of this interface is the <em><a href="http://msdn.microsoft.com/en-us/library/ms697764(VS.85).aspx">MIIS_ManagementAgent</a></em> agent class that gives you access to properties of a management agent.<br />
To review the export statistics of a management agent, you check the related <em>
Add</em>, <em>Update</em> and <em>Delete</em> parameter.<br />
The following code block shows an example for a script that displays the export statistics of a management agent.</p>
<pre lang="x-vbs">Option Explicit
Dim retVal
retVal = InputBox(&quot;Please enter the name of the management agent&quot;, Replace(WScript.ScriptName, &quot;.vbs&quot;, &quot;&quot;)) 

If(0 = Len(retVal)) Then
   WScript.Quit
End If   

Dim oService, lstMA, curObject
Set oService = GetObject(&quot;winmgmts:root\MicrosoftIdentityIntegrationServer&quot;)
Set lstMA = oService.ExecQuery(&quot;Select * from MIIS_ManagementAgent Where Name =&#39;&quot; &amp; retVal &amp; &quot;&#39;&quot;)
</pre>
<pre lang="x-vbs">If(0 = lstMA.count) Then
   MSgBox &quot;Management agent &quot; &amp; retVal &amp; &quot; not found.&quot;, vbInformation, Replace(WScript.ScriptName, &quot;.vbs&quot;, &quot;&quot;)
   WScript.Quit
End If

Dim retMsg
For Each curObject In lstMA
   retMsg = &quot;Adds: &quot;    &amp; vbTab &amp; curObject.NumExportAdd &amp; vbCRLF &amp; _
                   &quot;Updates: &quot; &amp; vbTab &amp; curObject.NumExportUpdate &amp; vbCRLF &amp; _
                  &quot;Deletes: &quot; &amp; vbTab &amp; curObject.NumExportDelete
Next

retMsg = &quot;Export status on &quot; &amp; retVal &amp; vbCRLF &amp; retMsg 
MsgBox retMsg, vbInformation, Replace(WScript.ScriptName, &quot;.vbs&quot;, &quot;&quot;)


</pre>
<p>&nbsp;</p>
<table cellpadding="0" cellspacing="0" border="0" style="width:100%;">
<tbody>
<tr>
<th style="text-align:left;background-color:#c0c0c0;"><img height="10" width="10" src="http://public.bay.livefilestore.com/y1pUdngkyVMVCHT-tEbb45xD8OohP06MDPkoykPuc1jFjiqv2Ode_KLyFsxJkdnPg3fk14kk8nYC5O-42s8nXXy-Q/Note.gif" alt="note" />Note
</th>
</tr>
<tr>
<td style="background-color:#f0f0f0;">You can use this script prior to an export run to determine whether export updates are staged on a management agent</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2 style="color:#365f91;"><a name="Troubleshooting_Export_Status_Related_Issues"></a>Troubleshooting Export Status Related Issues</h2>
<p>While technically possible, backtracking why a desired export status was not accomplished can be a pretty time consuming and complex operation that doesn’t necessarily help to find the answer you are looking for quickly.</p>
<p>In most cases, you are better off using a push approach.<br />
This means, processing a test object with prepared data through your system.<br />
Since the export status is a result of a complete transaction that starts with staged changes in a connector space, which are processed through your configuration of your synchronization rules, you should prepare an object in a connected data source with specific
 test data and import these changes into the connector space.</p>
<p>ILM provides a very powerful feature called “<em>Preview</em>” that enables you to apply a “<em>What If</em>” run of an object without actually updating any data inside ILM.<br />
In other words, you don’t need to worry about messing something up in your environment by staging a test object in a connector space.<br />
After you have staged your test object in a connector space, you can use the <em>
Search Connector Space</em> feature, to run a preview on an object.<br />
Here are the simple steps to do this:</p>
<ul>
<li>In the Identity Manager, select <strong>Management Agents</strong> from the <strong>
Tools</strong> menu. </li><li>In the <strong>Management Agents</strong> list, select the affected management agent.
</li><li>To open the <strong>Search Connector Space </strong>dialog, select <strong>Search Connector Space</strong> from the
<strong>Actions</strong> menu. </li><li>In the <strong>Search Connector Space</strong> dialog, select the object you care about.
</li><li>To open the <strong>Preview</strong> dialog, click the <strong>Preview</strong> button.
</li></ul>
<p><img alt=" " src="http://3pji8g.bay.livefilestore.com/y1pRt8CJvly_pyzdLmKTwKFBKWYwnSCtV35PC4eMoRaOBTKUNFMeiHohd9UZYY64cqSCMMGkPFyxbzbNsUH84bDmw/GHAMV29.jpg" /></p>
<p>The <em>Preview</em> dialog enables you to run two different “<em>What if</em>” scenarios – for a full synchronization and for a delta synchronization to cover the two options you have for synchronizing objects in ILM.<br />
By looking at the preview result, you can determine how your object would be processed throughout the system in case of an actual run.<br />
This also helps you to determine why nothing would be staged for an export.<br />
When you are done with the analysis of the results your test object would produce in an actual run, you can safely delete your test object from a connector space.</p>
<h2 style="color:#365f91;"><a name="Additional_Export_Status_Issues"></a>Additional Export Status Issues</h2>
<p>Next to no data that was exported, not enough data can be also a concern. <br />
This is especially the case, when you want to export a complete connector space. <br />
In this case, it is important to know that exports are by design always deltas!</p>
<table cellpadding="0" cellspacing="0" border="0" style="width:100%;">
<tbody>
<tr>
<th style="text-align:left;background-color:#c0c0c0;"><img height="10" width="10" src="http://public.bay.livefilestore.com/y1pUdngkyVMVCHT-tEbb45xD8OohP06MDPkoykPuc1jFjiqv2Ode_KLyFsxJkdnPg3fk14kk8nYC5O-42s8nXXy-Q/Note.gif" alt="note" />Note
</th>
</tr>
<tr>
<td style="background-color:#f0f0f0;">Exports are always deltas!</td>
</tr>
</tbody>
</table>
<p>This means, during an export, only data that has to the knowledge of the system not been exported yet, is actually exported.</p>
<p>One common issue in conjunction with missing data on the outbound side is related to the attribute flow precedence configuration.
<br />
In addition to your attribute flow rules, attribute flow precedence is a second gate that can block data from being flown to a connector space.
<br />
Attribute flow precedence is applied on the inbound side and on the outbound side.
<br />
On the outbound side, attribute flow precedence protects a connector space from being updated with non authoritative data in the default configuration.
<br />
As long as the management agent with the highest flow precedence value has not contributed any data to the metaverse yet, it is possible for a management agent with a lower precedence to contribute data to the metaverse.
<br />
When you experience an issue with attribute updates, you should always check whether this use is related to the attribute flow precedence configuration.</p>
<p><img alt=" " src="http://3pji8g.bay.livefilestore.com/y1pG2SmNVU30x0Y31XwApYZl-VrWRvD3vHYoCgkyERUz4iI0rRL7WvObfdCCcy0z7FsFylRsDsg2zmsRGFccLCVwQ/GHAMV26.jpg" /></p>
<p>What if you need to export a complete connector space? <br />
In this case, you have some options to address this. <br />
The simplest method is to use a different connected data source. <br />
Typically, the subject of a complete export comes up in the context of file based management agents.
<br />
However, files do naturally not provide any kind of data management capabilities.
<br />
This is the realm of databases and directories. <br />
So, if you are in a frequent need to get complete exports of a connector space, you are better off using a database instead of a flat file to store your data.
<br />
If your target system needs the data in form of a file, it is very simple to extract the required data from a database by using a script.
<br />
If you need to use flat files and you need a complete export of a connector space, you can use
<em>CSExport</em>, a command-line tool that ships with ILM to drop the content of a connector space into a XML file.
<br />
While <em>CSExport</em> is an extremely powerful and handy tool, there are also some obstacles associated with using
<em>CSExport</em> to do a complete export of a connector space. <br />
The first one is probably obvious – if you have large amount of objects that are managed in a scenario, dropping the information about all of these objects into a file can be time consuming operation.
<br />
The other issue is related to the understanding of role of a connector space in the ILM world.
<br />
While implemented as database, the connector space is no identity data repository!
<br />
The role of the connector space is to function as process related data layer. <br />
As such, it links a metaverse object with different states of an object in a connected data source and also provides the data that enables system to function according to the design goals.
<br />
For example, one objective of the connector space is to enable the system to make smart decisions in conjunction with the data that actually needs to be processed.
<br />
In other words, one role of the connector associated with using
<em>CSExport</em> to do a complete export of a connector space. <br />
The first one is probably obvious – if you have large amount of objects that are managed in a scenario, dropping the information about all of these objects into a file can be time consuming operation.
<br />
The other issue is related to the understanding of role of a connector space in the ILM world.
<br />
While implemented as database, the connector space is no identity data repository!
<br />
The role of the connector space is to function as process related data layer. <br />
As such, it links a metaverse object with different states of an object in a connected data source and also provides the data that enables system to function  space is to enable ILM to calculate deltas.
<br />
This is just one example and a complete discussion of the connector space is beyond the scope of this article.
<br />
However, what you need to be aware of is that connector space data is stored in a way that supports the system.
<br />
Interpreting the exported data requires an understanding of the synchronization tower architecture.
<br />
You can find more details on this in the Technical Reference.</p>
<h2 style="color:#365f91;"><a name="Summary"></a>Summary</h2>
<p>In case of an ILM based scenario, you should not use the “<em>deploy and see what happens</em>” approach.<br />
Trying to interpret how the system operates by just looking at the results you see has in many cases led to confusion in conjunction how this technology actually works.<br />
In this context, I can highly recommend reading the article on <a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/6f572a64-e422-47b1-ac98-3abadbc49d6f">
Learning ILM</a> a colleague of mine, <strong>Ahmad Abdel-wahed</strong>, wrote.<br />
To operate an ILM environment, you should familiarize yourself with the basic concepts around this technology.<br />
The <a href="http://technet.microsoft.com/en-us/library/cc626295.aspx">ILM Technical library</a> provides a collection of documentation that covers all aspects of using ILM in a production environment.<br />
In conjunction with unexpected results, you should not immediately suspect a malfunction of the technology.<br />
In many cases, it turns out that scenario issues are a result of a miss configuration.<br />
Fortunately, ILM provides in the <em>Preview</em> feature a very powerful method to analyze your current configuration.<br />
You should familiarize yourself with this feature because it can safe you a lot time while tracking an issue down.<br />
I would also recommend looking into the options to script certain aspects of your environment.<br />
Having a toolbox of scripts at your hands helps you to get faster to a solution.<br />
Also, if you need help, providing details about the steps you have already taken to get to the root cause of an issue, will help you to get much faster to a result.<br />
In this context, I can recommend reading &quot;<a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/137f58cd-ce2c-4b2b-bc1d-1a6effbd85a0">How to get the maximum return on your forum question</a>&quot;, which helps you to get a better
 idea on how to approach a problem.</p>
<h2 style="color:#365f91;"><a name="Additional_Information"></a>Additional Information</h2>
<p>For more information, please see the <a href="http://www.microsoft.com/downloads/details.aspx?displaylang=en&amp;FamilyID=d7894cc9-eeeb-40d9-8f5f-573050624f67">
Microsoft Identity Integration Server 2003 Technical Reference</a>.</p>
<h2 style="color:#365f91;"><a name="Related_Forum_Posts"></a>Related Forum Posts</h2>
<ul>
<li><a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/11b9f91f-4d35-4574-82f2-81bccba4a2de/">Skipped: Not Precendent on export</a>
</li><li><a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/4193ee5c-3340-4b7e-9ee6-0cd8f276b5aa/">Export all objects to file each export run</a>
</li><li><a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/ef348053-b523-4ecf-87ae-52a6436f9e3e/">Export Filter</a>
</li><li><a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/ce8f542a-18f6-4e23-b292-a52a0273e71e/">Order of export in Export ECMA</a>
</li><li><a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/f30a2631-8c5f-4de8-bb31-5e9269a64aaf">Export from AD to Oracle table</a>
</li><li><a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/e0dcf255-26b3-4770-ab13-143060481630">IIFP Cannot Export to AD</a>
</li><li><a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/c246edc2-a276-43da-bf94-e0c8a6d76c3b/">Problem with Export to Oracle</a>
</li><li><a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/05b00e7b-7760-4ae9-a93c-dcbcb4224036/">Export all objects of an MA to file</a>
</li><li><a href="http://social.technet.microsoft.com/forums/en-US/identitylifecyclemanager/thread/89836ca4-2116-465e-bb46-cfa3cda33aed/">export to active directory: no errors, and no adds</a>
</li><li><a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/7479ae92-cac2-4537-9d08-3f016ec081e7/">Delimited Text File Export/Import issues</a>
</li><li><a href="http://social.technet.microsoft.com/Forums/en-US/identitylifecyclemanager/thread/7c169d8f-8599-427a-857f-9c72039d24fd/">How to export connector space objects into SQL server?</a>
</li><li><a href="http://social.technet.microsoft.com/forums/en-US/identitylifecyclemanager/thread/dcd7451a-caa4-4aa8-90e6-f5b056d2558c/">AD not exporting delta updates</a>
</li></ul>

</div>
    
    
