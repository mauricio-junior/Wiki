---
layout: default
title: 'Recriando √çndices (pt-BR) - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup"><p style="font-family:georgia, &#39;times new roman&#39;, &#39;bitstream charter&#39;, times, serif;font-size:13px;line-height:19px;text-align:-webkit-auto;">Script simples para recriar todos os &iacute;ndices de todas as tabelas:</p>
<p style="font-family:georgia, &#39;times new roman&#39;, &#39;bitstream charter&#39;, times, serif;font-size:13px;line-height:19px;text-align:-webkit-auto;">Foi utilizado o comando ALTER INDEX pois o comando DBCC DBREINDEX ser&aacute; retirado nas vers&otilde;es futuras.</p>
<br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#006699;font-weight:bold;">DECLARE</code> <code style="color:#000000;">@Tabela </coass="r4 fiji-r4"></div></div><div class="content-fragment-content">

<div class="full-post-header"></div>
<div class="full-post">
    <h1 class="post-name">Recriando &#205;ndices (pt-BR)</h1>
    

    <div class="post-content user-defined-markup"><p style="font-family:georgia, &#39;times new roman&#39;, &#39;bitstream charter&#39;, times, serif;font-size:13px;line-height:19px;text-align:-webkit-auto;">Script simples para recriar todos os &iacute;ndices de todas as tabelas:</p>
<p style="font-family:georgia, &#39;times new roman&#39;, &#39;bitstream charter&#39;, times, serif;font-size:13px;line-height:19px;text-align:-webkit-auto;">Foi utilizado o comando ALTER INDEX pois o comando DBCC DBREINDEX ser&aacute; retirado nas vers&otilde;es futuras.</p>
<br />
<div class="reCodeBlock" style="border:1px solid #7f9db9;overflow-y:auto;">
<div style="background-color:#ffffff;"><span><code style="color:#006699;font-weight:bold;">DECLARE</code> <code style="cde><code style="color:#006699;font-weight:bold;">varchar</code><code style="color:#000000;">(100)</code></span></div>
<div style="background-color:#f8f8f8;"><span>&nbsp;</span></div>
<div style="background-color:#ffffff;"><span><code style="color:#006699;font-weight:bold;">DECLARE</code> <code style="color:#000000;">CTable </code><code style="color:#006699;font-weight:bold;">CURSOR</code> <code style="color:#006699;font-weight:bold;">FOR</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#006699;font-weight:bold;">SELECT</code> <code style="color:#006699;font-weight:bold;">name</code> <code style="color:#006699;font-weight:bold;">FROM</code> <code style="color:#000000;">sysobjects </code><code style="color:#006699;font-weight:bold;">WHERE</code> <code style="color:#000000;">xtype = </code><code style="color:blue;">&#39;U&#39;</code></span></div>
<div style="background-color:#ffffff;"><span>&nbsp;</span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#006699;font-weight:bold;">OPEN</code> <code style="color:#000000;">CTable</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#006699;font-weight:bold;">FETCH</code> <code style="color:#006699;font-weight:bold;">NEXT</code> <code style="color:#006699;font-weight:bold;">FROM</code> <code style="color:#000000;">CTable </code><code style="color:#006699;font-weight:bold;">INTO</code> <code style="color:#000000;">@Tabela</code></span></div>
<div style="background-color:#f8f8f8;"><span>&nbsp;</span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">WHILE @@FETCH_STATUS = 0</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#006699;font-weight:bold;">BEGIN</code></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#000000;">PRINT </code><code style="color:blue;">&#39;Reconstruindo &Iacute;ndices da tabela &#39;</code> <code style="color:#000000;">+ </code><code style="color:#ff1493;">UPPER</code><code style="color:#000000;">(@Tabela)</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">EXEC</code> <code style="color:#000000;">(</code><code style="color:blue;">&#39;ALTER INDEX ALL ON [&#39;</code> <code style="color:#000000;">+ @Tabela + </code><code style="color:blue;">&#39;] REBUILD&#39;</code><code style="color:#000000;">)</code></span></span></div>
<div style="background-color:#ffffff;"><span><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><span><code style="color:#006699;font-weight:bold;">FETCH</code> <code style="color:#006699;font-weight:bold;">NEXT</code> <code style="color:#006699;font-weight:bold;">FROM</code> <code style="color:#000000;">CTable </code><code style="color:#006699;font-weight:bold;">INTO</code> <code style="color:#000000;">@Tabela</code></span></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#006699;font-weight:bold;">END</code></span></div>
<div style="background-color:#ffffff;"><span>&nbsp;</span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#000000;">PRINT </code><code style="color:blue;">&#39; &#39;</code></span></div>
<div style="background-color:#ffffff;"><span><code style="color:#000000;">PRINT </code><code style="color:blue;">&#39;FIM&#39;</code></span></div>
<div style="background-color:#f8f8f8;"><span>&nbsp;</span></div>
<div style="background-color:#ffffff;"><span><code style="color:#006699;font-weight:bold;">CLOSE</code> <code style="color:#000000;">CTable</code></span></div>
<div style="background-color:#f8f8f8;"><span><code style="color:#006699;font-weight:bold;">DEALLOCATE</code> <code style="color:#000000;">CTable</code></span></div>
</div>
<br />
<br />
<span style="font-size:13px;">Ozimar Henrique<br />
<a href="http://ozimar.com/" target="_blank">http://ozimar.com</a><br />
<br />
</span></div>
    
    
