---
layout: default
title: 'System Stored Procedures for Association Models (Data Mining) - TechNet Articles - United States (English) - TechNet Wiki'
weight: 3
---

<div class="post-content user-defined-markup">

<br />
&nbsp;This article is a continuation of the following article that introduces the system stored procedures for SQL Server Data Mining.<br />
<br />
<span style="color:#00749es="content-fragment-footer"></div>
<div class="content-fragment-bottom fiji-content-fragment-bottom"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div></div></div>
<div class="content-fragment page no-wrapper" id="fragment-6615">
<div class="content-fragment-inner fiji-content-fragment-inner"><div class="content-f;"><a href="http://social.technet.microsoft.com/wiki/contents/articles/7566.a-guide-to-the-undocumented-system-stored-procedures-for-data-mining.aspx">http://social.technet.microsoft.com/wiki/contents/articles/7566.a-guide-to-the-undocumented-system-stored-procedures-for-data-mining.aspx</a><br />
</span><br />
<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Association_Models">Association Models</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#ARGetNodes">ARGetNodes</a></li><li class="hierarchy-item"><a href="#GetItemsets">GetItemsets</a></li><li class="hierarchy-item"><a href="#GetRules">GetRules</a></li><li class="hierarchy-item"><a href="#GetStatistics">GetStatistics</a></li></ul><div class="hierarchy-list-footer"> </div></li></ul><div class="hierarchy-list-footer"> </div></div><br />
<br />
<h2><a name="Association_Models"></a><span style="font-family:verdana;">Association Models</span></h2>
<p><span style="font-family:verdana;font-size:13px;">This section contains stored procedures that can be used with association models only.</span></p>
<h3><a name="ARGetNodes"></a><span style="font-family:verdana;">ARGetNodes</span></h3>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Returns a list of the nodes in an association model that represent single attribute values.
</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Fully qualified procedure name</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">System.Microsoft.AnalysisServices.System.DataMining.AssociationRules.ARGetNodes</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Parameters</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Model name as string</span></em></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Example</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">This example returns all the nodes that represent single attribute values.</span></p>
<p class="Code"><span style="background-color:#eeece1;font-family:&#39;courier new&#39;;font-size:13px;color:#17365d;">CALL System.ARGetNodes (&#39;Associations&#39;)</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Sample results</span></strong></p>
<table width="127%" border="1" cellspacing="0" cellpadding="0" style="border:currentcolor;width:127.38%;border-collapse:collapse;">
<tbody>
<tr>
<td valign="top" style="padding:0in 0.5pt;border:1pt solid black;width:21%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">NODE_UNIQUE_NAME_1</span></p>
</td>
<td valign="top" style="border-width:1pt 1pt 1pt 0px;border-style:solid solid solid none;border-color:black black black #000000;padding:0in 0.5pt;width:18%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">NODE_CAPTION</span></p>
</td>
<td valign="top" style="border-width:1pt 1pt 1pt 0px;border-style:solid solid solid none;border-color:black black black #000000;padding:0in 0.5pt;width:18%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">ATTRIBUTE_NAME</span></p>
</td>
<td valign="top" style="border-width:1pt 1pt 1pt 0px;border-style:solid solid solid none;border-color:black black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">ATTRIBUTE_LONG_NAME</span></p>
</td>
<td valign="top" style="border-width:1pt 1pt 1pt 0px;border-style:solid solid solid none;border-color:black black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">ATTRIBUTE_VALUE</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:21%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">43</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:18%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Region=North America</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:18%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Region</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">&nbsp;&nbsp; </span>
</p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">North America</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:21%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">42</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:18%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Income Group = High</span></p>
</td>
<td valint;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">&nbsp;&nbsp; </span>
</p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNgn="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:18%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Income Group</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">&nbsp;&nbsp; </span>
</p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">High</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:21%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">41</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:18%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Income Group = Moderate</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:18%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Income Group</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">&nbsp;&nbsp; </span>
</p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Moderate</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:21%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">40</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:18%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Sport-100=Existing</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:18%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Sport-100</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">vAssocSeLineItems</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:21.5%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Existing</span></p>
</td>
</tr>
</tbody>
</table>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">&nbsp;</span></p>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Notes</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">An association model always begins by building itemsets of length one—that is, each itemset contains only one item. After that list is complete, the algorithm builds itemsets comprised
 of combinations of itemsets. Hence, if you know the node ID of the itemset that represents the individual attribute value, you can use it to look up related itemsets.</span></p>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">This stored procedure is used by the Microsoft Dependency Network viewer for association models.</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">See also</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">The following article in Books Online describes how itemsets are created.
</span></p>
<p class="DdueNormal"><span class="LinkText" style="text-decoration:underline;font-family:verdana;font-size:13px;color:#0000ff;">Microsoft Association Algorithm Technical Reference</span></p>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">For an example of how to get itemsets that are related to a single item, see
<span class="LinkText" style="text-decoration:underline;color:#0000ff;">Querying an Association Model</span>.<br />
</span></p>
</blockquote>
<h3><a name="GetItemsets"></a><span style="font-family:verdana;">GetItemsets</span></h3>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Returns a sorted and optionally filtered list of the itemsets in the model.</span></p>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Fully qualified procedure name</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">System.Microsoft.AnalysisServices.System.DataMining.AssociationRules.GetItemsets</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Parameters</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Model name as string</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Start index as integer</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">End index as integer</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Sort order as integer</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Minimum itemset size as integer</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Minimum itemset support as integer</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Filter text as string</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Show/hide long name as Boolean</span></em></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Example</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">This example gets a list of the itemsets that contain the word “tube”, that have a minimum of 3 items in the itemset, and that have minimum support of 40. The list of itemsets is sorted
 by ascending support. The rows begin at the top itemset (with the index 0) and ends at the itemset with the index 2, for a total of three itemsets.
</span></p>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">The keyword
<span class="LanguageKeyword"><strong>false</strong></span> indicates that the table name is NOT stripped off; in other words, the long names of the attributes should be returned.</span></p>
<p class="Code"><span style="background-color:#eeece1;font-family:&#39;courier new&#39;;font-size:13px;color:#17365d;">CALL System.GetItemsets(&#39;Associations&#39;, 0, 2, 4, 3, 40, &#39;tube&#39;, True)</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Notes</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Itemsets and rules can be sorted by specifying one of the following sort orders:</span></p>
</blockquote>
<table width="100%" border="1" cellspacing="0" cellpadding="0" style="border:currentcolor;width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td valign="top" style="padding:0in 0.5pt;border:1pt solid black;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Sort order</span></p>
</td>
<td valign="top" style="border-width:1pt 1pt 1pt 0px;border-style:solid solid solid none;border-color:black black black #000000;padding:0in 0.5pt;width:50%;background-color:s(&#39;Associations&#39;, 0, 2, 4, 3, 40, &#39;tube&#39;, True)</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Notes</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class=transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Enumeration value</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Ascending probability</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">0</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Descending probability</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">1</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Ascending lift</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">2</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Descending lift</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">3</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Ascending support</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">4</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Descending support</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">5</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Ascending itemset length</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">6</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Descending itemset length</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">7</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Itemset or rule name A-Z</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">8</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Itemset or rule name Z-A</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">9</span></p>
</td>
</tr>
</tbody>
</table>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">&nbsp;</span></p>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">See also</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">The following article provides more examples of how to work with rules.</span></p>
<p class="DdueNormal"><em><span class="LegacyLink" style="text-decoration:underline;font-family:verdana;font-size:13px;color:#0000ff;">Counting rules and Itemsets</spily:verdana;font-size:13px;">Itemset or rule name Z-A</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">9</span></p>
</td>
</tr>
</tbody>
</table>
<p class="DdueNormal"><span style=an></em></p>
</blockquote>
<h3><a name="GetRules"></a><span style="font-family:verdana;">GetRules</span></h3>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Returns a sorted and optionally filtered list of the rules that are contained in the model.</span></p>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Fully qualified procedure name</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">System.Microsoft.AnalysisServices.System.DataMining.AssociationRules.GetRules</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Parameters</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Model name as string</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Start index as integer</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">End index as integer</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Sort order as integer</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Minimum rule probability as double</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Minimum rule importance as double</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Filter text as string</span></em></p>
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Show/hide long name as Boolean</span></em></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Example</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">This example gets a list of the top six rules that meet these conditions:
</span></p>
<ul>
<li>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Rule contains the word “tube”</span></p>
</li><li>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Minimum probability of .9</span></p>
</li><li>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">Importance score at least 0.54</span><span style="background-color:#eeece1;font-family:&#39;courier new&#39;;font-size:13px;color:#17365d;"></span></p>
</li></ul>
<p class="DdueNormal"><span style="background-color:#eeece1;font-family:&#39;courier new&#39;;font-size:13px;color:#17365d;">System.GetRules(&#39;Associations&#39;, 0, 5, 1, 0.9, 0.54, &#39;tube&#39;, True)</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Notes</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">The list of rules that is returned is sorted by descending probability. For a list of the sort orders that can be applied, see the table in the section for
<span class="LegacyLink"><em><span style="text-decoration:underline;color:#0000ff;">GetItemsets</span></em></span>.</span></p>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">The second and third arguments control the number of rules returned. The list of rules begins with the rule indexed at 0, and ends with rule 5.</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">See also</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">The following article provides more examples of how to work with rules.</span></p>
<p class="DdueNormal"><em><span class="LegacyLink" style="text-decoration:underline;font-family:verdana;font-size:13px;color:#0000ff;">Counting rules and Itemsets</span></em></p>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">The following article describes how you can get predictions that are generated from specific rules, rather than overall probability in the model.</span></p>
<p class="DdueNormal"><em><span class="LegacyLink" style="text-decoration:underline;font-family:verdana;font-size:13px;color:#0000ff;">Returning Associative Predictions Based Solely on Rules<br />
</span></em></p>
</blockquote>
<h3><a name="GetStatistics"></a><span style="font-family:verdana;font-size:18px;color:#808080;">GetStatistics</span></h3>
<p>&nbsp;<span style="font-family:verdana;font-size:13px;">Returns a set of statistics about the association model, including the rules and itemsets found.</span></p>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Fully qualified procedure name</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">System.Microsoft.AnalysisServices.System.DataMining.AssociationRules.GetStatistics
</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Parameters</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><em><span class="ParameterReference" style="font-family:verdana;font-size:13px;">Model name as string</span></em></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Example</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">This example gets the information listed in the following table, for the specified association model. Some of these some values, such as the minimum itemset size, can be set by using algorithm
 parameters.</span></p>
<p class="Code"><span style="background-color:#eeece1;font-family:&#39;courier new&#39;;font-size:13px;color:#17365d;">CALL System.GetStatistics(&#39;Associations&#39;)</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="Bold" style="font-family:verdana;">Sample results</span></strong></p>
<table width="100%" border="1" cellspacing="0" cellpadding="0" style="border:currentcolor;width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td valign="top" style="padding:0in 0.5pt;border:1pt solid black;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">MAX_PAGE_SIZE</span></p>
</td>
<td valign="top" style="border-width:1pt 1pt 1pt 0px;border-style:solid solid solid none;border-color:black black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">2000</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">MIN_SUPPORT</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">14</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">MAX_SUPPORT</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">7320</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">MIN_ITEMSET_SIZE</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">0</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">MAX_ITEMSET_SIZE</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">3</span></p>
</td>
</trround-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">MIN_ITEMSET_SIZE</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:n>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">MIN_RULE_PROBABILITY</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">0.4</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">MAX_RULE_PROBABILITY</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">1</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">MIN_RULE_LIFT</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">0.143325808</span></p>
</td>
</tr>
<tr>
<td valign="top" style="border-width:0px 1pt 1pt;border-style:none solid solid;border-color:#000000 black black;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">MAX_RULE_LIFT</span></p>
</td>
<td valign="top" style="border-width:0px 1pt 1pt 0px;border-style:none solid solid none;border-color:#000000 black black #000000;padding:0in 0.5pt;width:50%;background-color:transparent;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">1.891413556</span></p>
</td>
</tr>
</tbody>
</table>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;"></span>&nbsp;</p>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">Notes</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">The values returned by this stored procedure are used in the Association viewer, to populate the viewer grid and to filter rules and itemsets.</span></p>
</blockquote>
<p class="DefinitionTable"><strong><span class="LabelEmbedded" style="line-height:150%;font-size:10pt;font-family:verdana;">See also</span></strong></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">The following article provides additional tips for working with association models.</span></p>
<p class="DdueNormal"><em><span class="LegacyLink" style="text-decoration:underline;font-family:verdana;font-size:13px;color:#0000ff;">http://www.sqlserverdatamining.com/ssdm/Default.aspx?tabid=102&amp;Id=11</span></em></p>
</blockquote>
<p class="DdueNormal"><span style="font-family:verdana;font-size:13px;">&nbsp;</span></p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/7566.a-guide-to-the-undocumented-system-stored-procedures-for-data-mining.aspx">Return to list of stored procedures for other model types.<br />
</a>

</div>
    
    
