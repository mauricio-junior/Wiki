---
layout: default
title: Behavior Driven Development with BizTalk Server - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Introduction">Introduction</a></li><li class="hierarchy-item"><a href="#What_is_Behaviour_Driven_Development">What is Behavior Driven Development?</a></li><li class="hierarchy-item"><a href="#Bus3 fiji-r3"></div><div class="r4 fiji-r4"></div></div></div></div>
<div class="content-fragment page no-wrapper" id="fragment-6615">
<div class="content-fragment-inner fiji-content-fragment-inner"><div class="content-fragment-top fiji-content-fragment-top"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div><div class="content-fragment-content">

<div class="full-post-header"></div>
<div class="full-post">
    <h1 class="post-name">Behavior Driven Development with BizTalk Server</h1>
    

    <div class="post-content user-defined-markup">

<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Introduction">Introduction</a></li><li class="hiiness_Case">Business Case</a></li><li class="hierarchy-item"><a href="#What_are_some_of_the_Tools_for_BDD_in_the_net_world">What are some of the Tools for BDD in the .net world?</a></li><li class="hierarchy-item"><a href="#How_can_it_be_applied_to_BizTalk">How can it be applied to BizTalk?</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Overview_of_developing_BizTalk_Solutions_with_BDD">[Getting Started] Overview of developing BizTalk Solutions with BDD</a></li><li class="hierarchy-item"><a href="#Developing_Business_Rules_with_BDD">Developing Business Rules with BDD</a></li><li class="hierarchy-item"><a href="#Developing_Maps_with_BDD">Developing Maps with BDD</a></li><li class="hierarchy-item"><a href="#poijnbgt">BizTalk 2006, BizUnit 2 &amp; BDD</a></li><li class="hierarchy-item"><a href="#BizTalk_HL7_Solutions">BizTalk HL7 Solutions</a></li></ul><div class="hierarchy-list-footer"> </div></li><li class="hierarchy-item"><a href="#See_Also">See Also</a></li></ul><div class="hierarchy-list-footer"> </div></div>
<h1><a name="Introduction"></a>Introduction</h1>
<p>This page is intended as a place to help you explore the use of behavior driven development techniques and how it can be applied to BizTalk development.<br />
<br />
While this article focuses on use of this technique for BizTalk solutions, this BDD approach can also be used to develop any solutions that call or expose interfaces.</p>
<h1><a name="What_is_Behaviour_Driven_Development"></a>What is Behavior Driven Development?</h1>
<p>Behavior Driven Development is an agile software development practice that changes the way we do testing as a developer to focus on defining the behavior of software using business language and allowing us to work closely with non-technical people to agree
 the specification for what the software should do.&nbsp; In this process we write features using the standard user story type approach and within that acceptance tests using the Gherkin syntax of Given/When/Then.&nbsp; An example could be:</p>
<p><strong>Feature</strong>: Employee Promotion Rules</p>
<blockquote dir="ltr" style="margin-right:0px;">
<p>In order to manage staff promotions</p>
<p>As a hr manager</p>
<p>I want to be able to calculate if an employee should be promoted or not</p>
</blockquote>
<p><strong>Scenario</strong><span style="font-family:consolas;font-size:13px;">: Level 4 Employee should not be promoted regardless of score</span></p>
<blockquote dir="ltr" style="margin-right:0px;">
<p><span style="font-family:consolas;font-size:13px;color:#0000ff;">Given </span>
<span style="font-family:consolas;font-size:13px;">I have an employee called Joe</span><span style="font-family:consolas;font-size:13px;">&nbsp;</span></p>
<p><span style="font-family:consolas;font-size:13px;color:#0000ff;">And </span><span style="font-family:consolas;font-size:13px;">the employees current level is Level 4</span></p>
<p><span style="font-family:consolas;font-size:13px;color:#0000ff;">And </span><span style="font-family:consolas;font-size:13px;">the employees current performance is 100</span></p>
<p><span style="font-family:consolas;font-size:13px;color:#0000ff;">When </span>
<span style="font-family:consolas;font-size:13px;">The employees appraisal is evaluated by the promotion rules</span></p>
<p><span style="font-family:consolas;font-size:13px;color:#0000ff;">Then </span>
<span style="font-family:consolas;font-size:13px;">the employees appraisal score should be 100</span></p>
<p dir="ltr"><span style="font-family:consolas;font-size:13px;color:#0000ff;">And
</span><span style="font-family:consolas;font-size:13px;">the employee should not be recommended for promotion<br />
</span></p>
</blockquote>
<p>BDD is not a replacement for test driven development but should enhance it to give you a number of significant additional benefits.<br />
<br />
For more background on BDD please refer to <a target="_blank" href="http://en.wikipedia.org/wiki/Behavior-driven_development">
Wikipedia</a>.</p>
<h1><a name="Business_Case"></a>Business Case</h1>
<p>Justifications as to why we should adopt BDD and stubbing in integration and interface solutions is documented here:</p>
<ul>
<li><a href="http://geekswithblogs.net/charliemott/archive/2012/06/05/business-case-for-investing-time-developing-stubs-and-bizunit-tests.aspx">http://geekswithblogs.net/charliemott/archive/2012/06/05/business-case-for-investing-time-developing-stubs-and-bizunit-tests.aspx</a>&nbsp;
</li></ul>
<h1><a name="What_are_some_of_the_Tools_for_BDD_in_the_net_world"></a>What are some of the Tools for BDD in the .net world?</h1>
<p>In the .net world there are a number of tools available to help you implement BDD they are listed below:&nbsp;</p>
<ul>
<li><a href="http://specflow.org/" target="_blank">Specflow</a> </li><li><a href="https://github.com/machine/machine.specifications" target="_blank">MSpec</a>
</li><li><a href="http://nbehave.org/" target="_blank">NBehave</a> </li></ul>
In most of the articles we have written for BizTalk and BDD we have used Specflow but the principles are equally transferable to other implementations.<br />
<h1><a name="How_can_it_be_applied_to_BizTalk"></a>How can it be applied to BizTalk?</h1>
<p>Below are a number of different resources showing how BDD can be applied to different aspects of BizTalk development.&nbsp;</p>
<h2><a name="Overview_of_developing_BizTalk_Solutions_with_BDD"></a>[Getting Started] Overview of developing BizTalk Solutions with BDD</h2>
<p>Michael Stephenson has produced videos with example code. &nbsp;These are available via CodePlex
<a href="http://biztalkbddsample.codeplex.com/">http://biztalkbddsample.codeplex.com</a>.&nbsp;</p>
<ul>
<li><span style="font-size:12.1px;">The 1st video&nbsp;</span><span style="font-size:12.1px;">outlines what behavior driven development is and how it can help BizTalk developers. &nbsp;</span>
</li><li><span style="font-size:12.1px;">The 2nd video he walks through a practical example of using the technique.</span>
</li></ul>
<div>Another video is available here with a few more lessons learnt from the field:&nbsp;<a href="http://www.integrationusergroup.com/behaviour-driven-integration-development">http://www.integrationusergroup.com/behaviour-driven-integration-development</a><br />
<br />
</div>
<h2><a name="Developing_Business_Rules_with_BDD"></a>Developing Business Rules with BDD</h2>
<p>This article talks about how to use BDD techniques to develop BizTalk Business Rules.</p>
<ul>
<li><span style="font-size:12.1px;"><a href="http://geekswithblogs.net/michaelstephenson/archive/2012/07/13/150226.aspx" target="_blank" style="font-size:12.1px;">http://geekswithblogs.net/michaelstephenson/archive/2012/07/13/150226.aspx</a></span>
</li></ul>
<h2><a name="Developing_Maps_with_BDD"></a>Developing Maps with BDD</h2>
<p>This article talks about how to use Specflow to help develop and test maps.</p>
<ul>
<li><span style="font-size:12.1px;"><a href="http://geekswithblogs.net/michaelstephenson/archive/2012/07/13/150230.asp is available here with a few more lessons learnt from the field:&nbsp;<a href="http://www.integrationusergroup.com/behaviour-driven-integration-development">http://www.integrationusergroup.com/behaviour-driven-integration-development</a><br />
<br />
</div>
<h2><a name="Developing_Business_Rules_with_BDD"></a>Developing Business Rules with BDD</h2>
<p>This article talks about how to use BDD techniques to develop BizTalk Business Rules.</p>
<ul>
<li><span style="font-size:12.1px;"><a href="http://geekswithblogs.net/michaelstephenson/archive/2012/07/13/150226.aspx" target="_blank" style="font-size:12.1px;">http://geekswithblogs.net/michaelstephenson/archive/2012/07/13/150226.aspx</a></span>
</li></ul>
<h2><a name="Developing_Maps_with_BDD"></a>Developing Maps with BDD</h2>
<p>This article talks about how to use Specflow to help develop andx" target="_blank" style="font-size:12.1px;">http://geekswithblogs.net/michaelstephenson/archive/2012/07/13/150230.aspx</a></span>
</li></ul>
<p>Andy Davis has also written an article about using a specification base class to help you test maps using BDD techniques also.&nbsp; This article is particularly useful to demonstrate a quick way to test individual field mappings</p>
<ul>
<li><span style="font-size:12.1px;"><a href="http://www.andy-davis.co.uk/?p=264" target="_blank" style="font-size:12.1px;">http://www.andy-davis.co.uk/?p=264</a></span>
</li></ul>
<p>The techniques in both articles could also be combined together to create a powerful approach suited to anything from a simple map to a very complicated one which would also benefit from the documentation that specflow would offer.</p>
<h2><a name="poijnbgt"></a>BizTalk 2006, BizUnit 2 &amp; BDD</h2>
<p>In this article it discusses how people using older versions of BizTalk where Specflow may not be supported in your version of Visual Studio can use a different technique with BizUnit 2 to still achieve the same end results of having a BDD approach to acceptance
 testing.</p>
<ul>
<li><a href="http://geekswithblogs.net/michaelstephenson/archive/2011/11/04/147577.aspx" style="font-size:12.1px;">http://geekswithblogs.net/michaelstephenson/archive/2011/11/04/147577.aspx</a>
</li></ul>
<p>As a follow on from the article about using a style of implementation of BDD with BizUnit 2 for BizTalk 2006 R2 implementations the below article shows how you can use MSBuild to generate documentation from your test cases so you get a similar output from
 your build process where you have nice feature documentation for all of your acceptance tests.</p>
<ul>
<li><a href="http://geekswithblogs.net/michaelstephenson/archive/2011/12/01/147911.aspx" style="font-size:12.1px;">http://geekswithblogs.net/michaelstephenson/archive/2011/12/01/147911.aspx</a>
</li></ul>
<h2><a name="BizTalk_HL7_Solutions"></a>BizTalk HL7 Solutions</h2>
<br />
The video on the below link shows the use of an open source framework Michael Stephenson has developed to help stub out HL7 applications which use MLLP and then the video demonstrates how this can be integrated into BDD style development using Specflow acceptance
 testing.<br />
acceptance testing <br />
<br />
<script src="https://i1.social.s-msft.com/wiki/rrcontent/18839adc85fee1b0971fa3728f8f3979-b1af1b7835ad549c70d465c5efb07b5e-RequestReducedScript.js" type="text/javascript" ></script><div id="video_4b4b8b5c-5ef4-4e78-83f2-85b8b108d543"><noscript><embed src="https://www.youtube.com/v/DivfVafMqmM?fs=1&amp;rel=0" type="application/x-shockwave-flash" wmode="transparent" width="550" height="330" allowfullscreen="true"></embed></noscript></div><script type="text/javascript">
cs_setInnerHtml('video_4b4b8b5c-5ef4-4e78-83f2-85b8b108d543','<embed src=\"https:\/\/www.youtube.com\/v\/DivfVafMqmM?fs=1&amp;rel=0\" type=\"application\/x-shockwave-flash\" wmode=\"transparent\" width=\"550\" height=\"330\" allowfullscreen=\"true\"><\/embed>');
</script><br />
<div style="text-align:center;"></div>
<br />
The project with the HL7 component for testing is available on the following codeplex site:<br />
<ul>
<li><span style="font-size:12.1px;"><a href="https://appfxhl7testing.codeplex.com/" target="_blank" style="font-size:12.1px;">https://appfxhl7testing.codeplex.com/</a></span>
</li></ul>
<h1><a name="See_Also"></a>See Also</h1>
<p>Another important place to find a huge amount of BizTalk related articles is the TechNet Wiki itself. The best entry point is
<a target="_blank" href="http://social.technet.microsoft.com/wiki/contents/articles/2240.biztalk-server-resources-on-the-technet-wiki.aspx">
BizTalk Server Resources on the TechNet Wiki</a>.</p>

</div>
    
    