---
layout: default
title: Troubleshoot Operational Issues in Data Quality Services (DQS) - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<p>This article contains information about the issues that you might encounter while using Data Quality Services (DQS), and how to resolve them. Please let us know if you encounter any other issues (not documented here) while using DQS by posting it on
<a href="http://social.msdn.microsoft.com/Forums/en-US/sqldataqualityservices/" target="_blank">
Data Quality Services MSDN Forum</a>. <br />
<br />
If you want to contribute to this article, use the <strong>Edit</strong> tab at the top (require sign-in). This article will be updated as and when we come across new issues, or resolve existing issues.</p>
<p>While working with DQS, you might encounter any of the following issues:</p>
<ul>
<li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#CannotConnectDQSServer">Unable to connect to Data Quality Server</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#CannotConnectDQSServerCumulativePatch">Unable to connect to Data Quality Server after installing cumulative
 update or patch</a> </li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#CannotConnectDQSServerAttachDB">Unable to connect to Data Quality Server after attaching the DQS databases</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#CannotConnectDOTNETUpdates">Unable to connect to Data Quality Server after installing .NET Framework Updates</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#ErrorContextDQSession">Error: The context.DQSession argument cannot be null</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#OptionsGrayedOut">All options are unavailable/dimmed in Data Quality Client</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DBNotAvailable">Source/destination database is not available in&nbsp;Data Quality Client&nbsp;for DQS operations</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#ActivitiesUnavailableForKB">Some activities are unavailable for a knowledge base</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSCleansingComponent">Limitation with cleansing data columns of NVARCHAR(MAX) and VARCHAR(MAX) data types in
 the DQS Cleansing component in Integration Services</a> </li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSHeartbeatException">Error when Data Quality Client is left idle for an extended period</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSSpecialDataTypeException">Error during mapping in Data Quality Client when source data table contains columns
 of certain data types</a> </li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSExcel64BitError">Error while exporting the results during the cleansing or matching activity to an Excel
 sheet</a> </li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSCleansingComponentError">Error while running an SSIS package containing a DQS Cleansing component</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSCleansingComponentErrorAnotherServer">Error while running an SSIS package containing a DQS Cleansing component
 targeting another Data Quality Server</a> </li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSCleansingNoKBs">Can&#39;t see any knowledge bases in the drop-down list of the DQS Cleansing connection manager
 in SSIS</a> </li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSCleansingEditDeleteKB">Error: The attempt to update or delete a DAO object of type &#39;AKnowledgebase&#39; with
 id <em>&lt;ID&gt;</em> has failed because the object is not up to date or is being deleted from the database</a>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSCleansingEditDeleteKB">
</a></li></ul>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSCleansingEditDeleteKB">
<hr />
</a>
<h1><a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#DQSCleansingEditDeleteKB"></a><a name="CannotConnectDQSServer">Unable to connect to Data Quality Server</a></h1>
<p>If you try to connect to a&nbsp;Data Quality Server&nbsp;by using Data Quality Client, you receive the following error message:</p>
<p><span style="font-family:&#39;courier new&#39;;font-size:11px;">“Cannot connect to the
<em>&lt;DataQualityServer_Name&gt;</em>”<br />
Message Id: LogOnWindowFailedToConnect</span></p>
<p>This occurs if any of the following three is true:</p>
<ul>
<li>You have not completed the&nbsp;Data Quality Server installation by running the DQSInstaller.exe after completing the SQL Server setup. The following is displayed in the error message details:<br />
<br />
<span style="font-family:&#39;courier new&#39;;font-size:11px;">“Cannot open database &quot;DQS_MAIN&quot; requested by the login. The login failed. Login failed for user.”</span><br />
<br />
To fix this issue, complete the&nbsp;Data Quality Server installation, and then connect to the&nbsp;Data Quality Server using the Data Quality Client. For more information, see
<a href="http://msdn.microsoft.com/en-us/library/hh231682%28SQL.110%29.aspx">Run DQSInstaller.exe to Complete Data Quality Server&nbsp;Installation</a>.
</li><li>Data Quality Server&nbsp;is installed in a named instance, and you have not specified the SQL Server instance name along with computer name in the
<strong>Connect to Server</strong> dialog box in the Data Quality Client application, or have specified an incorrect instance name. As with database engine in SQL Server, multiple instances of&nbsp;Data Quality Server can be installed on a single computer, one per
 database engine instance. The following is displayed in the error message details:<br />
<br />
<span style="font-family:&#39;courier new&#39;;font-size:11px;">“A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessllation, and then connect to the&nbsp;Data Quality Server using the Data Quality Client. For more information, see
<a href="http://msdn.microsoft.com/en-us/library/hh231682%28SQL.110%29.aspx">Run DQSInstaller.exe to Complete Data Quality Server&nbsp;Installation</a>.
</li><li>Data Quality Server&nbsp;is installed in a named instance,ible. Verify that the instance name is correct and that SQL
 Server is configured to allow remote connections.”</span><br />
<br />
To fix this issue, specify the correct instance name along with the computer name to connect to. For example: “(LOCAL)\<em>&lt;Instance_Name&gt;</em>” if&nbsp;Data Quality Server is on the same computer, and “<em>&lt;Computer_Name&gt;</em>\<em>&lt;Instance_Name&gt;</em>” if&nbsp;Data
 Quality Server is on remote computer. </li><li>Data Quality Server&nbsp;is installed on remote computer, and the TCP/IP protocol is not enabled for the SQL Server instance on the remote computer where&nbsp;Data Quality Server is installed. The following is displayed in the error message details:<br />
<br />
<span style="font-family:&#39;courier new&#39;;font-size:11px;">“A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL
 Server is configured to allow remote connections.”</span><br />
<br />
<strong>To fix this issue</strong>, enable the TCP/IP protocol for the SQL Server instance on the remote computer where&nbsp;Data Quality Server is installed, and then connect to the server using the Data Quality Client application. For more information, see
<a href="http://msdn.microsoft.com/en-us/library/hh231672%28SQL.110%29.aspx">Enable TCP/IP Network Protocol for SQL Server</a>.
</li></ul>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="CannotConnectDQSServerCumulativePatch">Unable to connect to Data Quality Server after installing cumulative update or patch</a></h1>
<p>If you installed a cumulative update or patch to update DQS, you might receive the following error while trying to connect to Data Quality Server using your Data Quality Client:</p>
<table cellspacing="0" cellpadding="0" style="width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td style="padding-left:5px;font-family:consolas,&#39;lucida console&#39;,&#39;courier new&#39;,courier,monospace;">
SQL Server Data Quality Services<br />
--------------------------------------------------------------------------------<br />
Message Id: LogOnWindowFailedToConnect<br />
Cannot connect to (LOCAL).<br />
--------------------------------------------------------------------------------<br />
An error occurred in the Microsoft .NET Framework while trying to load assembly id 65581. The server may be running out of resources, or the assembly may not be trusted with PERMISSION_SET = EXTERNAL_ACCESS or UNSAFE. Run the query again, or check documentation
 to see how to solve the assembly trust issues. For more information about this error:<br />
System.IO.FileLoadException: Could not load file or assembly &#39;microsoft.ssdqs, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91&#39; or one of its dependencies. Assembly in host store has a different signature than assembly in GAC. (Exception
 from HRESULT: 0x80131050) See Microsoft Knowledge Base article 949080 for more information.<br />
System.IO.FileLoadException:<br />
at System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark&amp; stackMark, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)<br />
at System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, StackCrawlMark&amp; stackMark, Boolean forIntrospection, Boolean suppressSecurityChecks)<br />
at System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark&amp; stackMark, Boolean forIntrospection)<br />
at System.Reflection.Assembly.Load(String assemblyString) </td>
</tr>
</tbody>
</table>
<p><strong>To fix this issue</strong>, follow the instructions available at <a class="ExistingPageLink" href="/wiki/contents/articles/8442.upgrade-dqs-installing-cumulative-updates-or-hotfix-patches-on-data-quality-services.aspx" title="Click to view the page titled: Upgrade DQS: Installing Cumulative Updates or Hotfix Patches on Data Quality Services (en-US)">Upgrade DQS: Installing Cumulative Updates or Hotfix Patches on Data Quality Services (en-US)</a>.</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="CannotConnectDQSServerAttachDB">Unable to connect to Data Quality Server after attaching the DQS databases</a></h1>
<p>After attaching the DQS databases to the same or a different SQL Server instance containing Data Quality Server, you might receive the following error while trying to connect to Data Quality Server on the particular server using your Data Quality Client:</p>
<table cellspacing="0" cellpadding="0" style="width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td style="padding-left:5px;font-family:consolas,&#39;lucida console&#39;,&#39;courier new&#39;,courier,monospace;">
SQL Server Data Quality Services<br />
--------------------------------------------------------------------------------<br />
Message Id: LogOnWindowFailedToConnect<br />
Cannot connect to (LOCAL).<br />
--------------------------------------------------------------------------------<br />
An error occurred in the Microsoft .NET Framework while trying to load assembly id 65627. The server may be running out of resources, or the assembly may not be trusted with PERMISSION_SET = EXTERNAL_ACCESS or UNSAFE. Run the query again, or check documentation
 to see how to solve the assembly trust issues. For more information about this error:<br />
System.IO.FileLoadException: Could not load file or assembly &#39;microsoft.ssdqs, Version=11.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91&#39; or one of its dependencies. An error relating to security occurred. (Exception from HRESULT: 0x8013150A)<br />
System.IO.FileLoadException:<br />
at System.Reflection.RuntimeAssembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, RuntimeAssembly locationHint, StackCrawlMark&amp; stackMark, Boolean throwOnFileNotFound, Boolean forIntrospection, Boolean suppressSecurityChecks)<br />
at System.Reflection.RuntimeAssembly.InternalLoadAssemblyName(AssemblyName assemblyRef, Evidence assemblySecurity, StackCrawlMark&amp; stackMark, Boolean forIntrospection, Boolean suppressSecurityChecks)<br />
at System.Reflection.RuntimeAssembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark&amp; stackMark, Boolean forIntrospection)<br />
at System.Reflection.Assembly.Load(String assemblyString) </td>
</tr>
</tbody>
</table>
<p><strong>To fix this issue</strong>, you must run some Transact-SQL statements after attaching the DQS databases. To do so:</p>
<ol>
<li>Using SQL Server Management Studio, connect to the SQL Server instance where you attached the DQS databases.
</li><li>In Object Explorer, right-click the server, and then click <strong>New Query</strong>.
</li><li>In the Query Editor window, copy the following SQL statements:<br />
<span style="font-family:&#39;courier new&#39;;font-size:11px;">ALTER DATABASE [DQS_MAIN] SET TRUSTWORTHY ON;<br />
EXEC sp_configure &#39;clr enabled&#39;, 1;<br />
RECONFIGURE WITH OVERRIDE<br />
ALTER DATABASE [DQS_MAIN] SET ENABLE_BROKER<br />
ALTER AUTHORIZATION ON DATABASE::[DQS_MAIN] TO [##MS_dqs_db_owner_login##]<br />
ALTER AUTHORIZATION ON DATABASE::[DQS_PROJECTS] TO [##MS_dqs_db_owner_login##]<br />
</span></li><li>Press F5 to execute the statements. Check the Results pane to verify that the statements have executed successfully. You will see the following message:
<span style="font-family:&#39;courier new&#39;;font-size:11px;">Configuration option &#39;clr enabled&#39; changed from 1 to 1. Run the RECONFIGURE statement to install</span>.
</li><li>Connect to the Data Quality Server using the Data Quality Client to verify if you can connect successfully.
</li></ol>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="CannotConnectDOTNETUpdates">Unable to connect to Data Quality Server after installing .NET Framework Updates</a></h1>
<p>After installing .NET Framework updates on your Data Quality Server computer, you might receive any of the following thr/>
ALTER AUTHORIZATION ON DATABASE::[DQS_PROJECTS] TO [##MS_dqs_db_owner_login##]<br />
</span></li><li>Press F5 to execute the statements. Check the Results pane to verify that the statements have executed successfully. You will see the following message:
<span style="font-family:&#39;courier new&#ee errors while trying to connect to Data Quality Server&nbsp;using your Data Quality Client:</p>
<ul>
<li><span style="font-family:&#39;courier new&#39;;font-size:11px;">&quot;A new version of .NET was installed on this machine. In order to continue to work with DQS please run dqsinstaller.exe –upgradedlls.&quot;</span>
</li><li><span style="font-family:&#39;courier new&#39;;font-size:11px;">&quot;A .NET Framework error occurred during execution of user-defined routine or aggregate.&quot;<br />
&quot;SetDataQualitySessionPhaseTwo&quot;</span> </li><li><span style="font-family:&#39;courier new&#39;;font-size:11px;">&quot;Execution of the Init DQ Server stored procedure failed.&quot;</span>
</li></ul>
<p><strong>To fix this issue</strong>, you must run <span style="font-family:&#39;courier new&#39;;font-size:11px;">
<strong>dqsinstaller.exe</strong></span> at the command prompt with the <span style="font-family:&#39;courier new&#39;;font-size:11px;">
<strong>-upgradedlls</strong></span> command line parameter. For detailed information, see
<a href="http://msdn.microsoft.com/library/hh479773.aspx" target="_blank">Upgrade SQLCLR Assemblies After .NET Framework Update</a>.</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="ErrorContextDQSession">Error: The context.DQSession argument cannot be null</a></h1>
<p>When you try to connect to a&nbsp;Data Quality Server using the Data Quality Client application, you might receive the following error:</p>
<p><span style="font-family:&#39;courier new&#39;;font-size:11px;">“The context.DQSession argument cannot be null.&quot;<br />
Message Id: InfArgumentCannotBeNull</span></p>
<p><strong>To fix this issue</strong>:</p>
<ol>
<li>Restart the SQL Server service for the instance where&nbsp;Data Quality Server is installed.
</li><li>Connect to the&nbsp;Data Quality Server using the Data Quality Client application.
</li></ol>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="OptionsGrayedOut">All options are unavailable/dimmed in Data Quality Client</a></h1>
<p>When you log on to the Data Quality Client application, all the options in the&nbsp;<a href="http://msdn.microsoft.com/en-us/library/gg524810%28SQL.110%29.aspx">Data Quality Client home screen</a> are unavailable/dimmed.<br />
<br />
<strong>To fix this issue</strong>, ensure that&nbsp;the user account with which you logged on to the Data Quality Client is assigned one of the three&nbsp;dqs roles (dqs_administrator, dqs_kb_editor, and dqs_kb_operator) on the DQS_MAIN database. For information about
 doing so, see <a href="http://msdn.microsoft.com/en-us/library/gg492283%28SQL.110%29.aspx">
Grant DQS Roles to Users</a>.</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="DBNotAvailable">Source/destination database is not available in&nbsp;Data Quality Client&nbsp;for DQS operations</a></h1>
<p>Your source/destination database will not be available in the DQS client for any of the DQS operations (knowledge discovery, cleansing, matching, and data export) if the source/destination database is not in the same SQL Server instance as the Data Quality
 Server. <br />
<br />
<strong>To fix this issue</strong>, ensure that your source/destination database is in the same SQL Server instance as the&nbsp;Data Quality Server&nbsp;you are connected to.</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="ActivitiesUnavailableForKB">Some activities are unavailable for a knowledge base</a></h1>
<p>While opening a knowledge base in the <strong>Open knowledge base</strong> screen to perform some activity, you might notice that only a single activity out of the three activities (<strong>Domain Management</strong>,
<strong>Knowledge Discovery</strong>, and <strong>Matching Policy</strong>) is available. This happens because the knowledge base is in the middle of an activity, and you can continue with only that activity on that knowledge base. The
<strong>State</strong> field displays the granular level of the activity that is currently active for the knowledge base. Even if you unlock the knowledge base, other activities are still not available, and you have to continue with the currently active activity.</p>
<p>To perform any other activity on the knowledge base, you can do either of the following:</p>
<ul>
<li>Open the knowledge base, complete the current activity, and then publish it. </li><li>Open the knowledge base, and click <strong>Cancel</strong> to end current activity. If you do this, all your work on the knowledge base pertaining to the current activity will be lost.
</li></ul>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="DQSCleansingComponent">Limitation with cleansing data columns of NVARCHAR(MAX) and VARCHAR(MAX) data types in the DQS Cleansing component in Integration Services</a></h1>
<p>Data columns of the NVARCHAR(MAX) and VARCHAR(MAX) data types are not supported in the DQS Cleansing component in Integration Services. As such, these data columns are unavailable for mapping in the
<strong>Mapping</strong> tab of DQS Cleansing Transformation Editor, and hence cannot be cleansed.</p>
<p><strong>To fix this issue</strong>, before processing these data columns using the DQS Cleansing component, you must convert them to DT_STR or DT_WSTR data type using the Data Conversion transform.</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="DQSHeartbeatException">Error when Data Quality Client is left idle for an extended period</a></h1>
<p>The following error might appear if the Data Quality Client application is left idle for an extended period of time:</p>
<table cellspacing="0" cellpadding="0" style="width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td style="padding-left:5px;font-family:consolas,&#39;lucida console&#39;,&#39;courier new&#39;,courier,monospace;">
SQL Server Data Quality Services<br />
--------------------------------------------------------------------------------<br />
Message Id: ApplicationUnhandledException<br />
An unhandled exception has occurred. For more details, see the Data Quality Services client log.<br />
--------------------------------------------------------------------------------<br />
System.Data.SqlClient.SqlException (0x80131904): Timeout expired. The timeout period elapsed prior to completion of the operation or the server is not responding.<br />
at Microsoft.Ssdqs.Studio.ViewModels.Data.Common.HeartbeatDispatcher.Dispatch(Object data)<br />
at Microsoft.Ssdqs.Studio.ViewModels.Data.Common.DispatcherBase.&lt;&gt;c__DisplayClass2. b__1()<br />
at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback, Object args, Int32 numArgs)<br />
at MS.Internal.Threading.ExceptionFilterHelper.TryCatchWhen(Obly:consolas,&#39;lucida console&#39;,&#39;courier new&#39;,courier,monospace;">
SQL Server Data Quality Services<br />
--------------------------------------------------------------------------------<br />
Message Id: ApplicationUnhandledException<br />
An unhandled exception has occurred. For more details, see the Data Quality Services client log.<br />
-----------------------------------------------------------------ject source, Delegate method, Object args, Int32 numArgs, Delegate catchHandler)
</td>
</tr>
</tbody>
</table>
<p>This however does not lead to loss of work. Click <strong>OK</strong> in the error message to close it, and continue with your work. If Data Quality Client does not respond after closing the error message, restart your Data Quality Client application.</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="DQSSpecialDataTypeException">Error during mapping in Data Quality Client when source data table contains columns of certain data types</a></h1>
<p>The following error might appear when you click <strong>Next</strong> in the Map stage of the knowledge discovery, data cleansing, or data matching activities:</p>
<table cellspacing="0" cellpadding="0" style="width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td style="padding-left:5px;font-family:consolas,&#39;lucida console&#39;,&#39;courier new&#39;,courier,monospace;">
SQL Server Data Quality Services<br />
--------------------------------------------------------------------------------<br />
Message Id: DataServiceDataSourceTableNotFound<br />
The data source table with id &#39;[<em>&lt;DATABASE_NAME&gt;</em>].[<em>&lt;SCHEMA_NAME&gt;</em>].[<em>&lt;TABLE_NAME&gt;</em>]&#39; was not found
<br />
while adding to the repository. Check whether the table is accessible by DQS.<br />
--------------------------------------------------------------------------------<br />
Microsoft.Ssdqs.Infra.Exceptions.EntryPointException: The data source table with id &#39;[<em>&lt;DATABASE_NAME&gt;</em>].[<em>&lt;SCHEMA_NAME&gt;</em>].[<em>&lt;TABLE_NAME&gt;</em>]&#39; was not found while adding to the repository. Check whether the table is accessible by DQS.<br />
at Microsoft.Ssdqs.Proxy.Database.DBAccessClient.Exec()<br />
at Microsoft.Ssdqs.Proxy.EntryPoint.MetadataManagementEntryPointClient.DataSourceMappingCreate(DataSourceMapping dataSourceMapping)<br />
at Microsoft.Ssdqs.Studio.ViewModels.Data.DataSources.DataSourceMappingProvider.SaveDataSourceMapping(DataSourceMapping dataSourceMapping)<br />
at Microsoft.Ssdqs.Studio.ViewModels.ViewModels.Common.DataSourceMappingsViewModel.SaveDataSourceMapping()<br />
</td>
</tr>
</tbody>
</table>
<p>This error occurs because your source table contains columns of certain data types such as
<a href="http://msdn.microsoft.com/en-us/library/cc280766.aspx">geography</a>, <a href="http://msdn.microsoft.com/en-us/library/cc280487.aspx">
geometry</a>, <a href="http://msdn.microsoft.com/en-us/library/ms187993.aspx">image</a>, and
<a href="http://msdn.microsoft.com/en-us/library/bb677290.aspx">hierarchyid</a>. <br />
<br />
<strong>Options to&nbsp;fix this issue</strong>; <br />
1. Remove the columns of these data types from your source table, and map your source table columns again with DQS domains&nbsp;in the Data Quality Client application.<br />
2. Import the data into an Excel spreadsheet and use DQS to analyze the data from there.&nbsp; Note that if you insert the data from a database source, you may find that DQS analyzes the empty rows if the complete spreadsheet has a linked datasource e.g. SQL table.&nbsp;
 This will cause the task to take much longer than required, so save the file without the linked data by copying the data to a new file and saving.
</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="DQSExcel64BitError">Error while exporting the results during the cleansing or matching activity to an Excel sheet</a></h1>
<p>The following error message might appear while exporting the cleansed data to an Excel file during the cleansing activity:</p>
<table cellspacing="0" cellpadding="0" style="width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td style="padding-left:5px;font-family:consolas,&#39;lucida console&#39;,&#39;courier new&#39;,courier,monospace;">
File download failed. Check that the export destination file does not already exist.
</td>
</tr>
</tbody>
</table>
<p>Similarly, on exporting the matching data to an Excel file during the matching activity, the following error message might appear:
</p>
<table cellspacing="0" cellpadding="0" style="width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td style="padding-left:5px;font-family:consolas,&#39;lucida console&#39;,&#39;courier new&#39;,courier,monospace;">
SQL Server Data Quality Services<br />
--------------------------------------------------------------------------------<br />
Message Id: ExcelFileSheetReaderError<br />
Failed reading data from excel sheet: &#39;Sheet1&#39;<br />
--------------------------------------------------------------------------------<br />
Microsoft.Ssdqs.Infra.Utilities.Excel.ExcelFileException: Failed reading data from excel sheet: &#39;Sheet1&#39; ---&gt; System.InvalidOperationException: The &#39;Microsoft.ACE.OLEDB.12.0&#39; provider is not registered on the local machine.<br />
at System.Data.OleDb.OleDbServicesWrapper.GetDataSource(OleDbConnectionString constr, DataSourceWrapper&amp; datasrcWrapper)<br />
at System.Data.OleDb.OleDbConnectionInternal..ctor(OleDbConnectionString constr, OleDbConnection connection)<br />
at System.Data.OleDb.OleDbConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningObject)<br />
at System.Data.ProviderBase.DbConnectionFactory.CreateNonPooledConnection(DbConnection owningConnection, DbConnectionPoolGroup poolGroup)<br />
at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)<br />
at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)<br />
at System.Data.OleDb.OleDbConnection.Open()<br />
at Microsoft.Ssdqs.Infra.Utilities.Excel.ExcelOleDBFileSheetBase..ctor(String connectionString, String sheetName, ExcelFileType fileType, Boolean columnNamesInFirstRow)<br />
--- End of inner exception stack trace ---<br />
at Microsoft.Ssdqs.Infra.Utilities.Excel.ExcelOleDBFileSheetBase..ctor(String connectionString, String sheetName, ExcelFileType fileType, Boolean columnNamesInFirstRow)<br />
at Microsoft.Ssdqs.Infra.Utilities.Excel.ExcelFileSheetWriter..ctor(String connectionString, String sheetName, ExcelFileType fileType, IEnumerable`1 headerFields)<br />
at Microsoft.Ssdqs.Infra.Utilities.Excel.ExcelFileWriter.GetSheetWriter(String sheetName, IEnumerable`1 headerFields)<br />
at Microsoft.Ssdqs.Studio.ViewModels.ViewModels.Common.ExportExcelFileProgressDialogViewModel.ExportExcelFile(String exportProcessId, String downloadedFilePath, Int32 itemNumber, Int32 numberOfItems, BaseKnowledgebase knowledgebase)<br />
at Microsoft.Ssdqs.Studio.ViewModels.ViewModels.Matching.MatchingFileExportProgressViewModel.DoExportWork()<br />
at Microsoft.Ssdqs.Studio.ViewModels.ViewModels.Common.ExportExcelFileProgressDialogViewModel.ExecutionThreadMethod()
</td>
</tr>
</tbody>
</table>
<p>This error occurs because DQS does not allow&nbsp;export of the&nbsp;cleansing or matching results to an Excel file if you are using 64-bit version of Excel. You can export the results only to a SQL Server database or to a .csv file.<br />
<br />
<strong>To workaround this issue</strong>, export the results to a SQL Server database or to a .csv file if you are using 64-bit version of Excel.</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="DQSCleansingComponentError">Error while running an SSIS package containing a DQS Cleansing component</a></h1>
<p>One of the following two error messages might&nbsp;appear while running a SSIS package that contains a DQS Cleansing component:<br />
<br />
<strong>ERROR MESSAGE 1:</strong></p>
<table cellspacing="0" cellpadding="0" style="width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td style="padding-left:5px;font-family:consolas,&#39;lucida console&#39;,&#39;courier new&#39;,courier,monospace;">
Microsoft.Ssdqs.Infra.Exceptions.EntryPointException: A fatal error occurred when trying to execute the service.<br />
at Microsoft.Ssdqs.Proxy.Database.DBAccessClient.Exec()<br />
at Microsoft.Ssdqs.Proxy.EntryPoint.KnowledgebaseManagementEntryPointClient.KnowledgebaseStartBatchActivity(Int64 knowledgebaseId, String activityIdentifier)<br />
at Microsoft.Ssdqs.Component.DataCorrection.Logic.DataCorrectionComponent.PreExecute()<br />
at Microsoft.SqlServer.Dts.Pipeline.ManagedComponentHost.HostPreExecute(IDTSManagedComponentWrapper100 wrapper)
</td>
</tr>
</tbody>
</table>
<p><strong>ERROR MESSAGE 2</strong>: </p>
<table cellspacing="0" cellpadding="0" style="width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td style="padding-left:5px;font-family:consolas,&#39;lucida console&#39;,&#39;courier new&#39;,courier,monospace;">
Microsoft.Ssdqs.Core.Context.ResponseException: A fatal error occurred when trying to execute the service. ---&gt; System.Data.SqlClient.SqlException: String or binary data would be truncated.;<br />
at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection);<br />
at System.Data.SqlClient.SqlDataReaderSmi.InternalRead(Boolean ignoreNonFatalErrors);<br />
at System.Data.SqlClient.SqlDataReaderSmi.Read();<br />
at Microsoft.Ssdqs.Infra.Database.Dao.Core.AKnowledgebaseAuditController.&lt;&gt;c__DisplayClass1. b__0(SqlDataReader reader);<br />
at Microsoft.Ssdqs.Infra.Database.Dao.DaoControllerBase`5.Execute();<br />
at Microsoft.Ssdqs.Core.Service.KnowledgebaseManagement.Managers.BaseKnowledgebaseManager.AuditKnowledgebaseActivity(IMasterContext context, BaseKnowledgebase knowledgebase, String originKnowledgebaseName, KnowledgebaseOperation activity);<br />
at Microsoft.Ssdqs.Core.Service.KnowledgebaseManagement.Managers.BaseKnowledgebaseManager.Add(IMasterContext context, BaseKnowledgebase knowledgebase);<br />
at Microsoft.Ssdqs.Core.Service.KnowledgebaseManagement.Managers.DQProjectManager.StartBatchActivity(IMasterContext context, BaseKnowledgebase knowledgebase, String identifier);<br />
at Microsoft.Ssdqs.Core.Service.KnowledgebaseManagement.Service.KnowledgebaseServiceConcrete.Execute(IMasterContext context, IServiceRequest request); at Microsoft.Ssdqs.Flow.Services.ExecuteServiceFlow.Process(IMasterContext context);<br />
--- End of inner exception stack trace ---; </td>
</tr>
</tbody>
</table>
<p>This error occurs because the length of the name of the data quality project created&nbsp;as a result of running the&nbsp;SSIS package is more than the maximum allowed number of characters (128) in DQS. Whenever, you run an SSIS package containing a
<strong>DQS Cleansing</strong> component, a data quality project is automatically created in DQS with the following naming convention:<br />
<br />
&lt;<em>SSIS Package Name</em>&gt;.&lt;<em>DQS Cleansing component name</em>&gt;_DateTimeStamp_{GUID}_GUID.<br />
<br />
For example: MyPackage.DQSCleansingExample_6/9/2012 1:43:48 PM_{0E27D092-5153-4F4C-848D-7D78AC3BB672}_cf0aa4f5-3cac-431d-9a71-32e124322e3c<br />
<br />
<strong>To&nbsp;resolve this issue</strong>, shorten the names of your package and the DQS Cleansing component to ensure that the length of the automatically generated data quality project name is less than 128 characters.</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="DQSCleansingComponentErrorAnotherServer">Error while running an SSIS package containing a DQS Cleansing component targeting another Data Quality Server</a></h1>
<p>You might receive the following error when running an SSIS package containing DQS Cleansing component:
</p>
<table cellspacing="0" cellpadding="0" style="width:100%;border-collapse:collapse;">
<tbody>
<tr>
<td style="padding-left:5px;font-family:consolas,&#39;lucida console&#39;,&#39;courier new&#39;,courier,monospace;">
DFT_ProcessWorkData:Error: Microsoft.Ssdqs.Infra.Exceptions.EntryPointException: The Knowledge Base does not exist [Id :
<i>&lt;KNOWLEDGE_BASE_ID&gt;</i>]. at Microsoft.Ssdqs.Proxy.Database.DBAccessClient.Exec() at Microsoft.Ssdqs.Proxy.EntryPoint.KnowledgebaseManagementEntryPointClient.DQProjectGetById(Int64 id) at Microsoft.Ssdqs.Component.DataCorrection.Logic.DataCorrectionComponent.PostExecute()
 at Microsoft.SqlServer.Dts.Pipeline.ManagedComponentHost.HostPostExecute(IDTSManagedComponentWrapper100 wrapper)<br />
<br />
DFT_ProcessWorkData:Error: System.NullReferenceException: Object reference not set to an instance of an object. at Microsoft.Ssdqs.Component.DataCorrection.Logic.DataCorrectionComponent.ProcessChunk(ReadOnlyCollection`1 fieldMappings, ReadOnlyCollection`1 records,
 CorrectedRecordsStatusStatistics&amp; correctedRecordsTotalStatusStatistics) at Microsoft.Ssdqs.Component.DataCorrection.Logic.DataCorrectionComponent.ProcessInput(Int32 inputID, PipelineBuffer buffer) at Microsoft.SqlServer.Dts.Pipeline.ManagedComponentHost.HostProcessInput(IDTSManagedComponentWrapper100
 wrapper, Int32 inputID, IDTSBuffer100 pDTSBuffer, IntPtr bufferWirePacket)<br />
<br />
DFT_ProcessWorkData:Error: An unexpected error occurred in the DQS infrastructure. System.NullReferenceException: Object reference not set to an instance of an object. at Microsoft.Ssdqs.Component.DataCorrection.Logic.DataCorrectionComponent.ProcessChunk(ReadOnlyCollection`1
 fieldMappings, ReadOnlyCollection`1 records, CorrectedRecordsStatusStatistics&amp; correctedRecordsTotalStatusStatistics)
</td>
</tr>
</tbody>
</table>
<p>This error occurs if the SSIS package is run against a Data Quality Server installation, which is different&nbsp;from the one against which the SSIS package&nbsp;was created. The Data Cleansing component in the SSIS package internally stores the &quot;ID&quot; of the knowledge
 base against which it is mapped instead of storing the &quot;name&quot; of the knowledge base. The Knowledge Base ID for the same knowledge bases is different in diffferent Data Quality Server installations. Hence, the DQS cleansing component is unable to locate the
 Knowledge Base ID for the same knowledge base on another Data Quality Server installation, and throws this error.
<br />
<strong><br />
To&nbsp;resolve this issue</strong>, before running the SSIS package against the new Data Quality Server installation, edit the package to change the connection string to point to the new Data Quality Server. This changes the Knowledge Base ID in the package accordingly,
 and you will be able run&nbsp;the package&nbsp;succesfully against the new Data Quality Server installation.</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="DQSCleansingNoKBs">Can&#39;t see any knowledge bases in the drop-down list of the DQS Cleansing connection manager in SSIS</a></h1>
<p>While trying to set up a connection to the Data Quality Server on the local computer using the DQS Cleansing component in SSIS, you cannot see any of the knowledge bases in the drop-down list in the DQS Cleansing connection manage.
</p>
<p>This occurs if you specified <strong>local</strong> as the server name in the connection manager. In this case, the knowledge base drop-down list will be empty:<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/0285.Issue1.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/0285.Issue1.png" style="border-width:0px;border-style:solid;" /></a></p>
<p>To&nbsp;resolve this issue, specify the local server name as <strong>(local)</strong>:<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/5826.Issue2.png"></a><br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/5826.Issue2.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/5826.Issue2.png" style="border-width:0px;border-style:solid;" /></a></p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="DQSCleansingEditDeleteKB">Error: The attempt to update or delete a DAO object of type &#39;AKnowledgebase&#39; with id
<em>&lt;ID&gt;</em> has failed because the object is not up to date or is being deleted from the database</a></h1>
<p>You might receive this error while running a cleansing operation either from the Data Quality Client or DQS Cleansing component in SSIS.</p>
<p>This primarily occurs if you are running out of space on your computer, and also if you running a version of SQL Server 2012 prior to SP1. You can find detailed information about this issue
<a href="http://social.msdn.microsoft.com/Forums/sqlserver/en-US/480c87e8-a2e9-4239-ba51-4a1bc2053caa/apply-business-rules-using-data-quality-servicessystemnullreferenceexceptiontask-buffer-failed?forum=sqldataqualityservices">
here</a>.</p>
<p><strong>To resolve this issue</strong>, we recommend that you install the SQL Server 2012 SP1 release or later as space optimization for DQS was included in this update to fix the above issue. Also, consider regularly deleting the projects created while
 running the SSIS package containing the DQS Cleansing component that you do not require anymore to ensure you have enough space.</p>
<a href="http://social.technet.microsoft.com/wiki/contents/articles/3777.troubleshoot-operational-issues-in-data-quality-services-dqs-en-us.aspx#top">Return to Top</a>
<hr />
<h1><a name="See_Also"></a>See Also</h1>
<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/hh213042%28SQL.110%29.aspx">Data Quality Services Features and Tasks</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/3776.aspx" target="_blank">Troubleshoot Installation and Configuration Issues in Data Quality Services (DQS)</a>
</li><li><a href="http://social.technet.microsoft.com/wiki/contents/articles/4385.data-quality-services-dqs.aspx">DQS Resources on TechNet Wiki</a>&nbsp;
</li></ul>
<p>&nbsp;</p>

</div>
    
    