---
layout: default
title: Troubleshooting FIM 2010&#58; WebServices MA - Failed to Update Discovery - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#OVERVIEW_PURPOSE_GOAL">OVERVIEW / PURv class="content-fragment-bottom fiji-content-fragment-bottom"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div></div></div>
<div class="content-fragment page no-wrapper" id="fragment-6615">
<div class="content-fragment-inner fiji-content-fragment-inner"><div class="content-fragment-top fiji-content-fragment-top"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div><div class="content-fragment-content">

<div class="full-post-header"></div>
<div class="full-post">
    <h1 class="post-name">Troubleshooting FIM 2010: WebServices MA - Failed to Update Discovery</h1>
    

    <div class="post-content user-defined-markup">

<div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a hrePOSE / GOAL</a></li><li class="hierarchy-item"><a href="#PROBLEM_STATEMENT">PROBLEM STATEMENT</a></li><li class="hierarchy-item"><a href="#TROUBLESHOOTING">TROUBLESHOOTING</a></li><li class="hierarchy-item"><a href="#WEBSERVICES_VERBOSE_LOGGING">WEBSERVICES VERBOSE LOGGING</a></li><li class="hierarchy-item"><a href="#CAUSE">CAUSE</a></li><li class="hierarchy-item"><a href="#RESOLUTION">RESOLUTION</a></li><li class="hierarchy-item"><a href="#ADDITIONAL_INFORMATION">ADDITIONAL INFORMATION</a></li></ul><div class="hierarchy-list-footer"> </div></div><br />
<table>
<tbody>
<tr>
<td>
<h2><a name="OVERVIEW_PURPOSE_GOAL"></a>OVERVIEW / PURPOSE / GOAL</h2>
</td>
</tr>
<tr>
<td>
<blockquote dir="ltr" style="margin-right:0px;">
<p>My goal of this wiki is to provide knowledge and information on the WebServices Connector for FIM 2010.&nbsp; This particular wiki is going to cover information on the Web Services Configuration Tool, and an error that was encountered, and what was done to troubleshoot
 it, and what the resolution was here.</p>
</blockquote>
</td>
</tr>
<tr>
<td>
<h2><a name="PROBLEM_STATEMENT"></a>PROBLEM STATEMENT</h2>
</td>
</tr>
<tr>
<td>
<blockquote dir="ltr" style="margin-right:0px;">
<p>In this case we were attempting to create a new configuration file to connect to the PeopleSoft 9.1 web service.&nbsp; We enter the address information into the Web Service window, as well as the user information on the second screen and then click next to initiate
 the discovery of the web service.&nbsp; During the discovery, we receive an error stating &quot;Failed to Update Discovery&quot;.&nbsp;
</p>
</blockquote>
</td>
</tr>
<tr>
<td>
<h2><a name="TROUBLESHOOTING"></a>TROUBLESHOOTING</h2>
</td>
</tr>
<tr>
<td>
<blockquote dir="ltr" style="margin-right:0px;">
<p>To troubleshoot the issue we&nbsp;<a href="http://social.technet.microsoft.com/wiki/contents/articles/12427.reference-how-to-enable-logging-for-the-webservices-connector.aspx">enabled verbose logging</a> on the WebServices Connector for FIM 2010</p>
</blockquote>
</td>
</tr>
<tr>
<td>
<h2><a name="WEBSERVICES_VERBOSE_LOGGING"></a>WEBSERVICES VERBOSE LOGGING</h2>
</td>
</tr>
<tr>
<td>2012-07-18T11:22:00 [2840:972] Error&nbsp;&nbsp; - Workspace:DiscoveryForSave : An exception was thrown while running a WSDL import extension: System.ServiceModel.Channels.TransportBindingElementImporter<br />
Error: Invalid URI: The hostname could not be parsed.<br />
--------- Outer Exception Data ---------<br />
Message: An exception was thrown while running a WSDL import extension: System.ServiceModel.Channels.TransportBindingElementImporter<br />
Error: Invalid URI: The hostname could not be parsed.<br />
Exception root Exception type: System.ServiceModel.Description.WsdlImporter&#43;WsdlImportException<br />
Source: System.ServiceModel<br />
Stack Trace:&nbsp;&nbsp;&nbsp; at System.ServiceModel.Description.WsdlImporter.ImportWsdlPort(Port wsdlPort, ErrorBehavior errorBehavior)<br />
&nbsp;&nbsp; at Microsoft.IdentityManagement.MA.WebServices.WebServices.ServiceDescriptionProvider.GenerateEndpoints(ServiceContractGenerator generator)<br />
&nbsp;&nbsp; at Microsoft.IdentityManagement.MA.WebServices.WebServices.WsdlCompiler.Compile(String assemblyFileName, String configurationFileName)<br />
&nbsp;&nbsp; at Microsoft.IdentityManagement.MA.WebServices.ConfigurationTool.Misc.Workspace.DiscoveryForSave(Boolean compile)<br />
Target Site: ImportWsdlPort<br />
&nbsp;--------- Inner Exception Data ---------<br />
&nbsp;Message: An exception was thrown while running a WSDL import extension: System.ServiceModel.Channels.TransportBindingElementImporter<br />
Error: Invalid URI: The hostname could not be parsed.<br />
&nbsp;Exception root Exception type: System.InvalidOperationException<br />
&nbsp;Source: System.ServiceModel<br />
&nbsp;Stack Trace:&nbsp;&nbsp;&nbsp; at System.ServiceModel.Description.WsdlImporter.CallImportEndpoint(WsdlEndpointConversionContext endpointConversionContext)<br />
&nbsp;&nbsp; at System.ServiceModel.Description.WsdlImporter.ImportWsdlPort(Port wsdlPort, ErrorBehavior errorBehavior)<br />
&nbsp;Target Site: CallImportEndpoint<br />
&nbsp; --------- Inner Exception Data ---------<br />
&nbsp; Message: Invalid URI: The hostname could not be parsed.<br />
&nbsp; Exception root Exception type: System.UriFormatException<br />
&nbsp; Source: System<br />
&nbsp; Stack Trace:&nbsp;&nbsp;&nbsp; at System.Uri.CreateThis(String uri, Boolean dontEscape, UriKind uriKind)<br />
&nbsp;&nbsp; at System.ServiceModel.Description.WsdlImporter.WSAddressingHelper.ImportAddress(Port wsdlPort)<br />
&nbsp;&nbsp; at System.ServiceModel.Channels.TransportBindingElementImporter.ImportAddress(WsdlEndpointConversionContext context, TransportBindingElement transportBindingElement)<br />
&nbsp;&nbsp; at System.ServiceModel.Description.WsdlImporter.CallImportEndpoint(WsdlEndpointConversionContext endpointConversionContext)<br />
&nbsp; Target Site: CreateThis</td>
</tr>
<tr>
<td>
<h2><a name="CAUSE"></a>CAUSE</h2>
</td>
</tr>
<tr>
<td>
<blockquote dir="ltr" style="margin-right:0px;">
<p>Discovered that the default port 80 was not being used.</p>
</blockquote>
</td>
</tr>
<tr>
<td>
<h2><a name="RESOLUTION"></a>RESOLUTION</h2>
</td>
</tr>
<tr>
<td>
<blockquote dir="ltr" style="margin-right:0px;">
<p>Added the correct port to the address information, and everything worked successfully.<br />
<br />
Here is an illustration ( sample )&nbsp;of what it should look like with the port number.<br />
<br />
<a href="http://social.technet.microsoft.com/wiki/cfs-file.ashx/__key/communityserver-wikis-components-files/00-00-00-00-05/4075.portnumberinaddress.png"><img alt=" " src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/4075.portnumberinaddress.png" style="border-width:0px;border-style:solid;" /></a></p>
</blockquote>
</td>
</tr>
<tr>
<td>
<h2><a name="ADDITIONAL_INFORMATION"></a>ADDITIONAL INFORMATION</h2>
</td>
</tr>
<tr>
<td>
<blockquote dir="ltr" style="margin-right:0px;">
<p><a href="http://social.technet.microsoft.com/wiki/contents/articles/11405.reference-fim-landing-page-resource-wiki-page-index-en-us.aspx">FIM LANDING PAGE: Resource Wiki Page Index</a><br />
<a href="http://social.technet.microsoft.com/wiki/contents/articles/12427.reference-how-to-enable-logging-for-the-webservices-connector.aspx">How to enable verbose logging for the WebServices Connector</a></p>
</blockquote>
</td>
</tr>
</tbody>
</table>
<br />

</div>
    
    