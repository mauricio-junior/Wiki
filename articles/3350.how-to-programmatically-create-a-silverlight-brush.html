---
layout: default
title: How to Programmatically Create a Silverlight Brush - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<div id="mainBody">
<p>To create a Silverlight for Windows Embedded brush programmatically, you need to understand brush opacity so that you don’t inadvertently paint with a transparent brush.</p>
<div>
<div class="section" id="sectionSection0">
<p>In the <a href="http://go.microsoft.com/fwlink/?LinkID=219830&amp;clcid=0x409" target="_blank">
Mastermind code sample</a>, created by using Silverlight for Windows Embedded, I chose to programmaticat-fragment page no-wrapper" id="fragment-6615">
<div class="content-fragment-inner fiji-content-fragment-inner"><div class="content-fragment-top fiji-content-fragment-top"><div class="r1 fiji-r1"></div><div class="r2 fiji-r2"></div><div class="r3 fiji-r3"></div><div class="r4 fiji-r4"></div></div><div class="content-fragment-content">

<div class="full-post-header"></div>
<div class="full-post">
    <h1 class="post-name">How to Programmatically Create a Silverlight Brush<lly create the brushes that I would use to paint the black and white feedback pegs that display how accurate the player’s guess is. I chose not to create
 these brushes using Expression Blend because I don’t need brushes that have a gradient or other special visual effects.</p>
<a href="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/8547.MastermindGameShell.jpg"><img alt="Mastermind Game" src="http://social.technet.microsoft.com/wiki/resized-image.ashx/__size/550x0/__key/communityserver-wikis-components-files/00-00-00-00-05/8547.MastermindGameShell.jpg" style="border:0px solid currentcolor;width:340px;height:324px;" /></a>
<p>One of the issues I encountered when I first created a brush was that I couldn’t see anything happen on the screen when I used the brush to paint. Consider the following code, located found in the
<code>MainPage::InitializeMastermind()</code> function in the MainPage.cpp file of the Mastermind code sample, that I used to create a brush. In this code sample I have removed the error handling code and made other minor changes for clarity.</p>
<div class="code" style="border:1px solid currentcolor;overflow:auto;margin-bottom:10px;">
<pre>IXRApplicationPtr pApplication = NULL;
IXRSolidColorBrushPtr pWhiteBrush = NULL;
GetXRApplicationInstance( &amp;pApplication );
COLORREF WhiteColor = RGBA(255, 255, 255, 255); // set the &#39;a&#39; argument = 255 for full opacity -- we don&#39;t want invisible brushes
pApplication-&gt;CreateObject( &amp;pWhiteBrush );</pre>
</div>
<p>When I first created the white brush, I used the <code>RGB</code> macro to create the
<code>COLORREF</code> value. But when I used the brush, nothing seemed to happen. The problem is that
<code>COLORREF</code> has an opacity component, and if you use the <code>RGB</code> macro to generate a
<code>COLORREF</code>, the opacity is set to 0 by default, which means it is transparent. I was painting with a transparent brush!</p>
<p>The solution to the transparency issue is to use the <code>RGBA</code> macro, with which you can set the alpha value. The alpha value ranges from 0 (fully transparent) to 255 (fully opaque). When I used the
<code>RGBA</code> macro and specified the alpha value that corresponds to fully opaque, I could see on the screen the effects of painting with the brush.<br />
<br />
</p>
<hr />
</div>
</div>
<h2 class="heading"><a name="See_Also"></a>See Also</h2>
<div class="section" id="seeAlsoSection">
<ul>
<li><a class="ExistingPageLink" href="/wiki/contents/articles/3352.mastermind-a-series-on-using-silverlight-for-windows-embedded-windows-embedded-compact-7.aspx" title="Click to view the page titled: Mastermind: A Series on Using Silverlight for Windows Embedded">Mastermind: A Series on Using Silverlight for Windows Embedded</a><a href="http://go.microsoft.com/fwlink/?LinkID=219830&amp;clcid=0x409" target="_blank"></a>
</li><li><a href="http://go.microsoft.com/fwlink/?LinkID=219830&amp;clcid=0x409" target="_blank">Mastermind code sample</a>&nbsp;(MSDN Code Gallery)
</li><li><a href="http://technet.microsoft.com/en-us/library/bb412383.aspx" title="Silverlight Brushes Overview" target="_blank">Silverlight Brushes Overview</a>&nbsp;(TechNet Library)
</li><li><a href="http://msdn.microsoft.com/en-us/library/gg159710(winembedded.70).aspx" target="_blank">RGBA</a>&nbsp;(MSDN Library)
</li><li><a href="http://msdn.microsoft.com/en-us/library/ee505694.aspx" target="_blank">COLORREF</a>&nbsp;(MSDN Library)
</li></ul>
<br />
</div>
</div>

</div>
    
    