---
layout: default
title: SharePoint 2013&#58; Cumulative des sites grâce à la recherche et Content Search (fr-FR) - TechNet Articles - United States (English) - TechNet Wiki
weight: 3
---

<div class="post-content user-defined-markup">

<p style="text-align:left;"><div class="table-of-contents"><h2 class="title">Table of Contents</h2><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Introduction">Introduction</a></li><li class="hierarchy-item"><a href="#Site_Roll_Up">Site Roll Up</a></li><li class="hierarchy-item"><a href="#Contexte">Contexte</a></li><li class="hierarchy-item"><a href="#Content_Search">Content Search</a></li><li class="hierarchy-item"><a href="#Comment_faire">Comment faire:</a></li><li class="hierarchy-item"><a href="#Conclusion">Conclusion</a></li><li class="hierarchy-item"><a href="#Les_avantages_de_travailler_ainsi">Les avantages de travailler ainsi ?</a></li><li class="hierarchy-item"><a href="#Extrawork">Extrawork</a><div class="hierarchy-list-header"> </div><ul class="hierarchy-list"><li class="hierarchy-item"><a href="#Number_of_items_to_show">Number of items to show</a></li><li class="hierarchy-item"><a href="#Large_Picture">Large Picture</a></li></ul><div class="hierarchy-list-footer"> </div></li><li class="hierarchy-item"><a href="#Exemples_Filtres">Exemples Filtres</a></li></ul><div class="hierarchy-list-footer"> </div></div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<h1><a name="Introduction"></a><span>Introduction</span></h1>
<p>Cela fait très longtemps que j’avais plus blogué (du verbe&nbsp;blogger – petite dédicace a Jamel Debouzze qui très certainement lit mes articles avec impatience&nbsp;J) &nbsp;en français mais aujourd’*** je reprends mon courage à 2 mains et je recommence…</p>
<p>Comparé à d’autres contributeurs francophones j’ai beaucoup plus de chance car sur Bruxelles il fait 20 degrés maximum (je plaints les contributeurs qui sont à la mer et qui n’osent pas allumer leurs portables&nbsp;car je sais – choisir entre «&nbsp;<strong>la mer,
 40 degrés à l’ombre</strong>&nbsp;» et «<strong>écrire un article dans sa chambre</strong>» et un choix très difficile…) surtout sachant que mon dernier article en français date du 11/11/2012:
<span style="color:#0da4d3;"><a href="http://gknzcfc.net/subsite/sharepoint-2010-best-practices-like-cristiano-ronaldo.html">http://gknzcfc.net/subsite/sharepoint-2010-best-practices-like-cristiano-ronaldo.html</a></span></p>
<h1><a name="Site_Roll_Up"></a><span>Site Roll Up</span></h1>
<p>Nous savons tous qu’avec la venue de SharePoint 2013 -l’outil de collaboration le plus convoité pour le moment – une nouvelle ère a commencé. Surtout avec la modification de l’architecture du service applicative «&nbsp;SEARCH&nbsp;» qui arbitre dorénavant FAST&nbsp;; le
 monde est bien meilleur.</p>
<p>Mais quid, si je vous dis que nous pouvons faire «&nbsp;<strong>plus</strong>&nbsp;» que la
<strong>recherche</strong> avec ce service applicative&nbsp;?</p>
<p>Une demande que toute personne à déjà reçue dans sa carrière de consultance est la suivante&nbsp;:
<strong>«&nbsp;I want a page with all my sites and subsites</strong>&nbsp;». Je sais par expérience que cette demande était réalisable mais demandait beaucoup de temps et d’énergies avec les éditions précédentes de SharePoint.&nbsp; Grace à la recherche de SharePoint 2013
 il nous sera plus facile – vraiment plus facile – de réaliser ceci.</p>
<h1><a name="Contexte"></a><span>Contexte</span></h1>
<p>Prenons un exemple concret mais très simple à la fois pour réalisation. Nous avons une collection de site qui héberge 2 sites.</p>
<ul>
<li>Pegasus </li><li>Perseus </li></ul>
<div class="wp-caption aligncenter" id="attachment_534" style="width:480px;">
<p style="text-align:center;"><a href="http://gokanx.files.wordpress.com/2013/08/content-search1.png"><img width="470" height="127" class="size-full wp-image-534" alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search1.png?w=705&amp;h=191" /></a></p>
<div style="text-align:left;"><a href="http://gokanx.files.wordpress.com/2013/08/content-search1.png">&nbsp;</a></div>
<p>&nbsp;</p>
<h1 class="wp-caption-text"><a name="Content_Search"></a>Content Search<span style="font-size:12.1px;font-family:&#39;Segoe UI&#39;,&#39;Lucida Grande&#39;,Arial,Verdana,Helvetica,sans-serif;color:#333333;">&nbsp;</span></h1>
</div>
<p>Le but de cet exercice (blogpost) et d’afficher ces 2 sites au niveau de la collection site pour une navigation plus simple. Car la
<strong>Quick Launch</strong> ou <strong>Navigation bar</strong> sont assez limité quand on a un bon nombre de sites.</p>
<strong>
<h1><a name="Comment_faire"></a><span><br />
Comment faire:</span></h1>
</strong>
<p>Il est tout à fait logique d’améliorer les composants web de la recherche si la recherche en elle-même est améliorée. Nous avons dorénavant approximatif &nbsp;10 composant web &nbsp;qui sont dédié pour la recherche.</p>
<p>La <strong>Content Search Web Part</strong> est une des grandes nouveautés de SharePoint.&nbsp; Grace au «&nbsp;
<strong>Continious crawl</strong>&nbsp;» nous pouvons exécuter des query en direct et nous ne devons plus attendre le prochain crawl qui débutera très certainement après des heures.</p>
<p>Définition du composant web selon Microsoft&nbsp;:</p>
<pre><em>Content Search Web Part will allow you to show items that are results of a search query you specify. <br />When you add it to the page, this Web Part will show recently modified items from the current site. You can change this setting to show items from another site or list by editing the Web Part and changing its search criteria. <br />As new content is discovered by search, this Web Part will display an updated list of items each time the page is viewed.</em></pre>
<p>Pour ajouter le composant web souhaité&nbsp;; procédez de la manière suivante&nbsp;:</p>
<ul>
<li><strong>Editer</strong> votre page web </li><li>Cliquer sur <strong>Web Part</strong> </li><li>Glisser vers <strong>Content Rollup</strong> </li><li>Ajouter la “<strong>Content Search</strong>” </li></ul>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_535" style="width:480px;"><a href="http://gokanx.files.wordpress.com/2013/08/content-search2.png"><img width="470" height="185" class="size-full wp-image-535" alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search2.png?w=705&amp;h=279" /></a>
<p class="wp-caption-text">Content Search</p>
</div>
<p>&nbsp;</p>
<p>Ne soyez pas effrayé si vous voyez des carrés avec des points d’interrogation a côté des chiffres bizarres. Par défaut et j’insiste bien sur le mot par défaut le but de ce composant web est de montrer les éléments qui ont été modifié récemment.</p>
<p style="text-align:center;">&nbsp;</p>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_541" style="width:283px;"><img width="273" height="205" class=" wp-image-541 " alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/azerty2.jpg?w=410&amp;h=308" />
<p class="wp-caption-text">Content Search</p>
</div>
<p>Le but de ce composant web est que l’on peut changer les query(s) en direct. Pour cela vous devez éditer votre page web puis éditer votre
<strong>Content Search</strong>.</p>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_542" style="width:197px;"><img width="187" height="329" class=" wp-image-542 " alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search7.png?w=281&amp;h=494" />
<p class="wp-caption-text">Content Search</p>
</div>
<p style="text-align:center;">&nbsp;</p>
<p>Nativement ou comme beaucoup d’autres préfèrent «&nbsp;out-of-the-box&nbsp;» SharePoint vous propose le mode simple après avoir cliqué sur le bouton «&nbsp;<strong>change query</strong>&nbsp;». Il y a des query proposé par SharePoint qui sont très utiles.</p>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_543" style="width:480px;"><img width="470" height="230" class="size-full wp-image-543" alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search8.png?w=705&amp;h=345" />
<p class="wp-caption-text">Content Search</p>
</div>
<p style="text-align:center;">&nbsp;</p>
<p>Cependant pour notre besoin et pour modifier le query il nous faut cliquer sur «&nbsp;<strong>Switch to Advanced Mode&nbsp;</strong>».</p>
<p>Sur cette page on peut créer notre query grâce aux keywords et même raffiner notre query grâce aux filtres.</p>
<p>Changeons le keyword vers&nbsp;:&nbsp;<strong>«&nbsp;only return sites</strong>&nbsp;» et cliquer sur «&nbsp;<strong>Add Keyword Filter</strong>&nbsp;» puis tester votre query. Vous allez voir à votre droite que votre query vous montrera tous les sites qui sont sous votre collection
 de site.</p>
<p>Si le résultat vous convient cliquer sur OK pour sauvegarder.</p>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_544" style="width:480px;"><img width="470" height="281" class="size-full wp-image-544" alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search9.png?w=705&amp;h=422" />
<p class="wp-caption-text">Content Search<span style="font-size:12.1px;">&nbsp;</span></p>
</div>
<p>Wow&nbsp;! Excellent, je reçois mes sites à la racine. Cependant les carrés «&nbsp;horrible&nbsp;» me gâche-ce magique boulot de la Web Part.<span style="font-size:12.1px;">&nbsp;</span></p>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_546" style="width:283px;"><img width="273" height="205" class=" wp-image-546 " alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/azerty21.jpg?w=410&amp;h=308" />
<p class="wp-caption-text">Content Search</p>
</div>
<p>Revérifions dans les paramètres du composant web si on peut modifier les préférences. Il suffit de modifier le
<strong>Picture URL</strong> et de sélectionner «&nbsp;SiteLogo&nbsp;».. SharePoint par défaut nous mappe des attributs. Il va de soi que ces éléments soit modifiables. Par exemple sur la 3ieme ligne j’ai ajouté l’attribut
<strong>CreatedBy</strong> pour avoir plus informations sur mes sites.</p>
<p style="text-align:center;">&nbsp;</p>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_547" style="width:312px;"><img width="302" height="437" class="size-full wp-image-547" alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search11.png?w=470" />
<p class="wp-caption-text">Content Search</p>
</div>
<p>&nbsp;</p>
<h1><a name="Conclusion"></a><span>Conclusion</span></h1>
<p>Je sauvegarde tout et fait un dernier test.&nbsp; L’image ne s’affiche pas directement&nbsp;; j’ai dû attendre une minute pour voir mes images mais le résultat en a valu la peine – enfin si vous l’appréciez&nbsp;^^</p>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_548" style="width:396px;"><img width="386" height="240" class="size-full wp-image-548" alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search12.png?w=470" />
<p class="wp-caption-text">Content Search</p>
</div>
<p style="text-align:center;">&nbsp;</p>
<h1><a name="Les_avantages_de_travailler_ainsi"></a>Les avantages de travailler ainsi&nbsp;?</h1>
<ul>
<li>A la création d’un nouveau site l’ajout se faire automatiquement. </li><li>Les changements sont pris automatiquement en charge </li><li>Pas de dépendance entre le web part et le site en question </li><li>Un flux automatisé et facile à intégrer. </li><li>… </li></ul>
<p>Happy SharePointing&nbsp;!</p>
<p>Ressources&nbsp;:</p>
<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/jj163789.aspx"><span style="color:#0da4d3;">http://msdn.microsoft.com/en-us/library/jj163789.aspx</span></a>
</li><li><a href="http://technet.microsoft.com/en-us/library/jj679900.aspx"><span style="color:#0da4d3;">http://technet.microsoft.com/en-us/library/jj679900.aspx</span></a>
</li><li><a href="http://info.axceler.com/Blog/bid/116286/Content-Query-Web-Part-vs-Content-Search-Web-Part"><span style="color:#0da4d3;">http://info.axceler.com/Blog/bid/116286/Content-Query-Web-Part-vs-Content-Search-Web-Part</span></a>
</li><li><a href="http://www.sharepoint-journey.com/search-results-and-content-search-webparts-sharepoint-2013.html"><span style="color:#0da4d3;">http://www.sharepoint-journey.com/search-results-and-content-search-webparts-sharepoint-2013.html</span></a>
</li><li><a href="http://en.share-gate.com/blog/roll-up-sharepoint-2013-sites-using-search"><span style="color:#0da4d3;">http://en.share-gate.com/blog/roll-up-sharepoint-2013-sites-using-search</span></a>
</li></ul>
<h1><a name="Extrawork"></a><span>Extrawork</span></h1>
<h2><a name="Number_of_items_to_show"></a><span>Number of items to show&nbsp;</span></h2>
<p>Si votre page d’accueil est déjà rempli d’informations et si vous n’avez pas assez de place pour afficher plusieurs sites vous pouvez limiter l’affichage dans les propriétés. Cela génèrera des buttons «&nbsp; à gauche&nbsp;» et «&nbsp; à droite&nbsp;» très utile&nbsp;!&nbsp;</p>
<ul>
<li><strong>Number of items to show:</strong> 1 </li><li><strong>Control:</strong> List with Paging </li></ul>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_549" style="width:480px;"><img width="470" height="319" class="size-full wp-image-549" alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search13.png?w=705&amp;h=479" />
<p class="wp-caption-text">Content Search</p>
</div>
<p>&nbsp;</p>
<h2><a name="Large_Picture"></a><span>Large Picture</span></h2>
<p>Si vous aussi vous n’appréciez pas une image à moitié affiché&nbsp;; vous pouvez changer l’affichage vers Large Picture. Cela prendra un petit peu de place en plus mais l’affichage sera meilleur&nbsp;!</p>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_551" style="width:480px;"><img width="470" height="239" class="size-full wp-image-551" alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search14.png?w=705&amp;h=359" />
<p class="wp-caption-text">Content Search</p>
</div>
<br />
<h1><a name="Exemples_Filtres"></a><span>Exemples Filtres</span></h1>
<p>Affiche-moi tous les éléments qui n’appartiennent pas à Gokan Ozcifci&nbsp;:</p>
<p>&nbsp;</p>
<div class="wp-caption aligncenter" id="attachment_552" style="width:480px;"><img width="470" height="258" class="size-full wp-image-552" alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search15.png?w=705&amp;h=387" />
<p class="wp-caption-text">Content Search</p>
</div>
<p>Affiche-moi les listes et Library du 31/7/2013</p>
<div class="wp-caption aligncenter" id="attachment_553" style="width:480px;"><img width="470" height="262" class="size-full wp-image-553" alt="Content Search" src="http://gokanx.files.wordpress.com/2013/08/content-search16.png?w=705&amp;h=393" /></div>

</div>
    
    